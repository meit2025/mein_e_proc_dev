import{u as b,r as R,j as e}from"./app-U_zegbVk.js";import{F as _,a as l,b as i,d as c,e as m}from"./form-B67I_hmP.js";import{z as o,I as D,t as C}from"./index-B87xc01V.js";import{F as x,B as F}from"./button-DVWIOsCA.js";import{u as w}from"./index.esm-BF15fj1a.js";import{S as T}from"./scroll-area-DnPyJsOu.js";import{C as f}from"./CustomDatePicker-6XkDR5QK.js";import{a as p}from"./axiosInstance-dGRJnwR1.js";const h="/api/master/reimburse-period",G=`${h}/list`,v=`${h}/create`,y=s=>`${h}/detail/${s}`;function P({onSuccess:s,type:n=x.create,id:d}){var u=o.object({code:o.string(),start:o.date(),end:o.date()});let E={code:"",start:new Date,end:new Date};async function g(){let r=y(d);try{let t=await p.get(r);a.reset({id:t.data.data.id,code:t.data.data.code})}catch{}}const a=w({resolver:C(u),defaultValues:E}),{showToast:j}=b(),I=async r=>{try{const t=await p.post(v,r);s==null||s(!0),j(t.message,"success")}catch(t){s==null||s(!1),j(t.message,"error")}};return R.useEffect(()=>{d&&n==x.edit&&g()},[d,n]),e.jsx(T,{className:"h-[600px] w-full",children:e.jsx(_,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(I),children:[e.jsxs("table",{className:"text-xs mt-4 table font-thin",children:[e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("td",{children:e.jsx(l,{control:a.control,disabled:n==x.edit,name:"code",render:({field:r})=>e.jsxs(i,{children:[e.jsx(c,{children:e.jsx(D,{type:"text",placeholder:"Insert code",...r,value:r.value||"",onChange:t=>r.onChange(t.target.value)})}),e.jsx(m,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Start Date"}),e.jsx("td",{children:e.jsx(l,{control:a.control,name:"start",render:({field:r})=>e.jsxs(i,{children:[e.jsx(c,{children:e.jsx(f,{onDateChange:t=>r.onChange(t)})}),e.jsx(m,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"End Date"}),e.jsx("td",{children:e.jsx(l,{control:a.control,name:"end",render:({field:r})=>e.jsxs(i,{children:[e.jsx(c,{children:e.jsx(f,{onDateChange:t=>r.onChange(t)})}),e.jsx(m,{})]})})})]})]}),e.jsx("div",{className:"flex justify-end items-center",children:e.jsx(F,{type:"submit",children:"Save"})})]})})})}const z=Object.freeze(Object.defineProperty({__proto__:null,default:P},Symbol.toStringTag,{value:"Module"}));export{G,P as R,z as f};
