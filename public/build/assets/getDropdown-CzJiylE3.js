import{a as N}from"./axiosInstance-CshqfLOz.js";import{r as t}from"./app-DNiwnbrF.js";function m(n){return/^0+\d+$/.test(n)?n.replace(/^0+/,""):n}const x=(n="api/master/dropdown")=>{const[b,y]=t.useState(),[f,u]=t.useState([]),[D,s]=t.useState(!1);return{dataDropdown:f,dropdownOptions:b,getDropdown:async(p,e,d)=>{var i,l,w,c;s(!0);try{const h=(await N.get(n,{params:{name:e.name,id:e.id,search:e.search||"",tabelname:e.tabel,isNotNull:((i=e.where)==null?void 0:i.isNotNull)??"",key:((l=e.where)==null?void 0:l.key)??"",parameter:((w=e.where)==null?void 0:w.parameter)??"",declaration:e.declaration??"",groupBy:((c=e.where)==null?void 0:c.groupBy)??"",attribut:e.attribut??"",join:e.join??""},headers:{"Content-Type":"application/json"}})).data.data.map(a=>{const o=e.hiddenZero?m(a.label):a.label,r=e.hiddenZero?m(a.value):a.value,v=e.idType==="string"?String(r):r;return{...a,label:e.isMapping?`${o} - ${r}`:o,value:v}});if(d&&p!==""){const a=d.map(o=>o.name===p?{...o,options:h}:o);y(a)}u(h),s(!1)}catch(g){console.error("Error fetching dropdown options:",g)}},isLoading:D}};export{x as u};
