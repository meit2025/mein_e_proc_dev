import{r as p,u as st,j as e,b as rt}from"./app-BF9VprNY.js";import{d as nt,F as v,a as N,b as F,c as E,e as ot}from"./form-BAXyFpOK.js";import{z as s,t as it}from"./index-CjK7bO1H.js";import{d as de}from"./index-IG2iHVKp.js";import{B as lt}from"./button-DsiBp_6X.js";import{T as ct}from"./textarea-CVW_hO-g.js";import{u as dt,b as _e,c as pt}from"./index.esm-BlTzF_6d.js";import{S as ut}from"./scroll-area-CLytBUf9.js";import{S as pe}from"./separator-CJt2UG2d.js";/* empty css              */import{a as P}from"./axiosInstance-Dfgegu35.js";import{W as mt}from"./WorkflowComponent-mKmY5yBB.js";import{F as _t}from"./formSwitchCustom-DguY_7xZ.js";import{I as H}from"./input-C_AjEWau.js";import{S as ht,a as ft,b as gt,c as xt,d as jt}from"./select-C6FRi2p-.js";import{a as wt,C as bt,b as yt,c as Dt,d as St}from"./api-C1Ya95ai.js";import{G as ue,a as Tt}from"./api-BG2DVmVj.js";import{h as Y}from"./moment-C5S46NFB.js";import{BusinessTripType as b}from"./models-BXUHb0aS.js";import{u as T}from"./getDropdown-1Bi06Gb-.js";import{F as W}from"./formDropdown-B1_DtE5L.js";import{f as me}from"./rupiahCurrencyFormat-D0mkqwcl.js";import{BussinesTripDestination as vt}from"./BussinesTripDestination-BVE_3e1C.js";import{B as Nt}from"./Button-0qvctaKV.js";import"./app-DQK4SJPx.js";import"./index-p0PW3TAo.js";import"./utils-CJv9YrDK.js";import"./index-CaKXzYJP.js";import"./index-Do86ICEt.js";import"./index-Bb4qSo10.js";import"./createLucideIcon-DXd8R3ZI.js";import"./index-NS7MLPWQ.js";import"./index-C5jil27z.js";import"./index-CdQfGrrY.js";import"./index-BdQq_4o_.js";import"./createSvgIcon-CuUa2Oc6.js";import"./DefaultPropsProvider-CKVEdpy-.js";import"./Switch-43Mq7qoY.js";import"./createSimplePaletteValueFilter-B7hgBx4r.js";import"./SwitchBase-GeMWCnf9.js";import"./FormHelperText-ZSqAlzcR.js";import"./useControlled-BZ768hi0.js";import"./index-DYTf_1Lg.js";import"./index-BtHN5KW8.js";import"./Combination-GoBqpGQt.js";import"./index-BK4V5IoJ.js";import"./index-C0_CrepR.js";import"./CustomStatus-qICg6RA_.js";import"./TextField-CZNrcit6.js";import"./useSlot-BTWpEE3D.js";import"./tabs-481bMRgV.js";import"./index-B3Ze27h9.js";import"./BussinessDestinationForm-BMM2zBnE.js";import"./CustomDatePicker-B1oiuRtJ.js";import"./DetailAttedances-eSxuGccP.js";import"./DetailAllowance-oit6DusR.js";import"./chevrons-up-down-DA1h5qdx.js";import"./ResultTotalItem-hS4nSB89.js";import"./checkbox-DqXmULek.js";s.object({remark:s.string().min(1).max(50),reimburse_cost:s.number()});const Ft=1*1024*1024,It=["heic","image/jpeg","image/jpg","image/png","image/heic","image/heif","application/pdf"],Ya=({users:B,listPurposeType:he,pajak:$,costcenter:M,purchasingGroup:L,type:f,id:y,isAdmin:x,idUser:j,successSubmit:G})=>{const fe=s.object({purpose_type_id:s.string().min(1,"Purpose type required"),request_for:s.string().min(1,"Request is required"),cost_center_id:s.string().min(1,"Cost Center is required"),remark:s.string().min(1,"Remark is required"),attachmentOld:s.array(s.object({id:s.number(),url:s.string(),file_name:s.string()})).optional(),attachment:s.array(s.instanceof(File).refine(t=>It.includes(t.type),{message:"File type must be JPG, JPEG, PNG, HEIC or PDF"}).refine(t=>t.size<=Ft,{message:"File size must be less than 1MB"})),total_destination:s.number().min(1,"Total Destinantion Required"),cash_advance:s.boolean().nullable().optional(),total_percent:s.number().nullable().optional(),total_cash_advance:s.string().nullable().optional(),destinations:s.array(s.object({destination:s.string().min(1,"Destinantion is Required"),restricted_area:s.boolean().nullable().optional(),pajak_id:s.string().min(1,"Pajak is required"),purchasing_group_id:s.string().min(1,"Purchasing Group is required"),business_trip_start_date:s.date().optional(),business_trip_end_date:s.date().optional(),detail_attedances:s.array(s.object({date:s.date().optional(),shift_code:s.string().optional(),shift_start:s.string().optional(),shift_end:s.string().optional(),start_time:s.string().optional(),end_time:s.string().optional(),start_date:s.date().optional(),end_date:s.date().optional()})),allowances:s.array(s.object({name:s.string().optional(),code:s.string().optional(),default_price:s.number().optional(),type:s.string().optional(),subtotal:s.number().optional(),currency:s.string().optional(),detail:s.array(s.object({date:s.date().nullish(),request_price:s.any().optional()}))})).min(1,"Allowances tidak boleh kosong")}))}).superRefine(({cash_advance:t,total_percent:r,attachment:a},o)=>{if(f===b.create&&a&&a.length===0&&o.addIssue({path:["attachment"],code:s.ZodIssueCode.too_small,minimum:1,type:"array",inclusive:!0,message:"Attachment is required"}),t===!0)if(!r||r.toString().trim()==="")o.addIssue({code:s.ZodIssueCode.custom,path:["total_percent"],message:"Total Percent is required"});else{const i=Number(r);(isNaN(i)||i<1||i>100)&&o.addIssue({code:s.ZodIssueCode.custom,path:["total_percent"],message:"Total Percent must be a number between 1 and 100"})}}),[I,K]=p.useState("1"),n=dt({resolver:it(fe),defaultValues:{purpose_type_id:"",request_for:"",cost_center_id:"",remark:"",attachment:[],total_destination:1,cash_advance:!1,total_percent:0,total_cash_advance:"0",destinations:[{detail_attedances:[],allowances:[],destination:"",restricted_area:!1,pajak_id:"V0",purchasing_group_id:"",business_trip_start_date:new Date,business_trip_end_date:new Date}]}}),[A,U]=p.useState([]),[ge,xe]=p.useState(null),[Q,ee]=p.useState([]);function je(t){return/^0+\d+$/.test(t)?t.replace(/^0+/,""):t}function O(t){if(!/^\d{4}-\d{2}-\d{2}$/.test(t))return!1;const a=new Date(t);if(isNaN(a.getTime()))return!1;const[o,i,c]=t.split("-");return a.getFullYear()===parseInt(o,10)&&a.getMonth()+1===parseInt(i,10)&&a.getDate()===parseInt(c,10)}async function we(){const t=St(y);n.setValue("destinations",[]);try{const a=(await rt.get(t)).data.data,o=ue(a.purpose_type_id,a.request_for.id),i=await P.get(o);ee(i.data.data),te("",{name:"destination",id:"destination",tabel:"destinations",where:{key:"type",parameter:a.purpose_type.type}}),xe(a.request_no),U(a.attachments),n.setValue("attachmentOld",a.attachments),n.setValue("purpose_type_id",a.purpose_type_id.toString()),n.setValue("request_for",a.request_for.id.toString()),n.setValue("cost_center_id",je(a.cost_center.cost_center.toString())),n.setValue("remark",a.remarks),n.setValue("total_destination",a.total_destination),n.setValue("cash_advance",a.cash_advance==1),n.setValue("total_percent",Number(a.total_percent)||0),n.setValue("total_cash_advance",(a==null?void 0:a.total_cash_advance)!==null?me(a.total_cash_advance,!1):"0"),n.setValue("destinations",a.destinations.map(c=>({destination:c.destination,restricted_area:c.restricted_area==1,pajak_id:c.pajak.mwszkz,purchasing_group_id:c.purchasing_group.purchasing_group,business_trip_start_date:new Date(c.business_trip_start_date),business_trip_end_date:new Date(c.business_trip_end_date),detail_attedances:c.detail_attedances.map(d=>{const l={...d,date:O(d.date)?new Date(d.date):new Date(d.end_date.split("-").reverse().join("-")),start_date:O(d.start_date)?new Date(d.start_date):new Date(d.start_date.split("-").reverse().join("-")),end_date:O(d.end_date)?new Date(d.end_date):new Date(d.end_date.split("-").reverse().join("-"))};return console.log(l," newData"),l}),allowances:c.allowances.map(d=>({...d,default_price:parseInt(d.default_price),subtotal:parseInt(d.subtotal),detail:d.detail.map(l=>({...l,date:(l==null?void 0:l.date)!=null?new Date(l.date):null}))}))})))}catch{}}const{dataDropdown:be,getDropdown:te}=T(),[X,ye]=p.useState(x==="0"?j==null?void 0:j.toString():""),[De,Se]=p.useState([]);async function Te(){let t=x=="0"?j||0:X||0;f==b.clone&&(t=n.getValues("request_for"));const r=Dt(t)+`?id=${y}`,a=await P.get(r);Se(a.data.data)}async function ve(t){n.setValue("purpose_type_id",t||"");const r=x=="0"?j||"":X||"",a=ue(t,r),o=Tt(t);try{const i=await P.get(a),c=await P.get(o);ee(i.data.data),te("",{name:"destination",id:"destination",tabel:"destinations",where:{key:"type",parameter:c.data.data.purpose.type}})}catch(i){console.log(i)}}const[Ne,z]=p.useState([]),Fe=t=>{n.setValue("total_destination",parseInt(t,10)),K(t),ae(t),z([])},[Ie,J]=p.useState("destination1");p.useEffect(()=>{parseInt(I,10)<1?K("1"):J(`destination${I}`)},[I]);const{showToast:D}=st(),[Ce,k]=p.useState(!1),Pe=async t=>{var o;if(!await n.trigger()){const i=n.formState.errors;for(let c=0;c<se.length;c++)if((o=i==null?void 0:i.destinations)!=null&&o[c]){J(`destination${c+1}`);break}return}const a=re();if(a===0){D("Please add at least one destination","error");return}try{k(!0);const i=n.getValues("destinations"),c=ne(i),d=i==null?void 0:i.some(u=>u.restricted_area===!0),l=new FormData;if(l.append("is_restricted_area",d?"true":"false"),l.append("day",c.toString()),l.append("user_id",t.request_for??""),l.append("value",a.toString()),l.append("purpose_type_id",t.purpose_type_id??""),l.append("request_for",t.request_for??""),l.append("cost_center_id",t.cost_center_id??""),l.append("remark",t.remark??""),l.append("cash_advance",`${t.cash_advance}`),l.append("total_percent",`${t.total_percent}`),l.append("total_cash_advance",`${t.total_cash_advance}`),t.attachment.forEach((u,g)=>{u&&l.append(`attachment[${g}]`,u)}),l.append("total_destination",`${t.total_destination}`),t.destinations.forEach((u,g)=>{const m={...u,business_trip_start_date:Y(u.business_trip_start_date).format("YYYY-MM-DD"),business_trip_end_date:Y(u.business_trip_end_date).format("YYYY-MM-DD"),detail_attedances:u.detail_attedances.map(_=>({..._,date:Y(_.date).format("YYYY-MM-DD")})),allowances:u.allowances.map(_=>({..._,detail:_.detail.map(h=>({...h,date:(h==null?void 0:h.date)!=null?Y(h.date).format("YYYY-MM-DD"):null}))}))};l.append(`destinations[${g}]`,JSON.stringify(m))}),f==b.create)await de.Inertia.post(bt,l,{headers:{"Content-Type":"multipart/form-data"}}),D("succesfully created data","success");else{A.forEach((m,_)=>{m&&l.append(`file_existing[${_}]`,JSON.stringify(m))});const u=A.some(m=>m),g=t.attachment.some(m=>m);if(!u&&!g){D("Please add at least one attachment","error"),k(!1);return}await de.Inertia.post(`${yt}/${y}`,l,{headers:{"Content-Type":"multipart/form-data"}}),D("succesfully updated data","success")}setTimeout(()=>{k(!1)},1e3),G==null||G(!0)}catch{setTimeout(()=>{k(!1)},1e3)}};function ae(t){const r=parseInt(t||I),a=n.getValues("destinations")||[],o=[...a];if(r<a.length)o.splice(r);else if(r>a.length)for(let i=a.length;i<r;i++)o.push({destination:"",pajak_id:"V0",purchasing_group_id:"",business_trip_start_date:new Date,business_trip_end_date:new Date,restricted_area:!1,allowances:[],detail_attedances:[]});n.setValue("destinations",o)}const{fields:se,append:Ct,remove:Pt,update:Ee}=_e({control:n.control,name:"destinations"}),[Ae,ke]=p.useState(!1);p.useEffect(()=>{f==b.create&&ae(),Te()},[I,Q,x,j,X]);const[qe,Ve]=p.useState(!1),[C,Re]=p.useState({approvalRequest:[],approvalFrom:[],acknowledgeFrom:[],approvalFromStatusRoute:[]}),Ye=(t,r)=>{var a;return t.type==="total"?parseFloat(((a=r==null?void 0:r[0])==null?void 0:a.request_price)||0):r==null?void 0:r.reduce((o,i)=>o+parseFloat(i.request_price||0),0)},re=()=>n.getValues("destinations").reduce((a,o,i)=>{const d=(o.allowances||[]).reduce((l,u,g)=>{const m=n.getValues(`destinations.${i}.allowances.${g}.detail`),_=Ye(u,m);return l+_},0);return a+d},0),ne=t=>{const r=[];t.forEach(o=>{o.detail_attedances.forEach(i=>{i.start_date&&r.push(i.start_date),i.end_date&&r.push(i.end_date)})});const a=r.map(o=>new Date(o)).sort((o,i)=>o.getTime()-i.getTime());if(a.length===0)return 0;{const o=a[0],i=a[a.length-1];return Math.floor((i.getTime()-o.getTime())/(1e3*60*60*24))+1}},Be=async()=>{var t,r,a,o,i,c,d,l,u,g,m,_;try{const h=re(),R=n.getValues("destinations");if(h===0){D("Please fill the balance","error");return}const Qe=ne(R),et=R==null?void 0:R.some(Z=>Z.restricted_area===!0),S=await P.get("/check-approval",{params:{is_restricted_area:et,day:Qe,value:h,user_id:n.getValues("request_for"),type:"TRIP"}});if(S.data.status_code===200){const Z=(r=(t=S.data)==null?void 0:t.data)==null?void 0:r.approval.map(w=>(w==null?void 0:w.division_name)||null),tt=(o=(a=S.data)==null?void 0:a.data)==null?void 0:o.approval.map(w=>(w==null?void 0:w.name)||null),ce=[];(c=(i=S.data)==null?void 0:i.data)!=null&&c.hr&&ce.push((u=(l=(d=S.data)==null?void 0:d.data)==null?void 0:l.hr)==null?void 0:u.name);const at=(((g=S.data.data)==null?void 0:g.approval)??[]).map(w=>({status:"",name:w.name,dateApproved:""}));Re({approvalRequest:Z,approvalFrom:tt,acknowledgeFrom:ce,approvalFromStatusRoute:at}),Ve(!0)}}catch(h){D((_=(m=h==null?void 0:h.response)==null?void 0:m.data)==null?void 0:_.message,"error")}};p.useEffect(()=>{},[n.watch("destinations")]);const $e=t=>{U(r=>r.filter(a=>a.id!==t))},[Me,oe]=p.useState(!1),Le=t=>{oe(t)},ie=pt({control:n.control,name:"total_percent"}),[Ge,Oe]=p.useState(0),le=Ge;p.useEffect(()=>{f==b.clone&&oe(n.getValues("cash_advance")??!1);const r=parseFloat((ie||"0").toString())/100*le;n.setValue("total_cash_advance",me(r.toFixed(0),!1))},[ie,le]);const{dataDropdown:q,getDropdown:V}=T(wt),{dataDropdown:Xe,getDropdown:ze}=T(),{dataDropdown:Je,getDropdown:Ze}=T(),{dataDropdown:We,getDropdown:He}=T(),{dataDropdown:Ke,getDropdown:Ue}=T();return p.useEffect(()=>{(async()=>{y&&f==b.clone&&(await we(),ke(!0)),V("",{name:"name",id:"id",tabel:"users",hasValue:{key:n.getValues("request_for")?"id":"",value:n.getValues("request_for")??""},idType:"string"}),ze("",{name:"name",id:"id",tabel:"purpose_types",idType:"string",softDelete:!0}),Ze("",{name:"desc",id:"cost_center",tabel:"master_cost_centers",idType:"string",isMapping:!0,hiddenZero:!0}),He("",{name:"description",id:"mwszkz",tabel:"pajaks",idType:"string",isMapping:!0}),Ue("",{name:"purchasing_group_desc",id:"purchasing_group",tabel:"purchasing_groups",idType:"string",isMapping:!0})})()},[f]),p.useEffect(()=>{f!=b.clone&&x=="0"&&n.setValue("request_for",(j==null?void 0:j.toString())??"")},[]),e.jsx(ut,{className:"h-[600px] w-full ",children:e.jsx(nt,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(Pe),children:[e.jsxs("table",{className:"mt-4 text-xs font-thin reimburse-form-table",children:[e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Request No."}),e.jsx("td",{children:"ODR-YYYY-MM-XXXXXXXX"})]}),Ae&&e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"From Request No."}),e.jsx("td",{className:"text-sm",children:ge})]}),e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Request For ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("td",{children:e.jsx(W,{fieldLabel:"",options:q,fieldName:"request_for",isRequired:!0,disabled:x=="0",placeholder:"Select Employee",classNames:"mt-2 w-full",onSearch:(t,r)=>{const a=q==null?void 0:q.some(o=>o.label===t);t.length>0&&!a?V(t,{name:"name",id:"id",tabel:"users",search:t,idType:"string"}):t.length==0&&!a&&V("",{name:"name",id:"id",tabel:"users",idType:"string"})},onChangeOutside:t=>{ye(t),t===null&&z([])},onFocus:()=>{const t=n.getValues("request_for");V("",{name:"name",id:"id",tabel:"users",hasValue:{key:t?"id":"",value:t??""},idType:"string"})}})})]}),e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Bussiness Trip Purpose Type",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("td",{children:e.jsx(W,{fieldLabel:"",options:Xe,fieldName:"purpose_type_id",isRequired:!0,disabled:!1,placeholder:"Select Purpose Type",classNames:"mt-2 w-full",onChangeOutside:async(t,r)=>{await ve(t)}})})]}),e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Cost Center",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("td",{children:e.jsx(W,{fieldLabel:"",options:Je,fieldName:"cost_center_id",isRequired:!0,disabled:!1,placeholder:"Select Cost Center",classNames:"mt-2 w-full"})})]}),e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Remark",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("td",{children:e.jsx(v,{control:n.control,name:"remark",render:({field:t})=>e.jsxs(N,{children:[e.jsx(F,{children:e.jsx(ct,{placeholder:"Insert remark",...t,rows:4,className:"w-[300px]"})}),e.jsx(E,{})]})})})]}),e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["File Attachment",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("td",{children:e.jsx(v,{control:n.control,name:"attachment",render:({field:t})=>e.jsxs(N,{children:[e.jsx(ot,{className:"mb-1 text-xs text-gray-500 font-extralight",children:"Max File: 1000KB"}),e.jsx(F,{children:e.jsx("input",{className:"flex w-full px-3 py-1 text-xs transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-xs file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",type:"file",accept:".jpg,.jpeg,.png,.pdf,.heic,.heif",multiple:!0,onChange:r=>{const a=r.target.files;if(a){const o=Array.from(a);t.onChange(o)}else t.onChange([])}})}),n.formState.errors.attachment&&e.jsx("p",{className:"text-[0.8rem] font-medium text-destructive",children:Array.isArray(n.formState.errors.attachment)?n.formState.errors.attachment.map((r,a)=>e.jsx("span",{children:r.message},a)):n.formState.errors.attachment.message})]})})})]}),A.length>0&&e.jsxs("tr",{children:[e.jsx("td",{width:200}),e.jsx("td",{className:"pb-3",children:A.map((t,r)=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("a",{href:t.url,target:"_blank",className:"inline-block text-blue-500",rel:"noreferrer",children:t.file_name},r),e.jsx("button",{type:"button",onClick:()=>$e(t.id),className:"inline-block mt-2 ml-2 text-red-500 cursor-pointer",children:"Delete"})]},r))})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"File Extension"}),e.jsx("td",{className:"text-xs text-gray-500 font-extralight",children:"PDF, JPG, JPEG, PNG and HEIC Max 1mb"})]}),e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Total Destination",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("td",{children:[" ",e.jsx(v,{control:n.control,name:"total_destination",render:({field:t})=>e.jsxs(N,{children:[e.jsx(F,{children:e.jsxs(ht,{value:t.value.toString(),onValueChange:Fe,disabled:!1,children:[e.jsx(ft,{className:"w-[200px] py-2",children:e.jsx(gt,{placeholder:"-- Select Bussiness Trip --"})}),e.jsx(xt,{children:Array.from({length:5},(r,a)=>e.jsxs(jt,{value:(a+1).toString(),children:[" ",a+1," "]},a))})]})}),e.jsx(E,{})]})})]})]})]}),e.jsx(pe,{className:"my-4"}),e.jsx(vt,{updateDestination:Ee,destinationField:se,form:n,listAllowances:Q,totalDestination:n.getValues("total_destination").toString(),pajak:$,purchasingGroup:L,setTotalAllowance:Oe,dataTax:We,dataPurchasingGroup:Ke,dataDestination:be,type:f,btClone:b.clone,dateBusinessTripByUser:De,setSelectedDates:z,selectedDates:Ne,setActiveTab:J,activeTab:Ie}),e.jsx(pe,{className:"my-4"}),e.jsxs("table",{className:"w-full mt-10 text-sm",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"w-[50%]",children:"Cash Advance"}),e.jsx("td",{className:"w-[50%] pb-0",children:e.jsx(_t,{fieldName:"cash_advance",isRequired:!1,disabled:!1,onChanges:t=>Le(t.target.checked)})})]}),Me&&e.jsx(e.Fragment,{children:e.jsxs("tr",{children:[e.jsx("td",{className:"w-[50%]",children:"Total Percent"}),e.jsxs("td",{className:"w-[50%]",children:[e.jsx(v,{control:n.control,name:"total_percent",render:({field:t})=>e.jsxs(N,{children:[e.jsx(F,{children:e.jsx(H,{type:"number",...t,value:t.value||"",className:"w-[50%]",onChange:r=>{const a=r.target.value;if(!/^\d*$/.test(a))return;const o=parseInt(a,10);o>=1&&o<=100?t.onChange(o):a===""&&t.onChange("")}})}),e.jsx(E,{})]})}),e.jsx(v,{control:n.control,name:"total_cash_advance",render:({field:t})=>e.jsxs(N,{children:[e.jsx(F,{children:e.jsx(H,{value:t.value||"",readOnly:!0,className:"w-[50%] mt-3"})}),e.jsx(E,{})]})})]})]})})]}),e.jsx(Nt,{onClick:async()=>await Be(),variant:"contained",color:"primary",type:"button",children:"Check Approval"}),e.jsx("div",{className:"my-2",children:qe&&e.jsx(mt,{workflowApproval:{approvalRequest:C.approvalRequest,approvalFrom:C.approvalFrom,acknowledgeFrom:C.acknowledgeFrom},workflowApprovalStep:C.approvalFromStatusRoute,workflowApprovalDiagram:C.approvalFrom})}),e.jsx(lt,{type:"submit",loading:Ce,children:"submit"})]})})})};function Ba({form:B,type:he,allowanceIndex:$,destinationIndex:M}){const{fields:L}=_e({control:B.control,name:`destinations.${M}.allowances.${$}.detail`});return e.jsx(e.Fragment,{children:L.map((f,y)=>e.jsx(v,{control:B.control,name:`destinations.${M}.allowances.${y}.detail.${y}.request_price`,render:({field:x})=>e.jsxs(N,{children:[e.jsx(F,{children:e.jsx(H,{value:x.value,onChange:x.onChange})}),e.jsx(E,{})]})},f.id))})}export{Ba as AllowanceInputForm,Ya as BussinessTripFormV1};
