import{a as D}from"./axiosInstance-CKW7bq9X.js";import{r}from"./app-BOjS1G36.js";function f(n){return Number(n).toString()}const S=(n="api/master/dropdown")=>{const[g,h]=r.useState(),[u,b]=r.useState([]),[y,t]=r.useState(!1);return{dataDropdown:u,dropdownOptions:g,getDropdown:async(s,e,p)=>{var i,d,l,m;t(!0);try{const c=(await D.get(n,{params:{name:e.name,id:e.id,search:e.search||"",tabelname:e.tabel,isNotNull:((i=e.where)==null?void 0:i.isNotNull)??"",key:((d=e.where)==null?void 0:d.key)??"",parameter:((l=e.where)==null?void 0:l.parameter)??"",groupBy:((m=e.where)==null?void 0:m.groupBy)??"",attribut:e.attribut??""},headers:{"Content-Type":"application/json"}})).data.data.map(a=>{const o=e.hiddenZero?f(a.label):a.label;return{label:e.isMapping?`${o} - ${a.value}`:o,value:a.value}});if(p&&s!==""){const a=p.map(o=>o.name===s?{...o,options:c}:o);h(a)}b(c),t(!1)}catch(w){console.error("Error fetching dropdown options:",w)}},isLoading:y}};export{S as u};
