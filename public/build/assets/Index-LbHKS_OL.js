import{R as o,j as t}from"./app-CHqHR3rt.js";import R from"./MainLayout-B7_UmD93.js";import{D as E}from"./DataGrid-DevetOzJ.js";import{a as S}from"./axiosInstance-EUpOR8yR.js";import{D as T,b as U,c as b,a as I}from"./LoadingSpin-2_z2eH_i.js";import{columns as g}from"./models-CVUiFBos.js";import{B as _}from"./button-DxJ3h_Kc.js";import{C as O}from"./CustomDialog-BrUHpF2H.js";import B from"./form-C7yXZ_Zw.js";import{F as c}from"./utils-CFc7qyF9.js";import{P as F}from"./plus-5ZrN2cNp.js";import"./app-HlhieNAw.js";import"./Sidebar-BvmWeu3r.js";import"./logo-HtzTG1e0.js";import"./scroll-area-3I4pWDLj.js";import"./index-CPwlOFcP.js";import"./Header-AZ43diQx.js";import"./Loading-D_4cJW4P.js";import"./index-CvrrVNsH.js";import"./Footer-CL4CpiJr.js";import"./dropdown-menu-BBFr_yFo.js";import"./index-CRL0OvPM.js";import"./index-CGO3ZbOX.js";import"./Combination-DNM4ssDG.js";import"./index-Xv1Rbf_f.js";import"./index-DsA8yvK6.js";import"./index-Vrbad9ql.js";import"./createLucideIcon-ZWUX4xP4.js";import"./Box-CGfDgBaY.js";import"./FormHelperText-D30AOrov.js";import"./useSlot-CAyg5NIr.js";import"./createSimplePaletteValueFilter-VXDozjod.js";import"./ListItemText-DVFSuMoj.js";import"./TextField-BXpg-Afi.js";import"./Typography-DTMx6QBB.js";import"./FormControlLabel-BqCrJ8e9.js";import"./SwitchBase-BAYTIv5o.js";import"./KeyboardArrowRight-CFvjgc2h.js";import"./form-aBRhSH0C.js";import"./index.esm-DKZBJb2f.js";import"./index-Cnza9c68.js";import"./formDropdown-CAVwsULr.js";import"./getDropdown-DrBwRocT.js";import"./MultiSelect-D1p8eYjn.js";import"./checkbox-DJYkBQQV.js";import"./index-DJLJo_HP.js";import"./api-BBkWHPRN.js";const i="/api/master/reimburse-quota",A=`${i}/`,D=`${i}/create`,N=s=>`${i}/detail/${s}`,Q=s=>`${i}/edit/${s}`,w=s=>`${i}/update/${s}`,M=`${i}/delete`,$=()=>{const[s,n]=o.useState(!1),[m,a]=o.useState(!1),[e,p]=o.useState(null),[l,h]=o.useState(null),[d,x]=o.useState({type:c.create,id:void 0});function u(){n(!s),x({type:c.create,id:void 0})}async function y(r){h(r),a(!0),j()}o.useEffect(()=>{l&&m&&j()},[l,m]);const j=async()=>{if(l&&m)try{const r=await S.get(N(l));p(r.data.data)}catch(r){console.error(r),a(!1)}};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex md:mb-4 mb-2 w-full justify-end",children:[t.jsx(_,{onClick:u,children:t.jsx(F,{})}),t.jsx(O,{onClose:()=>n(!1),open:s,onOpenChange:u,children:t.jsx(B,{onSuccess:r=>{n(!1)},type:d.type,storeURL:D,editURL:Q(d.id??""),updateURL:w(d.id??"")})})]}),t.jsx(E,{columns:g,actionType:"dropdown",onEdit:r=>{x({type:c.edit,id:r.toString()}),n(!0)},onDetail:r=>{y(r.toString())},url:{url:A,deleteUrl:M},labelFilter:"search"}),t.jsx(T,{open:m,onOpenChange:r=>{a(r),r||(p(null),h(null))},children:t.jsxs(U,{className:"max-w-5xl",children:[t.jsx(b,{children:t.jsx(I,{className:"text-lg font-bold",children:"Preview Balance Reimburse Quota"})}),t.jsxs("div",{className:"py-4",children:[t.jsxs("table",{className:"border-0 text-sm",children:[t.jsxs("tr",{children:[t.jsx("td",{width:"200",children:"Reimburse Type"}),t.jsxs("td",{children:[": ",e==null?void 0:e.type]})]}),t.jsxs("tr",{children:[t.jsx("td",{width:"200",children:"Reimburse Period"}),t.jsxs("td",{children:[": ",e==null?void 0:e.period]})]}),t.jsxs("tr",{children:[t.jsx("td",{width:"200",children:"Employer Status"}),t.jsxs("td",{children:[": ",e==null?void 0:e.employerStatus]})]}),t.jsxs("tr",{children:[t.jsx("td",{width:"200",children:"Family Status"}),t.jsxs("td",{children:[": ",e==null?void 0:e.familyStatus]})]})]}),t.jsxs("table",{className:"text-xs mt-4 table font-thin",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Employer Name"}),t.jsx("th",{children:"Family Name"}),t.jsx("th",{children:"Balance"}),t.jsx("th",{children:"Grade"})]})}),t.jsx("tbody",{children:(e==null?void 0:e.dataBalance)&&(e==null?void 0:e.dataBalance.map((r,f)=>t.jsxs("tr",{children:[t.jsx("td",{children:r.employerName}),t.jsx("td",{children:r.familyName}),t.jsx("td",{children:r.plafon}),t.jsx("td",{children:r.grade})]},f)))})]})]})]})})]})};$.layout=s=>t.jsx(R,{title:"Reimburse Quota",description:"Reimburse Quota",children:s});export{$ as Index,$ as default};
