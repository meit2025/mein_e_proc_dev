import{u as _,r as b,j as e}from"./app-BIOi_O7g.js";import{z as o,t as E,F as I,a as S,b as T,d as F,I as v,e as y}from"./index-xVSCDvl5.js";import{F as n,B as A}from"./button-D9RCpmB9.js";import{u as G}from"./index.esm-BVoG1Nd3.js";import{S as R}from"./scroll-area-D2vZFU-X.js";import{a as m}from"./axiosInstance-DV-uprs0.js";import{M as N}from"./MultiSelect-OD_GGiRT.js";const i="/api/business-grade",V=`${i}/list`,D=`${i}/create`,z=r=>`${i}/detail/${r}`;function P({onSuccess:r,type:l=n.create,id:d,editURL:c,listUser:x}){var u=o.object({grade:o.string().min(1,"Grade is required"),users:o.array(o.number().optional())});let h={grade:"",users:[]};async function j(){try{let t=await m.get(c);a.reset({grade:t.data.data.grade})}catch{}}const a=G({resolver:E(u),defaultValues:h}),{showToast:p}=_(),f=t=>{try{const s=m.post(D,t);console.log(s),p("succesfully created data","success"),r==null||r(!0)}catch(s){const g=s;r==null||r(!1),console.log(g)}};return b.useEffect(()=>{d&&l==n.edit&&j()},[d,l]),e.jsx(R,{className:"h-[600px] w-full",children:e.jsx(I,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(f),children:[e.jsxs("table",{className:"text-xs mt-4 table font-thin",children:[e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Grade ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("td",{children:e.jsx(S,{control:a.control,disabled:l==n.edit,name:"grade",render:({field:t})=>e.jsxs(T,{children:[e.jsx(F,{children:e.jsx(v,{type:"text",placeholder:"Insert grade",...t,value:t.value||"",onChange:s=>t.onChange(s.target.value)})}),e.jsx(y,{})]})})})]}),e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Users ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("td",{children:e.jsx(N,{onSelect:t=>{a.setValue("users",t.map(s=>s.id))},value:a.getValues("users"),id:"id",label:"name",options:x})})]})]}),e.jsx("div",{className:"flex justify-end items-center",children:e.jsx(A,{type:"submit",children:"Save"})})]})})})}const L=Object.freeze(Object.defineProperty({__proto__:null,GradeForm:P},Symbol.toStringTag,{value:"Module"}));export{P as G,z as a,V as b,L as f};
