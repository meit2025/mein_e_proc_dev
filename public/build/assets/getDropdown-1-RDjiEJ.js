import{a as O}from"./axiosInstance-CfLqZfQO.js";import{r as s}from"./app-C4u3Ury9.js";function f(n){return/^0+\d+$/.test(n)?n.replace(/^0+/,""):n}const x=(n="api/master/dropdown")=>{const[u,D]=s.useState(),[b,v]=s.useState([]),[V,t]=s.useState(!1);return{dataDropdown:b,dropdownOptions:u,getDropdown:async(p,e,l)=>{var d,i,h,w,g,m;t(!0);try{const c=(await O.get(n,{params:{name:e.name,id:e.id,search:e.search||"",tabelname:e.tabel,isNotNull:((d=e.where)==null?void 0:d.isNotNull)??"",key:((i=e.where)==null?void 0:i.key)??"",parameter:((h=e.where)==null?void 0:h.parameter)??"",declaration:e.declaration??"",groupBy:((w=e.where)==null?void 0:w.groupBy)??"",attribut:e.attribut??"",hasValueKey:((g=e.hasValue)==null?void 0:g.key)??"",hasValue:((m=e.hasValue)==null?void 0:m.value)??"",join:e.join??"",softDelete:e.softDelete??""},headers:{"Content-Type":"application/json"}})).data.data.map(a=>{const o=e.hiddenZero?f(a.label):a.label,r=e.hiddenZero?f(a.value):a.value,N=e.idType==="string"?String(r):r;return{...a,label:e.isMapping?`${o} - ${r}`:o,value:N}});if(l&&p!==""){const a=l.map(o=>o.name===p?{...o,options:c}:o);D(a)}v(c),t(!1)}catch(y){console.error("Error fetching dropdown options:",y)}},isLoading:V}};export{x as u};
