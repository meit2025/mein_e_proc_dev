import{u as C,r as w,j as t}from"./app-DWu1jApy.js";import{F as v,a as d,b as c,c as l,d as m}from"./form-CnTsyk_s.js";import{z as n,t as y}from"./index-DZNiToTG.js";import{B as I}from"./button-CyKCT6wu.js";import{u as S}from"./index.esm-Dyw1BQkh.js";import{S as E}from"./scroll-area-NiJLTAqt.js";import{C as j}from"./CustomDatePicker-92_uNTEh.js";import{I as N}from"./input-CbCUQ6Fh.js";import{a as p}from"./axiosInstance-CbJa867x.js";import{F as x}from"./utils-BGKRosPI.js";import"./app-CTy9eNAz.js";import"./index-D8Sgy2iv.js";import"./index-DWGHnBSz.js";import"./Combination-Df9QIHAc.js";import"./index-BWTc_D1k.js";import"./index-CBA3OMIY.js";import"./createLucideIcon-DokpAUWF.js";import"./index-DL9yo46i.js";function X({onSuccess:o,type:i=x.create,storeURL:u,editURL:f,updateURL:R}){const g=n.object({code:n.string(),start:n.date(),end:n.date()}),D={code:"",start:null,end:null},s=S({resolver:y(g),defaultValues:D});async function F(){try{const r=(await p.get(f)).data.data[0];s.reset({code:r.code,start:new Date(r.start),end:new Date(r.end)})}catch{}}const{showToast:h}=C(),b=async e=>{var r;try{const a=await p.post(u,e);o&&o(!0),h((r=a==null?void 0:a.data)==null?void 0:r.message,"success")}catch(a){o&&o(!1),h(a.message,"error")}};return w.useEffect(()=>{i===x.edit&&F()},[i]),t.jsx(E,{className:"h-[600px] w-full",children:t.jsx(v,{...s,children:t.jsxs("form",{onSubmit:s.handleSubmit(b),children:[t.jsxs("table",{className:"text-xs mt-4 table font-thin",children:[t.jsxs("tr",{children:[t.jsxs("td",{width:200,children:["Code ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("td",{children:t.jsx(d,{control:s.control,disabled:i==x.edit,name:"code",render:({field:e})=>t.jsxs(c,{children:[t.jsx(l,{children:t.jsx(N,{type:"text",placeholder:"Insert code",...e,value:e.value||"",onChange:r=>e.onChange(r.target.value)})}),t.jsx(m,{})]})})})]}),t.jsxs("tr",{children:[t.jsx("td",{width:200,children:"Start Date"}),t.jsx("td",{children:t.jsx(d,{control:s.control,name:"start",render:({field:e})=>t.jsxs(c,{children:[t.jsx(l,{children:t.jsx(j,{initialDate:e.value,onDateChange:r=>e.onChange(r)})}),t.jsx(m,{})]})})})]}),t.jsxs("tr",{children:[t.jsx("td",{width:200,children:"End Date"}),t.jsx("td",{children:t.jsx(d,{control:s.control,name:"end",render:({field:e})=>t.jsxs(c,{children:[t.jsx(l,{children:t.jsx(j,{initialDate:e.value,onDateChange:r=>e.onChange(r)})}),t.jsx(m,{})]})})})]})]}),t.jsx("div",{className:"flex justify-end items-center",children:t.jsx(I,{type:"submit",children:"Save"})})]})})})}export{X as default};
