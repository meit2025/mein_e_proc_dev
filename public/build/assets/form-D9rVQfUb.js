import{u as _,r as b,j as e}from"./app-CNv1wH9b.js";import{F as E,a as I,b as S,d as T,e as F}from"./form-Zal1Ebfd.js";import{z as o,t as v,I as y}from"./index-DIDMXgCk.js";import{F as n,B as A}from"./button-pR9Y3bbt.js";import{u as G}from"./index.esm-CIV15JQO.js";import{S as R}from"./scroll-area-B_5qWdwW.js";import{a as m}from"./axiosInstance-B1I-V4H3.js";import{M as N}from"./MultiSelect-BGqCQye7.js";const i="/api/business-grade",z=`${i}/list`,D=`${i}/create`,L=r=>`${i}/detail/${r}`;function P({onSuccess:r,type:l=n.create,id:d,editURL:c,listUser:x}){var u=o.object({grade:o.string().min(1,"Grade is required"),users:o.array(o.number().optional())});let h={grade:"",users:[]};async function j(){try{let t=await m.get(c);a.reset({grade:t.data.data.grade})}catch{}}const a=G({resolver:v(u),defaultValues:h}),{showToast:p}=_(),f=t=>{try{const s=m.post(D,t);console.log(s),p("succesfully created data","success"),r==null||r(!0)}catch(s){const g=s;r==null||r(!1),console.log(g)}};return b.useEffect(()=>{d&&l==n.edit&&j()},[d,l]),e.jsx(R,{className:"h-[600px] w-full",children:e.jsx(E,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(f),children:[e.jsxs("table",{className:"text-xs mt-4 table font-thin",children:[e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Grade ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("td",{children:e.jsx(I,{control:a.control,disabled:l==n.edit,name:"grade",render:({field:t})=>e.jsxs(S,{children:[e.jsx(T,{children:e.jsx(y,{type:"text",placeholder:"Insert grade",...t,value:t.value||"",onChange:s=>t.onChange(s.target.value)})}),e.jsx(F,{})]})})})]}),e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Users ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("td",{children:e.jsx(N,{onSelect:t=>{a.setValue("users",t.map(s=>s.id))},value:a.getValues("users"),id:"id",label:"name",options:x})})]})]}),e.jsx("div",{className:"flex justify-end items-center",children:e.jsx(A,{type:"submit",children:"Save"})})]})})})}const q=Object.freeze(Object.defineProperty({__proto__:null,GradeForm:P},Symbol.toStringTag,{value:"Module"}));export{P as G,L as a,z as b,q as f};
