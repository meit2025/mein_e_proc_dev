import{r as s,j as A,e as P}from"./app-BU72IBan.js";import{b as S,a as v}from"./utils-coB2I7n8.js";function b(e,n){const t=s.createContext(n);function r(m){const{children:i,...a}=m,u=s.useMemo(()=>a,Object.values(a));return A.jsx(t.Provider,{value:u,children:i})}function c(m){const i=s.useContext(t);if(i)return i;if(n!==void 0)return n;throw new Error(`\`${m}\` must be used within \`${e}\``)}return r.displayName=e+"Provider",[r,c]}function I(e,n=[]){let t=[];function r(m,i){const a=s.createContext(i),u=t.length;t=[...t,i];function o(f){const{scope:d,children:N,...x}=f,g=(d==null?void 0:d[e][u])||a,C=s.useMemo(()=>x,Object.values(x));return A.jsx(g.Provider,{value:C,children:N})}function p(f,d){const N=(d==null?void 0:d[e][u])||a,x=s.useContext(N);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${m}\``)}return o.displayName=m+"Provider",[o,p]}const c=()=>{const m=t.map(i=>s.createContext(i));return function(a){const u=(a==null?void 0:a[e])||m;return s.useMemo(()=>({[`__scope${e}`]:{...a,[e]:u}}),[a,u])}};return c.scopeName=e,[r,h(c,...n)]}function h(...e){const n=e[0];if(e.length===1)return n;const t=()=>{const r=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(m){const i=r.reduce((a,{useScope:u,scopeName:o})=>{const f=u(m)[`__scope${o}`];return{...a,...f}},{});return s.useMemo(()=>({[`__scope${n.scopeName}`]:i}),[i])}};return t.scopeName=n.scopeName,t}function E(e,n){return s.useReducer((t,r)=>n[t][r]??t,e)}var O=e=>{const{present:n,children:t}=e,r=M(n),c=typeof t=="function"?t({present:r.isPresent}):s.Children.only(t),m=S(r.ref,R(c));return typeof t=="function"||r.isPresent?s.cloneElement(c,{ref:m}):null};O.displayName="Presence";function M(e){const[n,t]=s.useState(),r=s.useRef({}),c=s.useRef(e),m=s.useRef("none"),i=e?"mounted":"unmounted",[a,u]=E(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const o=l(r.current);m.current=a==="mounted"?o:"none"},[a]),v(()=>{const o=r.current,p=c.current;if(p!==e){const d=m.current,N=l(o);e?u("MOUNT"):N==="none"||(o==null?void 0:o.display)==="none"?u("UNMOUNT"):u(p&&d!==N?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,u]),v(()=>{if(n){const o=f=>{const N=l(r.current).includes(f.animationName);f.target===n&&N&&P.flushSync(()=>u("ANIMATION_END"))},p=f=>{f.target===n&&(m.current=l(r.current))};return n.addEventListener("animationstart",p),n.addEventListener("animationcancel",o),n.addEventListener("animationend",o),()=>{n.removeEventListener("animationstart",p),n.removeEventListener("animationcancel",o),n.removeEventListener("animationend",o)}}else u("ANIMATION_END")},[n,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:s.useCallback(o=>{o&&(r.current=getComputedStyle(o)),t(o)},[])}}function l(e){return(e==null?void 0:e.animationName)||"none"}function R(e){var r,c;let n=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,t=n&&"isReactWarning"in n&&n.isReactWarning;return t?e.ref:(n=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var T=s.createContext(void 0);function w(e){const n=s.useContext(T);return e||n||"ltr"}export{O as P,b as a,I as c,w as u};
