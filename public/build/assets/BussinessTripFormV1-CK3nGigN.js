import{j as e,r as D,b as re}from"./app-BoGhxFfj.js";import{F as ie,a as j,b as _,c as f,d as g,e as oe}from"./form-BM_GaCgb.js";import{z as r,t as de}from"./index-BumsDIuW.js";import{d as ce}from"./index-uCvVN-5v.js";import{B as U}from"./button-BkVfOLOa.js";import{a as K,C as he,u as xe,b as B,c as V}from"./index.esm-qKGhRFQd.js";import{T as pe}from"./textarea-CQvdIgUO.js";/* empty css              */import{S as ue}from"./scroll-area-_rL8zPVH.js";import{S as me}from"./separator-Rt_wbZx9.js";import{T as je,a as _e,b as fe,c as ge}from"./tabs-CjtcIqdm.js";import{h as C,C as be}from"./moment-C3PBWzXH.js";import{S as E,a as q,b as I,c as R,d as A}from"./select-CANdNcqw.js";import{C as J}from"./CustomDatePicker-DwyZEA2U.js";import{I as N}from"./input-CBBrWyLw.js";import{G as we}from"./api-Bq-9vnaq.js";import{a as ye}from"./axiosInstance-CiXY2vKi.js";import{BusinessTripType as ve}from"./models-Ch6dYh4I.js";import{S as De}from"./Switch-G2802_BL.js";import{F as Se}from"./FormHelperText-CK-NVMjU.js";const k="/api/business-trip",Xe=`${k}/list`,Te=`${k}/create`,Ne=s=>`${k}/detail/${s}`,Ze=`${k}/delete`,Ce=({fieldLabel:s,fieldName:t,isRequired:l=!1,disabled:c=!1,style:u,requiredMessage:h,classNames:x,defaultChecked:n=!1,note:m,onChanges:d})=>{var b;const{control:S,formState:{errors:p}}=K();return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-baseline flex-wrap lg:flex-nowrap gap-2.5",children:[s&&e.jsxs("label",{className:"form-label max-w-32",children:[s," ",e.jsxs("span",{className:"text-red-700",children:[" ",l?"*":""]})]}),e.jsx(he,{name:t,control:S,rules:{required:l?h??`${s} is required`:!1},render:({field:y})=>e.jsx("div",{style:u,className:x,children:e.jsx(De,{...y,checked:!!(y.value??n),onChange:$=>{y.onChange($),d&&d($)},disabled:c})})}),e.jsx("span",{children:m})]}),e.jsxs("div",{className:"flex items-baseline flex-wrap lg:flex-nowrap gap-2.5",children:[e.jsx("label",{className:"form-label max-w-32",children:""}),p[t]&&e.jsx(Se,{error:!0,children:String((b=p[t])==null?void 0:b.message)})]})]})};r.object({remark:r.string().min(1).max(50),reimburse_cost:r.number()});const Ae=({users:s,listPurposeType:t,type:l,id:c,role:u,idUser:h})=>{const x=r.object({purpose_type_id:r.string().min(1,"Purpose type required"),request_for:r.string().min(1,"Request for required"),remark:r.string().min(1,"Remark is required"),attachment:r.instanceof(File).nullable().optional(),total_destination:r.number().min(1,"Total Destinantion Required"),cash_advance:r.boolean().nullable().optional(),total_percent:r.string().nullable().optional(),total_cash_advance:r.string().nullable().optional(),destinations:r.array(r.object({destination:r.string().min(1,"Destinantion Required"),business_trip_start_date:r.date().optional(),business_trip_end_date:r.date().optional(),detail_attedances:r.array(r.object({date:r.date().optional(),shift_code:r.string().optional(),shift_start:r.string().optional(),shift_end:r.string().optional(),start_time:r.string().optional(),end_time:r.string().optional()})),allowances:r.array(r.object({name:r.string().optional(),code:r.string().optional(),default_price:r.number().optional(),type:r.string().optional(),subtotal:r.number().optional(),currency:r.string().optional(),detail:r.array(r.object({date:r.date().nullish(),request_price:r.any().optional()}))}))}))}),[n,m]=D.useState("1"),d=xe({resolver:de(x),defaultValues:{purpose_type_id:"",request_for:"",remark:"",attachment:null,total_destination:1,cash_advance:!1,total_percent:"0",total_cash_advance:"0",destinations:[{detail_attedances:[],allowances:[],destination:"",business_trip_start_date:new Date,business_trip_end_date:new Date}]}});async function S(){let i=Ne(c);try{let a=await re.get(i);d.reset({purpose_type_id:a.data.data.purpose_type_id,request_for:a.data.data.request_for,remark:a.data.data.remarks,attachment:null,total_destination:a.data.data.total_destination,destinations:[{detail_attedances:a.data.data.destination.detail_attedances,allowances:[],destination:a.data.data.destination.destination,business_trip_start_date:new Date,business_trip_end_date:new Date}]})}catch{}}const[p,b]=D.useState([]);async function y(i){d.setValue("purpose_type_id",i||"");let w=we(i,h||"");try{let o=await ye.get(w);console.log(o.data),b(o.data.data)}catch(o){console.log(o)}}const $=i=>{m(i),P()},G=async i=>{console.log(i," test");try{const a=new FormData;a.append("purpose_type_id",i.purpose_type_id??""),a.append("request_for",i.request_for??""),a.append("remark",i.remark??""),a.append("attachment",i.attachment??""),a.append("total_destination",`${i.total_destination}`),a.append("cash_advance",`${i.cash_advance}`),a.append("total_percent",`${i.total_percent}`),a.append("total_cash_advance",`${i.total_cash_advance}`),i.destinations.forEach((w,o)=>{a.append(`destinations[${o}]`,JSON.stringify(w))}),await ce.Inertia.post(Te,a,{headers:{"Content-Type":"multipart/form-data"}}),Fe("succesfully created data","success"),Y==null||Y(!0)}catch(a){const w=a;Y==null||Y(),console.log(w)}console.log("values bg",i)};function P(){let i=[],a=parseInt(n);for(let w=0;w<a;w++)i.push({destination:"",business_trip_start_date:new Date,business_trip_end_date:new Date,allowances:[],detail_attedances:[]});d.setValue("destinations",i)}const{fields:L,append:z,remove:O,update:M}=B({control:d.control,name:"destinations"});return D.useEffect(()=>{P(),c&&l==ve.edit&&S()},[n,p,c,l,u,h]),e.jsx(ue,{className:"h-[600px] w-full ",children:e.jsx(ie,{...d,children:e.jsxs("form",{onSubmit:d.handleSubmit(G),children:[e.jsxs("table",{className:"text-xs mt-4 reimburse-form-table font-thin",children:[e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Request No."}),e.jsx("td",{children:"ODR-2023"})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Bussiness Trip Purpose Type"}),e.jsxs("td",{children:[" ",e.jsx(j,{control:d.control,name:"purpose_type_id",render:({field:i})=>e.jsxs(_,{children:[e.jsx(f,{children:e.jsxs(E,{onValueChange:a=>y(a),value:i.value,children:[e.jsx(q,{className:"w-[200px]",children:e.jsx(I,{placeholder:"-- Select Bussiness Purpose Type --"})}),e.jsx(R,{children:t.map(a=>e.jsx(A,{value:a.id.toString(),children:a.name}))})]})}),e.jsx(g,{})]})})]})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Request For"}),e.jsx("td",{children:e.jsx(j,{control:d.control,name:"request_for",render:({field:i})=>(u==="user"&&!i.value&&i.onChange(h.toString()),e.jsxs(_,{children:[e.jsx(f,{children:e.jsxs(E,{onValueChange:a=>i.onChange(a),value:i.value,disabled:u==="user",children:[e.jsx(q,{className:"w-[200px] py-2",children:e.jsx(I,{placeholder:"-- Select Business Purpose Type --"})}),e.jsx(R,{children:u==="admin"?s.map(a=>e.jsx(A,{value:a.id.toString(),children:a.name},a.id)):s.filter(a=>a.id===h).map(a=>e.jsx(A,{value:a.id.toString(),children:a.name},a.id))})]})}),e.jsx(g,{})]}))})})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Remark"}),e.jsx("td",{children:e.jsx(j,{control:d.control,name:"remark",render:({field:i})=>e.jsxs(_,{children:[e.jsx(f,{children:e.jsx(pe,{placeholder:"Insert remark",...i,rows:4,className:"w-[300px]"})}),e.jsx(g,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"File Attachment"}),e.jsx("td",{children:e.jsx(j,{control:d.control,name:"attachment",render:({field:i})=>e.jsxs(_,{children:[e.jsx(oe,{className:"text-xs text-gray-500 font-extralight mb-1",children:"Max File: 1000KB"}),e.jsx(f,{children:e.jsx("input",{className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-xs shadow-sm transition-colors file:border-0 file:bg-transparent file:text-xs file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",type:"file",onChange:a=>{var o;const w=(o=a.target.files)==null?void 0:o[0];w?i.onChange(w):i.onChange(null)}})}),e.jsx(g,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"File Extension"}),e.jsx("td",{className:"text-gray-500 text-xs font-extralight",children:"doc,jpg,ods,png,txt,pdf"})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Total Destination"}),e.jsxs("td",{children:[" ",e.jsx(j,{control:d.control,name:"total_destination",render:({field:i})=>e.jsxs(_,{children:[e.jsx(f,{children:e.jsxs(E,{value:n,onValueChange:$,children:[e.jsx(q,{className:"w-[200px] py-2",children:e.jsx(I,{placeholder:"-- Select Bussiness Trip --"})}),e.jsx(R,{children:Array.from({length:5},(a,w)=>e.jsxs(A,{value:(w+1).toString(),children:[" ",w+1," "]}))})]})}),e.jsx(g,{})]})})]})]})]}),e.jsx(me,{className:"my-4"}),e.jsx(Q,{updateDestination:M,destinationField:L,form:d,listAllowances:p,totalDestination:d.getValues("total_destination").toString()}),e.jsx(U,{type:"submit",children:"submit"})]})})})};function Q({totalDestination:s,listAllowances:t,destinationField:l,form:c,updateDestination:u}){return D.useState(),D.useState(),D.useState(0),e.jsxs(je,{defaultValue:"destination1",className:"w-full",children:[e.jsx(_e,{className:"flex items-center justify-start space-x-4",children:l.map((h,x)=>e.jsxs(fe,{value:`destination${x+1}`,children:["Destination ",x+1]}))}),l.map((h,x)=>e.jsx(X,{listAllowances:t,updateDestination:u,destination:h,form:c,index:x}))]})}function X({form:s,index:t,destination:l,updateDestination:c,listAllowances:u}){const{fields:h,update:x,append:n,remove:m}=B({control:s.control,name:`destinations.${t}.detail_attedances`}),{fields:d,update:S,append:p,remove:b,replace:y}=B({control:s.control,name:`destinations.${t}.allowances`});function $(){let o=C(l.business_trip_start_date),T=C(l.business_trip_end_date);for(m(),b();o.format("DD/MM/YYYY")<=T.format("DD/MM/YYYY");){const v={date:o.toDate(),shift_code:"SHIFTREGULAR",shift_start:"08:00",shift_end:"17:00",end_time:"17:00",start_time:"08:00"};o=o.add(1,"days"),n(v)}function ne(v){let F=C(l.business_trip_start_date),le=C(l.business_trip_end_date),H=[];for(;F.format("DD/MM/YYYY")<=le.format("DD/MM/YYYY");)F.toDate(),F=F.add(1,"days"),H.push({date:F.toDate(),request_price:v}),console.log("date",F.toDate());return console.log(H,"detail allowance"),H}let W=u.map(v=>({name:v.name,code:v.code,default_price:parseInt(v.grade_all_price),type:v.type,subtotal:parseInt(v.grade_all_price),currency:v.currency_id,request_value:v.request_value,detail:v.type.toLowerCase()=="total"?[{date:null,request_price:parseInt(v.grade_all_price)}]:ne(v.grade_all_price)}));y(W),console.log(W," Formmm")}function G(o){c(t,{...l,business_trip_end_date:o})}const[P,L]=D.useState(!1),z=o=>{L(o)},{setValue:O}=K(),M=V({control:s.control,name:"total_percent"}),[i,a]=D.useState(0),w=i;return D.useEffect(()=>{const T=parseFloat(M||0)/100*w;O("total_cash_advance",T.toFixed(0))},[M,w,O]),e.jsxs(ge,{value:`destination${t+1}`,children:[e.jsxs("div",{children:[e.jsxs("table",{className:"text-xs mt-4 reimburse-form-detail font-thin",children:[e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Destination ",l.destination]}),e.jsx("td",{children:e.jsx(j,{control:s.control,name:`destinations.${t}.destination`,render:({field:o})=>e.jsxs(_,{children:[e.jsx(f,{children:e.jsxs(E,{onValueChange:T=>{c(t,{...l,destination:T})},defaultValue:l.destination,children:[e.jsx(q,{className:"w-[200px]",children:e.jsx(I,{placeholder:"Destination"})}),e.jsxs(R,{children:[e.jsx(A,{value:"jakarta",children:"Jakarta"}),e.jsx(A,{value:"banyuwangi",children:"Banyuwangi"})]})]})}),e.jsx(g,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Bussines Trip Date"}),e.jsxs("td",{className:"flex space-x-2 items-center",children:[e.jsx(j,{control:s.control,name:`destinations.${t}.business_trip_start_date`,render:({field:o})=>e.jsxs(_,{children:[e.jsx(f,{children:e.jsx(J,{initialDate:l.business_trip_start_date,onDateChange:T=>{c(t,{...l,business_trip_start_date:T})}})}),e.jsx(g,{})]})}),e.jsx("span",{children:"To"}),e.jsx(j,{control:s.control,name:`destinations.${t}.business_trip_end_date`,render:({field:o})=>e.jsxs(_,{children:[e.jsx(f,{children:e.jsx(J,{initialDate:l.business_trip_end_date,onDateChange:T=>{G(T)}})}),e.jsx(g,{})]})}),e.jsx(U,{type:"button",onClick:()=>$(),children:"Get Detail"})]})]})]}),e.jsx(te,{detailAttedanceFields:h,form:s,updateAttedanceFields:x,destinationIndex:t}),e.jsx("table",{className:"text-xs mt-4 reimburse-form-detail font-thin",children:e.jsxs("tr",{children:[e.jsx("td",{className:"text-sm",children:"Detail Bussines Trip Allowance:"}),e.jsx("td",{})]})}),e.jsx(se,{allowanceField:d,destinationIndex:t,form:s}),e.jsxs("table",{className:"w-full text-sm mt-10",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"w-[50%]",children:"Cash Advance"}),e.jsx("td",{className:"w-[50%] pb-0",children:e.jsx(Ce,{fieldName:"cash_advance",isRequired:!1,disabled:!1,onChanges:o=>z(o.target.checked)})})]}),P&&e.jsx(e.Fragment,{children:e.jsxs("tr",{children:[e.jsx("td",{className:"w-[50%]",children:"Total Percent"}),e.jsxs("td",{className:"w-[50%]",children:[e.jsx(j,{control:s.control,name:"total_percent",render:({field:o})=>e.jsxs(_,{children:[e.jsx(f,{children:e.jsxs(E,{value:o.value||void 0,onValueChange:T=>o.onChange(T),children:[e.jsx(q,{className:"w-[50%] mb-2",children:e.jsx(I,{placeholder:"-- Select Option --"})}),e.jsxs(R,{children:[e.jsx(A,{value:"10",children:"10"}),e.jsx(A,{value:"25",children:"25"}),e.jsx(A,{value:"50",children:"50"})]})]})}),e.jsx(g,{})]})}),e.jsx(j,{control:s.control,name:"total_cash_advance",render:({field:o})=>e.jsxs(_,{children:[e.jsx(f,{children:e.jsx(N,{value:o.value||"",readOnly:!0,className:"w-[50%]"})}),e.jsx(g,{})]})})]})]})})]})]},t),e.jsx(Z,{allowanceField:d,destinationIndex:t,form:s,setTotalAllowance:a})]})}function Z({allowanceField:s,destinationIndex:t,form:l,setTotalAllowance:c}){const[u,h]=D.useState(0);D.useEffect(()=>{const n=s.reduce((m,d,S)=>{const p=l.getValues(`destinations.${t}.allowances.${S}.detail`),b=x(d,p);return m+b},0);h(n),c(n)},[s,l.watch()]);const x=(n,m)=>{var d;return n.type==="total"?parseFloat(((d=m[0])==null?void 0:d.request_price)||0):m==null?void 0:m.reduce((S,p)=>S+parseFloat(p.request_price||0),0)};return e.jsx(e.Fragment,{children:e.jsxs("table",{className:"w-full text-sm mt-10",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-[50%]",children:"Item"}),e.jsx("th",{className:"w-[50%]",children:"Sub Total"})]})}),e.jsx("tbody",{children:s.map((n,m)=>e.jsx(ee,{allowance:n,destinationIndex:t,form:l,allowanceIndex:m}))}),e.jsx("tfoot",{className:"mt-4",children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("i",{children:"Total Allowance"})}),e.jsxs("td",{className:"flex justify-between pr-4",children:[e.jsx("span",{children:e.jsx("i",{children:"IDR"})}),e.jsx("span",{children:e.jsx("i",{children:u})})]})]})})]})})}function ee({allowance:s,destinationIndex:t,form:l,allowanceIndex:c}){const u=V({control:l.control,name:`destinations.${t}.allowances.${c}.detail.0.request_price`}),h=V({control:l.control,name:`destinations.${t}.allowances.${c}.detail`}),x=()=>{if(s.type==="total")return parseFloat(u||0)*1;{let n=0;return h==null||h.forEach(m=>{const d=parseFloat(m.request_price||0);n+=d}),n}};return e.jsxs("tr",{children:[e.jsx("td",{children:s.name}),e.jsxs("td",{className:"flex justify-between pr-4",children:[e.jsx("span",{children:"IDR"}),e.jsx("span",{children:x()})]})]},s.id)}function te({form:s,destinationIndex:t,detailAttedanceFields:l,updateAttedanceFields:c}){const u=s.watch(`destinations.${t}.detail_attedances`);return D.useEffect(()=>{},[u]),D.useEffect(()=>{},[l]),e.jsxs("table",{className:"text-xs mt-4 reimburse-form-detail font-thin",children:[e.jsx("tr",{children:e.jsx("td",{colSpan:2,children:e.jsx("div",{className:"mb-4 text-sm",children:"Detail Attedance: "})})}),e.jsx("tr",{children:e.jsx("td",{children:e.jsxs("table",{className:"detail-attedance text-xs",children:[e.jsxs("thead",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Shift code"}),e.jsx("th",{children:"Shift Start"}),e.jsx("th",{children:"Shift End"}),e.jsx("th",{children:"Start Time"}),e.jsx("th",{children:"End Time"})]}),e.jsx("tbody",{children:l.map((h,x)=>e.jsxs("tr",{children:[e.jsxs("td",{children:[C(h.date).format("DD/MM/YYYY"),e.jsx(j,{control:s.control,name:`destinations.${t}.detail_attedances.${x}.date`,render:({field:n})=>e.jsxs(_,{children:[e.jsx(f,{children:e.jsx(N,{defaultValue:C(n.value).format("YYYY-MM-DD"),onChange:n.onChange,type:"hidden"})}),e.jsx(g,{})]})})]}),e.jsxs("td",{children:[h.shift_code,e.jsx(j,{control:s.control,name:`destinations.${t}.detail_attedances.${x}.shift_code`,render:({field:n})=>e.jsxs(_,{children:[e.jsx(f,{children:e.jsx(N,{defaultValue:C(n.value).format("YYYY-MM-DD"),onChange:n.onChange,type:"hidden"})}),e.jsx(g,{})]})})]}),e.jsxs("td",{children:[h.shift_start,e.jsx(j,{control:s.control,name:`destinations.${t}.detail_attedances.${x}.shift_start`,render:({field:n})=>e.jsxs(_,{children:[e.jsx(f,{children:e.jsx(N,{defaultValue:C(n.value).format("YYYY-MM-DD"),onChange:n.onChange,type:"hidden"})}),e.jsx(g,{})]})})]}),e.jsxs("td",{children:[h.shift_end,e.jsx(j,{control:s.control,name:`destinations.${t}.detail_attedances.${x}.shift_end`,render:({field:n})=>e.jsxs(_,{children:[e.jsx(f,{children:e.jsx(N,{defaultValue:C(n.value).format("YYYY-MM-DD"),onChange:n.onChange,type:"hidden"})}),e.jsx(g,{})]})})]}),e.jsx("td",{children:e.jsx(j,{control:s.control,name:`destinations.${t}.detail_attedances.${x}.start_time`,render:({field:n})=>e.jsxs(_,{children:[e.jsx(f,{children:e.jsx(N,{defaultValue:n.value,onChange:n.onChange})}),e.jsx(g,{})]})})}),e.jsx("td",{children:e.jsx(j,{control:s.control,name:`destinations.${t}.detail_attedances.${x}.end_time`,render:({field:n})=>e.jsxs(_,{children:[e.jsx(f,{children:e.jsx(N,{defaultValue:n.value,onChange:n.onChange})}),e.jsx(g,{})]})})})]},h.index))})]})})})]})}function se({form:s,destinationIndex:t,allowanceField:l}){return e.jsx("table",{className:"w-full allowance-table",children:l.map((c,u)=>e.jsx(ae,{form:s,allowance:c,destinationIndex:t,allowanceIndex:u}))})}function ae({form:s,allowance:t,destinationIndex:l,allowanceIndex:c}){const[u,h]=D.useState(!1),x=p=>{h(b=>!b)},n=V({control:s.control,name:`destinations.${l}.allowances.${c}.detail.0.request_price`}),m=V({control:s.control,name:`destinations.${l}.allowances.${c}.detail`}),d=()=>{if(t.type==="total")return parseFloat(n||0)*1;{let p=0;return m==null||m.forEach(b=>{const y=parseFloat(b.request_price||0);p+=y}),p}},S=p=>b=>{const y=parseFloat(b.target.value)||0;t.request_value==="unlimited"?p.onChange(b):t.request_value==="up to max value"?y<=t.subtotal?p.onChange(b):alert(`Value cannot exceed the subtotal of IDR ${t.subtotal}`):t.request_value==="fixed value"&&alert("This value is fixed and cannot be changed.")};return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{width:220,style:{verticalAlign:"middle"},className:"text-sm",children:t.name}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:":"}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:t.type=="total"?e.jsx("span",{className:"text-sm",children:"IDR"}):e.jsx("span",{})}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:t.type=="total"?e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{control:s.control,name:`destinations.${l}.allowances.${c}.detail.0.request_price`,render:({field:p})=>e.jsxs(_,{children:[e.jsx(f,{children:e.jsx(N,{value:p.value,onChange:S(p)})}),e.jsx(g,{})]})}),e.jsx("span",{className:"text-sm",children:"* 100%"})]}):e.jsxs("span",{className:"text-sm",children:[" ",t.detail.length," Days * ",t.subtotal," * 100%"]})}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"text-sm",style:{padding:"2px 5px"},children:["= IDR ",d()]})})}),t.type=="total"?e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"}}):e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},onClick:()=>x(),children:e.jsxs(U,{variant:"ghost",type:"button",size:"sm",className:"w-9 p-0",children:[e.jsx(be,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Toggle"})]})})]},t.id),u&&e.jsx(e.Fragment,{children:t.detail.map((p,b)=>e.jsxs("tr",{children:[e.jsxs("td",{className:"text-end",style:{verticalAlign:"middle"},children:[e.jsx("span",{className:"text-sm",children:C(p.date).format("DD/MM/YYYY")})," "]}),e.jsx("td",{style:{padding:"8px 2px",verticalAlign:"middle"},children:":"}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:e.jsx("span",{className:"text-sm",children:"IDR"})}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:e.jsx("div",{className:"flex mt-1 text-sm justify-between items-center",children:e.jsx(j,{control:s.control,name:`destinations.${l}.allowances.${c}.detail.${b}.request_price`,render:({field:y})=>e.jsxs(_,{children:[e.jsx(f,{children:e.jsx(N,{value:y.value,onChange:S(y)})}),e.jsx(g,{})]})})})}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"}}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"}})]},p.id))})]})}function $e({form:s,type:t,allowanceIndex:l,destinationIndex:c}){const{fields:u}=B({control:s.control,name:`destinations.${c}.allowances.${l}.detail`});return e.jsx(e.Fragment,{children:u.map((h,x)=>e.jsx(j,{control:s.control,name:`destinations.${c}.allowances.${x}.detail.${x}.request_price`,render:({field:n})=>e.jsxs(_,{children:[e.jsx(f,{children:e.jsx(N,{value:n.value,onChange:n.onChange})}),e.jsx(g,{})]})}))})}function Fe(s,t){throw new Error("Function not implemented.")}function Y(s){throw new Error("Function not implemented.")}const et=Object.freeze(Object.defineProperty({__proto__:null,AllowanceInputForm:$e,AllowanceRowInput:ae,BussinesTripDestination:Q,BussinessDestinationForm:X,BussinessTripFormV1:Ae,DetailAllowance:se,DetailAttedances:te,ResultPerItem:ee,ResultTotalItem:Z},Symbol.toStringTag,{value:"Module"}));export{Ae as B,Ze as D,Xe as G,et as a};
