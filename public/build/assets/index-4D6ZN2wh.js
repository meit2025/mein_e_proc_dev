import{R as c,q as R,u as T,j as t}from"./app-C2MmKQVK.js";import{D as f}from"./DataGrid-TzVQRq3l.js";import y from"./MainLayout-3elzGYUl.js";import{BusinessTripType as b,columns as h}from"./models-C2sijQR2.js";import{R as j,a as w}from"./api-C54hJa68.js";import{a as _}from"./axiosInstance-B1IQICK5.js";import"./app-DQK4SJPx.js";import"./dialog-CipJZvQp.js";import"./index-BvEDIsvL.js";import"./index-D44W-60X.js";import"./index-DV2krCYg.js";import"./index-DxMHSjLf.js";import"./Combination-DntgUC4K.js";import"./index-CG0AYzH8.js";import"./index-Dfe7PVnf.js";import"./utils-Cb-zNBlD.js";import"./button-UQyk-1AC.js";import"./index-Bb4qSo10.js";import"./LoadingSpin-DmVVLAPj.js";import"./dropdown-menu-BNt4jWd_.js";import"./index-D934nZ6G.js";import"./index-Db1EHqjS.js";import"./createLucideIcon-Daq3JFw7.js";import"./Box-CdbZjx9B.js";import"./DefaultPropsProvider-ni8dUULV.js";import"./useSlot-B9V_N68w.js";import"./createSimplePaletteValueFilter-Dhv1zxpp.js";import"./Tabs-ClKvGMYV.js";import"./TextField-DhJ78ri7.js";import"./createSvgIcon-IlEZzsrU.js";import"./useControlled-BvHcOs0x.js";import"./FormHelperText-CysgLVxO.js";import"./KeyboardArrowRight-Cppa9F2k.js";import"./Button-BWOJ4Ntc.js";import"./DataGrid-B2owCrtP.js";import"./index-4zcbrYft.js";import"./ListItemText-DsCgGDLY.js";import"./Typography-DkTxCPlJ.js";import"./FormControlLabel-p7yntXCs.js";import"./SwitchBase-C3SZuBUQ.js";import"./Sidebar-B51aqFgE.js";import"./page-YWHBayB9.js";import"./logo-HtzTG1e0.js";import"./page-DB73t_G4.js";import"./scroll-area-D7T9lCKs.js";import"./Header-C_99qRLy.js";import"./Loading-1TWfZ_yz.js";import"./index--t6Q3ET6.js";import"./Footer-DkA-UqJ2.js";import"./CustomStatus-JFsFXOY3.js";const u="report business trip",k=({listPurposeType:e,users:g,pajak:B,costcenter:E,purchasingGroup:L,listDestination:O})=>{var m,a;c.useState(!1),c.useState({type:b.create,id:void 0});const{auth:s}=R().props;(m=s.user)==null||m.id,(a=s.user)==null||a.is_admin;const{showToast:p}=T(),d=async r=>{var n,l;try{console.log(r);const o=await _.get(w+r,{responseType:"blob"});console.log(o);const x=window.URL.createObjectURL(new Blob([o.data])),i=document.createElement("a");i.href=x,i.setAttribute("download","Business_Trip_Request_Report.xlsx"),document.body.appendChild(i),i.click(),p("File berhasil diekspor!","success")}catch(o){p(((l=(n=o.response)==null?void 0:n.data)==null?void 0:l.message)||"Terjadi kesalahan saat ekspor.","error")}};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex md:mb-4 mb-2 w-full justify-end"}),t.jsx(f,{isHistory:!1,role:{detail:`${u} view`,create:`${u} export`},onExport:async r=>await d(r),columns:h,url:{url:j},labelFilter:"search"})]})};k.layout=e=>t.jsx(y,{title:"Report",description:"Business Trip",children:e});export{k as Index,k as default};
