import{u as ue,r as j,j as e}from"./app-BTT2Hi9L.js";/* empty css              */import{d as je,F as f,a as g,b as _,c as w,e as fe,I as A}from"./form-Cn_O4pvV.js";import{u as ge,b as B,a as _e,c as U}from"./index.esm-VqG0F-oi.js";import{S as te,a as se,b as ae,c as ne,d as le}from"./select-jNKCgknz.js";import{S as re}from"./separator-BHNZwX27.js";import{T as we}from"./textarea-CQ144C3r.js";import{T as ve,a as ye,b as be,c as Ae}from"./tabs-CUT8Wthm.js";import{o as Y,a as M,n as K,i as Ne,s as u,d as ie,t as De}from"./types-DC3rSv43.js";import{S as Te}from"./scroll-area-C1gDsoVJ.js";import{G as $e,C as Ce}from"./api-DtjMnnyq.js";import{a as oe}from"./axiosInstance-C2Sq3Z4B.js";import{h as C}from"./moment-C5S46NFB.js";import{B as z}from"./button-D5po1-kR.js";import{d as Fe}from"./index-CurrXPq9.js";import{W as Se}from"./WorkflowComponent-DCbx-EhI.js";import{B as qe}from"./Button-B09GUSd8.js";import{C as Re}from"./chevrons-up-down-5sHU-W3l.js";import"./app-ffJwujpg.js";import"./utils-mlA64J5d.js";import"./index-CaS1uhW2.js";import"./index-BfItECJS.js";import"./index-CuLH5o9g.js";import"./index-Cm_GmgHt.js";import"./index-BwwwKVVQ.js";import"./index-DhdkEhfp.js";import"./index-BdQq_4o_.js";import"./index-C_efu6Ma.js";import"./index-3ml3h7G5.js";import"./index-DmNFg_3N.js";import"./index-DMd1fZMP.js";import"./index-BOtIm3yP.js";import"./index-DvR0F_LQ.js";import"./index-BGXW6IWI.js";import"./createLucideIcon-CJR_kDz_.js";import"./createSvgIcon-DT99xyz5.js";import"./DefaultPropsProvider-Bfn9fTI0.js";import"./createSimplePaletteValueFilter-BJ1N3K2S.js";import"./CircularProgress-DWcqI8xw.js";const Nt=({listBusinessTrip:n})=>{var Z;const s=Y({request_no:u().nonempty("Request for required"),remark:u().nonempty("Remark is required"),attachment:Ne(File).nullable().optional(),total_destination:K().int("Total Destinantion Required"),destinations:M(Y({destination:u().nonempty("Destinantion Required"),business_trip_start_date:ie().optional(),business_trip_end_date:ie().optional(),detail_attedances:M(Y({date:u().optional(),shift_code:u().optional(),shift_start:u().optional(),shift_end:u().optional(),start_time:u().optional(),end_time:u().optional(),request_start_time:u().optional(),request_end_time:u().optional()})),allowances:M(Y({name:u().optional(),code:u().optional(),default_price:u().optional(),type:u().optional(),currency:u().optional(),subtotal:K().optional(),detail:M(Y({date:u().nullish(),request_price:u().optional()}))})),other:M(Y({value:K().optional()}))}))}),a=ge({resolver:De(s),defaultValues:{request_no:"",remark:"",attachment:null,total_destination:1,destinations:[{destination:"",business_trip_start_date:new Date,business_trip_end_date:new Date,detail_attedances:[],allowances:[],other:[{value:0}]}]}}),d=(r,o)=>{var l;return r.type==="total"?parseFloat(((l=o==null?void 0:o[0])==null?void 0:l.request_price)||0):o==null?void 0:o.reduce((i,$)=>i+parseFloat($.request_price||0),0)},m=()=>a.getValues("destinations").reduce((l,i,$)=>{const P=(i.allowances||[]).reduce((L,O,X)=>{const W=a.getValues(`destinations.${$}.allowances.${X}.detail`),G=d(O,W);return L+G},0);return l+P},0),{showToast:h}=ue(),c=async r=>{var o;console.log(r," valuesnya");try{const l=m(),i=new FormData;i.append("user_id",((o=t.request_for)==null?void 0:o.id.toString())??""),i.append("value",l.toString()),i.append("request_no",r.request_no??""),i.append("remark",r.remark??""),i.append("attachment",r.attachment??""),i.append("total_destination",`${r.total_destination}`),r.destinations.forEach(($,V)=>{i.append(`destinations[${V}]`,JSON.stringify($))}),await Fe.Inertia.post(Ce,i,{headers:{"Content-Type":"multipart/form-data"}}),h("succesfully created data","success")}catch(l){console.log(l)}},[t,y]=j.useState([]),[F,N]=j.useState([]),[v,b]=j.useState([]);async function p(r){a.setValue("request_no",r||"");const o=$e(r);try{const l=await oe.get(o),i=l.data.data;console.log(i," Response Detail Business Trip"),a.setValue("remark",i.remarks||""),a.setValue("total_destination",i.total_destination||1),y(l.data.data),b(i.destinations),D(i.total_destination),H(i.destinations)}catch(l){console.log(l)}}const[x,D]=j.useState(""),T=r=>{D(r)};console.log(t,"businessTripDetail");function H(r){const o=r.map(l=>({destination:l.destination||"",pajak:l.pajak||"",purchasing_group:l.purchasing_group||"",business_trip_start_date:new Date(l.business_trip_start_date),business_trip_end_date:new Date(l.business_trip_end_date),allowances:l.allowances||[],detail_attedances:l.detail_attedances||[],total_allowance:l.total_allowance||0,other:l.other||[]}));a.setValue("destinations",o)}const{fields:S,update:I}=B({control:a.control,name:"destinations"});j.useEffect(()=>{},[t,x]);const[J,ce]=j.useState(0),[de,he]=j.useState(!1),[k,pe]=j.useState({approvalRequest:[],approvalFrom:[],acknowledgeFrom:[]}),Q=async()=>{var r,o,l,i,$,V,P,L,O,X,W,G;try{const R=m();if(R===0){h("Please fill the balance","error");return}const E=await oe.get("/check-approval",{params:{value:R,user_id:((r=t.request_for)==null?void 0:r.id)??"",type:"TRIP_DECLARATION"}});if(E.data.status_code===200){const xe=(l=(o=E.data)==null?void 0:o.data)==null?void 0:l.approval.map(q=>(q==null?void 0:q.division_name)||null),me=($=(i=E.data)==null?void 0:i.data)==null?void 0:$.approval.map(q=>(q==null?void 0:q.name)||null),ee=[];(P=(V=E.data)==null?void 0:V.data)!=null&&P.hr&&ee.push((X=(O=(L=E.data)==null?void 0:L.data)==null?void 0:O.hr)==null?void 0:X.name),pe({approvalRequest:xe,approvalFrom:me,acknowledgeFrom:ee}),he(!0)}}catch(R){h((G=(W=R==null?void 0:R.response)==null?void 0:W.data)==null?void 0:G.message,"error")}};return j.useEffect(()=>{m()>0&&Q()},[a.watch("destinations")]),e.jsx(Te,{className:"h-[600px] w-full ",children:e.jsx(je,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(c),children:[e.jsxs("table",{className:"text-xs mt-4 reimburse-form-table font-thin",children:[e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Declaration No."}),e.jsx("td",{children:"DCLR-YYYY-MM-XXXXXXX"})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Request No."}),e.jsx("td",{children:e.jsx(f,{control:a.control,name:"request_no",render:({field:r})=>e.jsxs(g,{children:[e.jsx(_,{children:e.jsxs(te,{onValueChange:o=>p(o),value:r.value,children:[e.jsx(se,{className:"w-[200px] py-2",children:e.jsx(ae,{placeholder:"-- Select One --"})}),e.jsx(ne,{children:n.map(o=>e.jsx(le,{value:o.id.toString(),children:o.request_no}))})]})}),e.jsx(w,{})]})})})]}),t&&e.jsxs(e.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Purpose Type"}),e.jsx("td",{className:"text-sm",children:t.name_purpose})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Request for"}),e.jsx("td",{className:"text-sm",children:t.name_request})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Cost Center"}),e.jsx("td",{className:"text-sm",children:(Z=t==null?void 0:t.cost_center)==null?void 0:Z.company_code})]})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Remark"}),e.jsx("td",{children:e.jsx(f,{control:a.control,name:"remark",render:({field:r})=>e.jsxs(g,{children:[e.jsx(_,{children:e.jsx(we,{placeholder:"Insert remark",...r,rows:4,className:"w-[300px]"})}),e.jsx(w,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"File Attachment"}),e.jsx("td",{children:e.jsx(f,{control:a.control,name:"attachment",render:({field:r})=>e.jsxs(g,{children:[e.jsx(fe,{className:"text-xs text-gray-500 font-extralight mb-1",children:"Max File: 1000KB"}),e.jsx(_,{children:e.jsx("input",{className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-xs shadow-sm transition-colors file:border-0 file:bg-transparent file:text-xs file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",type:"file",onChange:o=>{var i;const l=(i=o.target.files)==null?void 0:i[0];l?r.onChange(l):r.onChange(null)}})}),e.jsx(w,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"File Extension"}),e.jsx("td",{className:"text-gray-500 text-xs font-extralight",children:"Not Availabe"})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Total Destination"}),e.jsxs("td",{children:[" ",e.jsx(f,{control:a.control,name:"total_destination",render:({field:r})=>e.jsxs(g,{children:[e.jsx(_,{children:e.jsxs(te,{value:x,onValueChange:T,disabled:!0,children:[e.jsx(se,{className:"w-[200px] py-2",children:e.jsx(ae,{placeholder:"-- Select Bussiness Trip --"})}),e.jsx(ne,{children:Array.from({length:5},(o,l)=>e.jsxs(le,{value:(l+1).toString(),children:[" ",l+1," "]},l))})]})}),e.jsx(w,{})]})})]})]})]}),e.jsx(re,{className:"my-4"}),e.jsx(Ye,{updateDestination:I,destinationField:S,form:a,listAllowances:F,totalDestination:a.getValues("total_destination").toString(),setTotalAllowance:ce,businessTripDetail:t}),e.jsx(re,{className:"my-4"}),e.jsx(qe,{onClick:async()=>await Q(),variant:"contained",color:"primary",type:"button",children:"Check Approval"}),e.jsx("div",{className:"my-2",children:de&&e.jsx(Se,{workflowApproval:{approvalRequest:k.approvalRequest,approvalFrom:k.approvalFrom,acknowledgeFrom:k.acknowledgeFrom},workflowApprovalStep:k.approvalFrom,workflowApprovalDiagram:k.approvalFrom})}),e.jsx(z,{type:"submit",children:"submit"})]})})})};function Ye({totalDestination:n,listAllowances:s,form:a,destinationField:d,updateDestination:m,setTotalAllowance:h,businessTripDetail:c}){return e.jsxs(ve,{defaultValue:"destination1",className:"w-full",children:[e.jsx(ye,{className:"flex items-center justify-start space-x-4",children:d.map((t,y)=>e.jsxs(be,{value:`destination${y+1}`,children:["Destination ",y+1]}))}),d.map((t,y)=>e.jsx(ke,{listAllowances:s,updateDestination:m,destination:t,form:a,index:y,setTotalAllowance:h,businessTripDetail:c}))]})}function ke({form:n,index:s,destination:a,updateDestination:d,listAllowances:m,setTotalAllowance:h,businessTripDetail:c}){const{fields:t,update:y}=B({control:n.control,name:`destinations[${s}].detail_attedances`}),{fields:F}=B({control:n.control,name:`destinations[${s}].allowances`}),[N,v]=j.useState(!1),{setValue:b}=_e(),p=U({control:n.control,name:"total_percent"}),x=c.total_cash_advance;return j.useEffect(()=>{const T=parseFloat(p||0)/100*x;b("total_cash_advance",T.toFixed(2))},[p,x,b]),e.jsxs(Ae,{value:`destination${s+1}`,children:[e.jsxs("div",{children:[e.jsxs("table",{className:"text-xs mt-4 reimburse-form-detail font-thin",children:[e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Destination"}),e.jsx("td",{children:a.destination})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Pajak"}),e.jsx("td",{className:"text-sm",children:a==null?void 0:a.pajak})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Purchasing Group"}),e.jsx("td",{className:"text-sm",children:a==null?void 0:a.purchasing_group})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Bussines Trip Date"}),e.jsxs("td",{className:"flex space-x-2 items-center gap-3",children:[e.jsx("span",{children:C(a.business_trip_start_date).format("DD/MM/YYYY")}),e.jsx("span",{children:"To"}),e.jsx("span",{children:C(a.business_trip_end_date).format("DD/MM/YYYY")})]})]})]}),e.jsx(Ve,{detailAttedanceFields:t,form:n,updateAttedanceFields:y,destinationIndex:s}),e.jsx("table",{className:"text-xs mt-4 reimburse-form-detail font-thin",children:e.jsxs("tr",{children:[e.jsx("td",{className:"text-sm",children:"Detail Bussines Trip Allowance:"}),e.jsx("td",{})]})}),e.jsx(Ee,{allowanceField:F,destinationIndex:s,form:n})]},s),e.jsx("table",{className:"w-full text-sm mt-10",children:e.jsxs("tr",{children:[e.jsx("td",{className:"w-[20%]",children:"Cash Advance"}),e.jsx("td",{className:"w-[80%] flex",children:x})]})})]})}function Dt({allowanceField:n,destinationIndex:s,form:a,setTotalAllowance:d}){const m=a.watch(`destinations[${s}].allowances`),h=a.watch(`destinations[${s}].total_allowance`);return e.jsx(e.Fragment,{children:e.jsxs("table",{className:"w-full text-sm mt-10",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-[50%]",children:"Item"}),e.jsx("th",{className:"w-[50%]",children:"Sub Total"})]})}),e.jsx("tbody",{children:m.map((c,t)=>e.jsxs("tr",{children:[e.jsx("td",{children:c.name}),e.jsxs("td",{className:"flex justify-between pr-4",children:[e.jsx("span",{children:"IDR"}),e.jsx("span",{children:c.subtotal})]})]},c.id))}),e.jsx("tfoot",{className:"mt-4",children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("i",{children:"Total Allowance"})}),e.jsxs("td",{className:"flex justify-between pr-4",children:[e.jsx("span",{children:"IDR"}),e.jsx("span",{children:h})]})]})})]})})}function Ve({form:n,destinationIndex:s,detailAttedanceFields:a,updateAttedanceFields:d}){const m=n.watch(`destinations[${s}].detail_attedances`);return j.useEffect(()=>{},[m]),j.useEffect(()=>{},[a]),e.jsxs("table",{className:"text-xs mt-4 reimburse-form-detail font-thin",children:[e.jsx("tr",{children:e.jsx("td",{colSpan:2,children:e.jsx("div",{className:"mb-4 text-sm",children:"Detail Attedance: "})})}),e.jsx("tr",{children:e.jsx("td",{className:"overflow-x",children:e.jsxs("table",{className:"detail-attedance text-xs table-auto overflow-scroll w-full",children:[e.jsxs("thead",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Shift code"}),e.jsx("th",{children:"Shift Start"}),e.jsx("th",{children:"Shift End"}),e.jsx("th",{children:"Request Start Time"}),e.jsx("th",{children:"Request End Time"}),e.jsx("th",{children:"Start Time"}),e.jsx("th",{children:"End Time"})]}),e.jsx("tbody",{children:m.map((h,c)=>e.jsxs("tr",{children:[e.jsxs("td",{children:[C(h.date).format("DD/MM/YYYY"),e.jsx(f,{control:n.control,name:`destinations.${s}.detail_attedances.${c}.date`,render:({field:t})=>e.jsxs(g,{children:[e.jsx(_,{children:e.jsx(A,{defaultValue:C(t.value).format("YYYY-MM-DD"),onChange:t.onChange,type:"hidden"})}),e.jsx(w,{})]})})]}),e.jsxs("td",{children:[h.shift_code,e.jsx(f,{control:n.control,name:`destinations.${s}.detail_attedances.${c}.shift_code`,render:({field:t})=>e.jsxs(g,{children:[e.jsx(_,{children:e.jsx(A,{defaultValue:C(t.value).format("YYYY-MM-DD"),onChange:t.onChange,type:"hidden"})}),e.jsx(w,{})]})})]}),e.jsxs("td",{children:[h.shift_start,e.jsx(f,{control:n.control,name:`destinations.${s}.detail_attedances.${c}.shift_start`,render:({field:t})=>e.jsxs(g,{children:[e.jsx(_,{children:e.jsx(A,{defaultValue:C(t.value).format("YYYY-MM-DD"),onChange:t.onChange,type:"hidden"})}),e.jsx(w,{})]})})]}),e.jsxs("td",{children:[h.shift_end,e.jsx(f,{control:n.control,name:`destinations.${s}.detail_attedances.${c}.shift_end`,render:({field:t})=>e.jsxs(g,{children:[e.jsx(_,{children:e.jsx(A,{defaultValue:C(t.value).format("YYYY-MM-DD"),onChange:t.onChange,type:"hidden"})}),e.jsx(w,{})]})})]}),e.jsx("td",{children:e.jsx(f,{control:n.control,name:`destinations.${s}.detail_attedances.${c}.start_time`,render:({field:t})=>e.jsxs(g,{children:[e.jsx(_,{children:e.jsx(A,{defaultValue:t.value,onChange:t.onChange})}),e.jsx(w,{})]})})}),e.jsx("td",{children:e.jsx(f,{control:n.control,name:`destinations.${s}.detail_attedances.${c}.end_time`,render:({field:t})=>e.jsxs(g,{children:[e.jsx(_,{children:e.jsx(A,{defaultValue:t.value,onChange:t.onChange})}),e.jsx(w,{})]})})}),e.jsx("td",{children:e.jsx(f,{control:n.control,name:`destinations.${s}.detail_attedances.${c}.request_start_time`,render:({field:t})=>e.jsxs(g,{children:[e.jsx(_,{children:e.jsx(A,{defaultValue:t.value,onChange:t.onChange})}),e.jsx(w,{})]})})}),e.jsx("td",{children:e.jsx(f,{control:n.control,name:`destinations.${s}.detail_attedances.${c}.request_end_time`,render:({field:t})=>e.jsxs(g,{children:[e.jsx(_,{children:e.jsx(A,{defaultValue:t.value,onChange:t.onChange})}),e.jsx(w,{})]})})})]},h.index))})]})})})]})}function Ee({form:n,destinationIndex:s,allowanceField:a}){const d=n.watch(`destinations[${s}].allowances`);console.log("detailAllowanceceWatch",d),j.useEffect(()=>{},[d]);const{fields:m,append:h,remove:c}=B({control:n.control,name:`destinations.${s}.other`}),t=U({control:n.control,name:`destinations.${s}.other`}),y=()=>(t||[]).reduce((N,v)=>{const b=Number((v==null?void 0:v.value)||0);return N+b},0),F=()=>{h({value:0})};return e.jsxs("table",{className:"w-full allowance-table",children:[d.map((N,v)=>e.jsx(Me,{form:n,allowance:N,destinationIndex:s,allowanceIndex:v})),m.length===0&&e.jsx("tr",{children:e.jsx("td",{children:e.jsx(z,{type:"button",className:"text-xl",onClick:F,children:"+"})})}),m.map((N,v)=>e.jsxs("tr",{children:[e.jsx("td",{width:220,style:{verticalAlign:"middle"},className:"text-sm",children:"Other Allowance"}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:":"}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:e.jsx("span",{className:"text-sm",children:"IDR"})}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{control:n.control,name:`destinations.${s}.other[${v}].value`,render:({field:b})=>e.jsxs(g,{children:[e.jsx(_,{children:e.jsx(A,{type:"number",value:b.value??"",onChange:p=>{const x=p.target.value===""?void 0:Number(p.target.value);b.onChange(x)}})}),e.jsx(w,{})]})}),e.jsx("span",{className:"text-sm",children:"* 100%"})]})}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"text-sm",style:{padding:"2px 5px"},children:["= IDR ",y()]})})}),e.jsx("td",{children:e.jsx(z,{type:"button",className:"text-xs",onClick:()=>c(v),children:"X"})})]},v))]})}function Me({form:n,allowance:s,destinationIndex:a,allowanceIndex:d}){const[m,h]=j.useState(!1),[c,t]=j.useState(0),y=p=>{h(x=>!x)},F=U({control:n.control,name:`destinations[${a}].allowances[${d}].detail[0].request_price`}),N=U({control:n.control,name:`destinations[${a}].allowances[${d}].detail`}),v=()=>{if(s.type==="total")return parseFloat(F||0)*1;{let p=0;return N==null||N.forEach(x=>{const D=parseFloat(x.request_price||0);p+=D}),p}},b=(p,x)=>{const D=parseFloat(x),T=isNaN(D)?0:D,H=s.request_value;let S=!0;switch(H){case"unlimited":S=!0;break;case"fixed value":const I=s.subtotal;T!==I&&(alert(`Please enter the fixed value of IDR ${I}`),S=!1);break;case"up to max value":const J=s.subtotal;T>J&&(alert(`The value should not exceed IDR ${J}`),S=!1);break;default:S=!1}S&&n.setValue(`destinations[${a}].allowances[${d}].detail[${p}].request_price`,T)};return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{width:220,style:{verticalAlign:"middle"},className:"text-sm",children:s.name}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:":"}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:s.type=="total"?e.jsx("span",{className:"text-sm",children:"IDR"}):e.jsx("span",{})}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:s.type=="total"?e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{control:n.control,name:`destinations[${a}].allowances[${d}].detail[0].request_price`,render:({field:p})=>e.jsxs(g,{children:[e.jsx(_,{children:e.jsx(A,{value:p.value,onChange:x=>b(0,x.target.value)})}),e.jsx(w,{})]})}),e.jsx("span",{className:"text-sm",children:"* 100%"})]}):e.jsxs("span",{className:"text-sm",children:[" ",s.detail.length," Days * ",s.subtotal," * 100%"]})}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"text-sm total",style:{padding:"2px 5px"},children:["= IDR ",v()]})})}),s.type=="total"?e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"}}):e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},onClick:()=>y(),children:e.jsxs(z,{variant:"ghost",type:"button",size:"sm",className:"w-9 p-0",children:[e.jsx(Re,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Toggle"})]})})]},s.id),m&&e.jsx(e.Fragment,{children:s.detail.map((p,x)=>e.jsxs("tr",{children:[e.jsxs("td",{className:"text-end",style:{verticalAlign:"middle"},children:[e.jsx("span",{className:"text-sm",children:C(p.date).format("DD/MM/YYYY")})," "]}),e.jsx("td",{style:{padding:"8px 2px",verticalAlign:"middle"},children:":"}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:e.jsx("span",{className:"text-sm",children:"IDR"})}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:e.jsx("div",{className:"flex mt-1 text-sm justify-between items-center",children:e.jsx(f,{control:n.control,name:`destinations[${a}].allowances[${d}].detail[${x}].request_price`,render:({field:D})=>e.jsxs(g,{children:[e.jsx(_,{children:e.jsx(A,{value:D.value,onChange:T=>b(x,T.target.value)})}),e.jsx(w,{})]})})})}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"}}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"}})]},p.id))})]})}function Tt({form:n,type:s,allowanceIndex:a,destinationIndex:d}){const{fields:m}=B({control:n.control,name:`destinations.${d}.allowances.${a}.detail`});return e.jsx(e.Fragment,{children:m.map((h,c)=>e.jsx(f,{control:n.control,name:`destinations.${d}.allowances.${c}.detail.${c}.request_price`,render:({field:t})=>e.jsxs(g,{children:[e.jsx(_,{children:e.jsx(A,{value:t.value,onChange:t.onChange})}),e.jsx(w,{})]})}))})}export{Tt as AllowanceInputForm,Me as AllowanceRowInput,Ye as BussinesTripDestination,ke as BussinessDestinationForm,Nt as BussinessTripFormV1,Ee as DetailAllowance,Ve as DetailAttedances,Dt as ResultTotalItem};
