import{r as _,d as j,R as s,j as C}from"./app-CQ-RdD6K.js";import{u as L,c as P}from"./index-BRxGsSpE.js";import{u as E,c as v}from"./index-CEcyuDLQ.js";var g=j[" useId ".trim().toString()]||(()=>{}),w=0;function b(c){const[l,u]=_.useState(g());return L(()=>{u(f=>f??String(w++))},[c]),c||(l?`radix-${l}`:"")}function k(c){const l=c+"CollectionProvider",[u,f]=P(l),[A,d]=u(l,{collectionRef:{current:null},itemMap:new Map}),R=n=>{const{scope:e,children:i}=n,t=s.useRef(null),o=s.useRef(new Map).current;return C.jsx(A,{scope:e,itemMap:o,collectionRef:t,children:i})};R.displayName=l;const m=c+"CollectionSlot",N=v(m),I=s.forwardRef((n,e)=>{const{scope:i,children:t}=n,o=d(m,i),r=E(e,o.collectionRef);return C.jsx(N,{ref:r,children:t})});I.displayName=m;const p=c+"CollectionItemSlot",x="data-radix-collection-item",T=v(p),S=s.forwardRef((n,e)=>{const{scope:i,children:t,...o}=n,r=s.useRef(null),M=E(e,r),a=d(p,i);return s.useEffect(()=>(a.itemMap.set(r,{ref:r,...o}),()=>void a.itemMap.delete(r))),C.jsx(T,{[x]:"",ref:M,children:t})});S.displayName=p;function y(n){const e=d(c+"CollectionConsumer",n);return s.useCallback(()=>{const t=e.collectionRef.current;if(!t)return[];const o=Array.from(t.querySelectorAll(`[${x}]`));return Array.from(e.itemMap.values()).sort((a,O)=>o.indexOf(a.ref.current)-o.indexOf(O.ref.current))},[e.collectionRef,e.itemMap])}return[{Provider:R,Slot:I,ItemSlot:S},y,f]}export{k as c,b as u};
