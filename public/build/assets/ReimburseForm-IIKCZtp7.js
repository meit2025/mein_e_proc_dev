import{j as e,r as x,u as ke,q as Ae}from"./app-Cn7ScoCP.js";import{B as Le}from"./button-hj3bxFoS.js";import{z as c,t as Me}from"./index-DkRtzB5g.js";import{f as ee}from"./rupiahCurrencyFormat-CP-6egij.js";import{d as Be,F as m,a as p,b as h,c as j,f as Pe}from"./form-zdrxFqp2.js";import{u as Ge,b as Oe}from"./index.esm-JGQvf2rf.js";import{T as se}from"./textarea-DNVXxfSA.js";/* empty css                  */import{S as ze}from"./scroll-area-DX3SjfSR.js";import{a as y}from"./axiosInstance-DPUsXD2U.js";import{S as re}from"./separator-CzC935pe.js";import{T as We,a as Ye,b as He,c as Je}from"./tabs-9KrCSBYj.js";import{S as w,a as v,b as S,c as N,d as D}from"./select-DYHj8srI.js";import{F as te}from"./formDropdown-hIQhIJ2-.js";import{C as O}from"./CustomDatePicker-NwmUIwQs.js";import{I as ae}from"./input-CizRpe5N.js";import{F as u}from"./utils-DhwAmzqm.js";import{u as oe}from"./getDropdown-DvvM9lKT.js";import{G as Ke,a as ne,b as Qe,c as Xe}from"./api-C-9NntP9.js";import{L as Ze}from"./LoadingSpin-D9-V0Je5.js";import{W as Ue}from"./WorkflowComponent-DIsbkJtZ.js";import{B as es}from"./Button-D_CZoWGu.js";import"./app-DQK4SJPx.js";import"./index-CQuD_V7Y.js";import"./index-Bb4qSo10.js";import"./index-DFw4Lnx6.js";import"./index-CDoCOwq2.js";import"./index-BRvcwzOM.js";import"./index-BHEKhnfa.js";import"./index-BrFYT6sE.js";import"./index-YaW0IwFD.js";import"./index-D2-cIiGy.js";import"./index-B4gtxg6I.js";import"./index-DDaIi8TN.js";import"./Combination-BRmlfv3v.js";import"./index-DoNXU0Di.js";import"./TextField-Cq2c3U0E.js";import"./createSvgIcon-B344z7qc.js";import"./DefaultPropsProvider-PybcnRh9.js";import"./useSlot-OzkCvYK8.js";import"./createSimplePaletteValueFilter-DU7QKGSh.js";import"./useControlled-Jmj_ljU7.js";import"./FormHelperText-BY1icTO5.js";import"./popover-DRYg0LjF.js";import"./createLucideIcon-D7sS6TuU.js";function ss({isLoading:L=!1,children:M}){return e.jsx("div",{className:"",children:L?e.jsx(e.Fragment,{children:e.jsx("div",{className:"h-64 w-full flex justify-center items-center",children:e.jsx(Ze,{})})}):M})}const Xs=({onSuccess:L,purchasing_groups:M,currencies:le,categories:ie,periods:rs,users:ts,taxes:ce,cost_center:de,edit_url:me,update_url:ue,store_url:pe,latestPeriod:as,type:d,currentUser:R})=>{const[he,je]=x.useState("form1"),{showToast:$}=ke();Ae().props,x.useState(1);const{dataDropdown:xe,getDropdown:fe}=oe(),{dataDropdown:ge,getDropdown:z}=oe(Ke),[_e,W]=x.useState([]),[be,ye]=x.useState([]),[we,ve]=x.useState([]);x.useState("");const[Y,Se]=x.useState(!1),[Ne,T]=x.useState(!1),[E,F]=x.useState([]),[q,De]=x.useState({approvalRequest:[],approvalFrom:[],acknowledgeFrom:[],approvalFromStatusRoute:[]}),Re=c.object({formCount:c.string().min(1,"total form must be have value"),remark_group:c.string().optional(),cost_center:c.string().min(1,"cost center required"),requester:c.string().min(1,"requester required"),value:c.number().optional(),user_id:c.string().optional(),forms:c.array(c.object({reimburseId:c.string().optional(),for:c.string().optional(),group:c.string().optional(),reimburse_type:c.string().min(1,"reimburse type is required"),short_text:c.string().min(1,"remarks is required"),balance:c.string().min(1,"balance required"),currency:c.string().min(1,"currency required"),tax_on_sales:c.string().min(1,"tax required"),purchase_requisition_unit_of_measure:c.string().min(1,"uom required"),purchasing_group:c.string().min(1,"Purchasing Group required"),period:c.string().min(1,"period required"),type:c.any(),item_delivery_data:c.date(),start_date:c.date(),end_date:c.date(),attachments:c.any().optional()}))}),a=Ge({resolver:Me(Re),defaultValues:{formCount:"1",remark_group:"test",cost_center:"",requester:String(R==null?void 0:R.is_admin)==="1"?"":R==null?void 0:R.nip,forms:[{reimburseId:"",for:"",group:"",reimburse_type:"",short_text:"",balance:"",currency:"IDR",tax_on_sales:"",purchase_requisition_unit_of_measure:"",purchasing_group:"",period:"",type:"",item_delivery_data:new Date,start_date:new Date,end_date:new Date,attachments:[]}]}}),{fields:I,update:g}=Oe({control:a.control,name:"forms"});async function Ce(){a.setValue("forms",[]),T(!0);try{const t=await y.get(me??""),s=t.data.data.group,n=t.data.data.forms,l=n.map(r=>({reimburseId:String(r.id),for:String(r.for),group:String(r.group),reimburse_type:r.reimburse_type.code,short_text:r.short_text,balance:r.balance,currency:r.currency,tax_on_sales:String(r.tax_on_sales),purchase_requisition_unit_of_measure:String(r.purchase_requisition_unit_of_measure),purchasing_group:String(r.purchasing_group),period:r.period,type:r.type,item_delivery_data:new Date(r.item_delivery_data),start_date:new Date(r.start_date),end_date:new Date(r.end_date),attachments:""}));a.setValue("formCount",n.length.toString()),a.setValue("remark_group",s.remark),a.setValue("cost_center",String(s.cost_center.id)),a.setValue("requester",s.requester);let o=0;for(const r of n)await B(o,{type:r.type}),await H(o,{type:r.type,reimburse_type:r.reimburse_type.code}),await J(o,{type:r.type,reimburse_type:r.reimburse_type.code,period:r.period}),await k(o,{period:r.period,reimburse_type:r.reimburse_type.code}),o++;a.setValue("forms",l),T(!1)}catch(t){console.log(t),T(!1)}}x.useEffect(()=>{d===u.edit&&(T(!0),Ce())},[d]);const Fe=async t=>{t.length>0&&z("",{name:"name",id:"nip",tabel:"users"})};x.useEffect(()=>{fe("",{name:"unit_of_measurement_text",id:"id",tabel:"uoms"}),z("",{name:"name",id:"nip",tabel:"users"})},[]);const B=async(t,s)=>{const n=await y.get(ne,{params:{user:a.getValues("requester"),familyRelationship:s.type},headers:{"Content-Type":"application/json"}});W(l=>{const o=[...l];return o[t]=n.data.data,o})},qe=async(t,s)=>{if(t.length>0)try{const n=await y.get(ne,{params:{search:t,user:a.getValues("requester"),familyRelationship:a.getValues(`forms.${s}.type`)}});W(l=>{const o=[...l];return o[s]=n.data.data,o})}catch(n){console.error("Error searching reimburse types:",n)}},H=async(t,s)=>{const n=await y.get(Qe,{params:{user:a.getValues("requester"),familyRelationship:s.type,reimburseType:s.reimburse_type},headers:{"Content-Type":"application/json"}});ye(l=>{const o=[...l];return o[t]=n.data.data,o})},J=async(t,s)=>{const n=await y.get(Xe,{params:{user:a.getValues("requester"),familyRelationship:s.type,reimburseType:s.reimburse_type,reimbursePeriod:s.period},headers:{"Content-Type":"application/json"}});ve(l=>{const o=[...l];return o[t]=n.data.data,o})};x.useEffect(()=>{for(let t=0;t<I.length;t++){const s=a.getValues("requester"),n=a.getValues(`forms.${t}.type`);(s||n)&&B(t,{type:n})}},[I.length,a.watch("forms")]);const Ve=()=>{for(let t=0;t<I.length;t++)a.setValue(`forms.${t}.reimburse_type`,""),a.setValue(`forms.${t}.period`,""),a.setValue(`forms.${t}.for`,""),F(s=>{const n=[...s];return n.splice(t,1),n})};function $e(t){const s=[...a.getValues("forms")];for(let n=0;n<parseInt(t);n++)if(n+1>s.length){const l={reimburseId:"",for:"",group:"",reimburse_type:"",short_text:"",balance:"",currency:"IDR",tax_on_sales:"",purchase_requisition_unit_of_measure:"",purchasing_group:"",period:"",type:"",item_delivery_data:new Date,start_date:new Date,end_date:new Date,attachments:[]};s.push(l)}a.setValue("forms",s)}const Te=t=>{je(t)},Ee=async t=>{var n;if(E)for(let l=0;l<E.length;l++)t.forms.length==0||t.forms.length-1,t.forms.reduce((o,r)=>o+parseInt(r.balance),0);const s=t.forms.reduce((l,o)=>l+parseInt(o.balance)||0,0);t.value=s,t.user_id=(t==null?void 0:t.requester)||"0";try{let l;d===u.edit?l=await y.put(ue??"",t):l=await y.post(pe??"",t),$((n=l==null?void 0:l.data)==null?void 0:n.data,"success"),L()}catch(l){console.log(l)}};async function k(t,s=null){var o,r;const n=a.getValues(`forms.${t}`),l={user:a.getValues("requester"),periode:s!=null?s.period:n.period,reimbuse_type_id:s!=null?s.reimburse_type:n.reimburse_type};try{const i=await y.get("reimburse/data-limit-and-balance",{params:l});F(f=>{const _=[...f];return _[t]=i.data.data,_})}catch(i){console.log(i),$((r=(o=i==null?void 0:i.response)==null?void 0:o.data)==null?void 0:r.message,"error")}}const K=async()=>{var t,s,n,l,o,r,i,f,_,V,Q,X;try{const Z=a.getValues("forms").reduce((P,G)=>P+parseInt(G.balance)||0,0);if(Z===0){$("Please fill the balance","error");return}const C=await y.get("/check-approval",{params:{value:Z,requester:a.getValues("requester"),type:"REIM"}});if(C.data.status_code===200){const P=(s=(t=C.data)==null?void 0:t.data)==null?void 0:s.approval.map(b=>(b==null?void 0:b.division_name)||null),G=(l=(n=C.data)==null?void 0:n.data)==null?void 0:l.approval.map(b=>(b==null?void 0:b.name)||null),U=[];(r=(o=C.data)==null?void 0:o.data)!=null&&r.hr&&U.push((_=(f=(i=C.data)==null?void 0:i.data)==null?void 0:f.hr)==null?void 0:_.name);const Ie=(((V=C.data.data)==null?void 0:V.approval)??[]).map(b=>({status:"",name:b.name,dateApproved:""}));De({approvalRequest:P,approvalFrom:G,acknowledgeFrom:U,approvalFromStatusRoute:Ie}),Se(!0)}}catch(A){$((X=(Q=A==null?void 0:A.response)==null?void 0:Q.data)==null?void 0:X.message,"error")}};return x.useEffect(()=>{a.getValues("forms").reduce((n,l)=>n+parseInt(l.balance)||0,0)>0&&Y===!0&&K()},[a.watch("forms"),a.watch("requester")]),e.jsx(ze,{className:"h-[600px] w-full",children:e.jsx(ss,{isLoading:Ne,children:e.jsx(Be,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(Ee),children:[e.jsx("table",{className:"text-xs mt-4 reimburse-form-table font-thin",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"w-1/4",children:"Reimburse Request No."}),e.jsx("td",{children:(a==null?void 0:a.code)??"-"})]}),e.jsx("tr",{children:e.jsx("td",{className:"w-1/4",children:"Request Status"})}),e.jsxs("tr",{children:[e.jsx("td",{className:"w-1/4",children:"Remark"}),e.jsx("td",{children:e.jsx(m,{control:a.control,name:"remark_group",render:({field:t})=>e.jsxs(p,{children:[e.jsx(h,{children:e.jsx(se,{placeholder:"Insert remark",...t})}),e.jsx(j,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"w-1/4",children:"Cost Center"}),e.jsx("td",{children:e.jsx(m,{control:a.control,name:"cost_center",render:({field:t})=>e.jsxs(p,{children:[e.jsx(h,{children:e.jsxs(w,{disabled:d===u.edit,onValueChange:s=>t.onChange(s),value:t.value,children:[e.jsx(v,{className:"w-[200px]",children:e.jsx(S,{placeholder:"-"})}),e.jsx(N,{children:de.map(s=>e.jsx(D,{value:s.id.toString(),children:s.cost_center},s.id))})]})}),e.jsx(j,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"w-1/4",children:"Employee"}),e.jsx("td",{children:e.jsx(te,{options:ge,fieldName:"requester",isRequired:!0,disabled:d===u.edit,placeholder:"Select Employee",onSearch:Fe,onChangeOutside:()=>Ve(),classNames:"mt-2 w-full"})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"w-1/4",children:"Number of Forms"}),e.jsx("td",{children:e.jsx(m,{control:a.control,name:"formCount",render:({field:t})=>{var s;return e.jsxs(p,{children:[e.jsx(h,{children:e.jsxs(w,{disabled:d===u.edit,onValueChange:n=>{t.onChange(n),$e(n)},value:(s=t.value)==null?void 0:s.toString(),children:[e.jsx(v,{className:"w-[200px]",children:e.jsx(S,{placeholder:"Select number of forms"})}),e.jsx(N,{children:Array.from({length:20},(n,l)=>l+1).map(n=>e.jsx(D,{value:n.toString(),children:n},n))})]})}),e.jsx(j,{})]})}})})]})]})}),e.jsx(re,{className:"my-4"}),e.jsxs(We,{value:he,onValueChange:Te,className:"w-full",children:[e.jsxs(Ye,{className:"flex items-center justify-start space-x-4",children:[" ",Array.from({length:a.watch("formCount")||1}).map((t,s)=>e.jsxs(He,{value:`form${s+1}`,children:["Form ",s+1]},s))]}),I.map((t,s)=>{var n,l;return e.jsxs(Je,{value:`form${s+1}`,children:[e.jsx(m,{control:a.control,name:`forms.${s}.reimburseId`,render:({field:o})=>e.jsxs(p,{children:[e.jsx(h,{children:e.jsx(ae,{className:"sr-only",value:t.reimburseId,onChange:o.onChange})}),e.jsx(j,{})]})}),e.jsx("div",{children:e.jsx("table",{className:"text-xs mt-4 reimburse-form-detail font-thin",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"w-1/4",children:"Type of Reimbursement "}),e.jsxs("td",{className:"flex items-center space-x-3",children:[e.jsx(m,{control:a.control,name:`forms.${s}.type`,render:({field:o})=>e.jsxs(w,{disabled:d===u.edit,onValueChange:r=>{g(s,{...t,type:String(r)}),a.setValue(`forms.${s}.reimburse_type`,""),a.setValue(`forms.${s}.period`,""),a.setValue(`forms.${s}.for`,""),F(i=>{const f=[...i];return f.splice(s,1),f})},defaultValue:t.type,children:[e.jsx(v,{children:e.jsx(S,{placeholder:"Select Family Relationship"})}),e.jsx(N,{children:ie.map(r=>e.jsx(D,{value:r,children:r},r))})]})}),e.jsx(te,{options:_e[s],fieldName:`forms.${s}.reimburse_type`,isRequired:!0,disabled:a.getValues(`forms.${s}.type`)==""||a.getValues("requester")==""||d===u.edit,placeholder:"Select Reimburse Type",onChangeOutside:(o,r)=>{const i=a.getValues("requester"),f=a.getValues(`forms.${s}.type`);o!==(r==null?void 0:r.value)&&i!==""&&f!==""&&qe(o,s),r!=null&&r.value&&(g(s,{...t,reimburse_type:r==null?void 0:r.value}),H(s,{type:a.getValues(`forms.${s}.type`),reimburse_type:r.value})),a.setValue(`forms.${s}.period`,""),a.setValue(`forms.${s}.for`,""),F(_=>{const V=[..._];return V.splice(s,1),V})},onFocus:()=>B(s,{type:a.getValues(`forms.${s}.type`)}),classNames:"mt-2 w-full"})]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"w-1/4",children:"Purchasing Group"}),e.jsx("td",{children:e.jsx(m,{control:a.control,name:`forms.${s}.purchasing_group`,render:({field:o})=>e.jsxs(p,{children:[e.jsx(h,{children:e.jsxs(w,{disabled:d===u.edit,onValueChange:r=>{g(s,{...t,purchasing_group:String(r)})},defaultValue:t.purchasing_group,children:[e.jsx(v,{className:"w-[200px]",children:e.jsx(S,{placeholder:"-"})}),e.jsx(N,{children:M.map(r=>e.jsxs(D,{value:r.id.toString(),children:[r.purchasing_group_desc," -"," ",r.purchasing_group]},r.id))})]})}),e.jsx(j,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"w-1/4",children:"Period Date"}),e.jsx("td",{children:e.jsx(m,{control:a.control,name:`forms.${s}.period`,render:({field:o})=>{var r;return e.jsxs(p,{children:[e.jsx(h,{children:e.jsxs(w,{disabled:a.getValues(`forms.${s}.reimburse_type`)==""||d===u.edit,onValueChange:i=>{g(s,{...t,period:i}),a.getValues(`forms.${s}.type`)=="Employee"?k(s):F(f=>{const _=[...f];return _.splice(s,1),_}),J(s,{type:a.getValues(`forms.${s}.type`),reimburse_type:a.getValues(`forms.${s}.reimburse_type`),period:i}),a.setValue(`forms.${s}.for`,"")},defaultValue:t.period,children:[e.jsx(v,{className:"w-[200px]",children:e.jsx(S,{placeholder:"-"})}),e.jsx(N,{children:(r=be[s])==null?void 0:r.map(i=>e.jsx(D,{value:i.value,children:i.label},i.value))})]})}),e.jsx(j,{})]})}})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"w-1/4",children:"Family "}),e.jsx("td",{children:e.jsx(m,{control:a.control,name:`forms.${s}.for`,render:({field:o})=>{var r;return e.jsxs(p,{children:[e.jsx(h,{children:e.jsxs(w,{disabled:a.getValues(`forms.${s}.type`)!=="Family"||d===u.edit,onValueChange:i=>{g(s,{...t,for:i}),a.getValues(`forms.${s}.type`)=="Family"&&k(s)},onValueChange:i=>{g(s,{...t,for:i}),a.getValues(`forms.${s}.type`)=="Family"&&k(s)},defaultValue:t==null?void 0:t.for,children:[e.jsx(v,{className:"w-[200px]",children:e.jsx(S,{placeholder:"-"})}),e.jsx(N,{children:(r=we[s])==null?void 0:r.map(i=>e.jsx(D,{value:i.value.toString(),children:i.label},i.value))})]})}),e.jsx(j,{})]})}})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"w-1/4",children:"Tax"}),e.jsx("td",{children:e.jsx(m,{control:a.control,name:`forms.${s}.tax_on_sales`,render:({field:o})=>e.jsxs(p,{children:[e.jsx(h,{children:e.jsxs(w,{disabled:d===u.edit,onValueChange:r=>{g(s,{...t,tax_on_sales:r})},defaultValue:t.tax_on_sales,children:[e.jsx(v,{className:"w-[200px]",children:e.jsx(S,{placeholder:"-"})}),e.jsx(N,{children:ce.map(r=>e.jsx(D,{value:r.id.toString(),children:r.mwszkz},r.id))})]})}),e.jsx(j,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"w-1/4",children:"Uom"}),e.jsx("td",{children:e.jsx(m,{control:a.control,name:`forms.${s}.purchase_requisition_unit_of_measure`,render:({field:o})=>e.jsxs(p,{children:[e.jsx(h,{children:e.jsxs(w,{disabled:d===u.edit,onValueChange:r=>{g(s,{...t,purchase_requisition_unit_of_measure:String(r)})},defaultValue:t.purchase_requisition_unit_of_measure,children:[e.jsx(v,{className:"w-[200px]",children:e.jsx(S,{placeholder:"-"})}),e.jsx(N,{children:(xe??[]).map((r,i)=>e.jsx(D,{value:r.value.toString(),children:r.label},r.value))})]})}),e.jsx(j,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"w-1/4",children:"Remark"}),e.jsx("td",{children:e.jsx(m,{control:a.control,name:`forms.${s}.short_text`,render:({field:o})=>e.jsxs(p,{children:[e.jsx(h,{children:e.jsx(se,{placeholder:"Insert remark",onChange:r=>{g(s,{...t,short_text:r.target.value})},defaultValue:t.short_text})}),e.jsx(j,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"w-1/4",children:"Sisa Balance"}),e.jsx("td",{children:e.jsx("span",{className:"font-bold",children:(n=E[s])==null?void 0:n.balance})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"w-1/4",children:"Sisa Limit"}),e.jsxs("td",{children:[e.jsx("span",{className:"font-bold",children:(l=E[s])==null?void 0:l.limit})," "]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"w-1/4",children:"Receipt Date"}),e.jsx("td",{children:e.jsx(m,{control:a.control,name:`forms.${s}.item_delivery_data`,render:({field:o})=>e.jsxs(p,{children:[e.jsx(h,{children:e.jsx(O,{disabled:d===u.edit,initialDate:o.value instanceof Date?o.value:new Date(o.value),onDateChange:r=>o.onChange(r)})}),e.jsx(j,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"w-1/4",children:"Claim date"}),e.jsxs("td",{className:"flex items-center",children:[e.jsx("span",{className:"mx-2",children:"Start Date"}),e.jsx(m,{control:a.control,name:`forms.${s}.start_date`,render:({field:o})=>e.jsxs(p,{children:[e.jsx(h,{children:e.jsx(O,{disabled:d===u.edit,initialDate:o.value instanceof Date?o.value:new Date(o.value),onDateChange:r=>o.onChange(r)})}),e.jsx(j,{})]})}),e.jsx("span",{className:"mx-2",children:"End Date"}),e.jsx(m,{control:a.control,name:`forms.${s}.end_date`,render:({field:o})=>e.jsxs(p,{children:[e.jsx(h,{children:e.jsx(O,{disabled:d===u.edit,initialDate:o.value instanceof Date?o.value:new Date(o.value),onDateChange:r=>o.onChange(r)})}),e.jsx(j,{})]})})]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"w-1/4",children:"Reimburse Cost"}),e.jsxs("td",{className:"w-full grid grid-cols-7 gap-x-4",children:[e.jsx("div",{className:"col-span-3",children:e.jsx(m,{control:a.control,name:`forms.${s}.currency`,render:({field:o})=>e.jsxs(p,{children:[e.jsx(h,{children:e.jsxs(w,{disabled:d===u.edit,onValueChange:r=>{g(s,{...t,currency:r})},defaultValue:t.currency,children:[e.jsx(v,{className:"w-[200px]",children:e.jsx(S,{placeholder:"-"})}),e.jsx(N,{children:le.map(r=>e.jsxs(D,{value:r.code,children:[r.name," (",r.code,")"]},r.code))})]})}),e.jsx(Pe,{className:"h-6"}),e.jsx(j,{})]})})}),e.jsx("div",{className:"col-span-4",children:e.jsx(m,{control:a.control,name:`forms.${s}.balance`,render:({field:o})=>e.jsxs(p,{children:[e.jsx(h,{children:e.jsx(ae,{type:"text",placeholder:"0",onChange:r=>{const i=r.target.value.replace(/[^0-9]/g,""),f=ee(i,!1);g(s,{...t,balance:i}),r.target.value=f},defaultValue:ee(t.balance,!1),disabled:d===u.edit})}),e.jsx(j,{})]})})})]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"w-1/4",children:"Attachments"}),e.jsx("td",{children:e.jsx(m,{control:a.control,name:`forms.${s}.attachments`,render:({field:o})=>e.jsxs(p,{children:[e.jsx(h,{children:e.jsx("input",{type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx",onChange:r=>{let i=Array.from(r.target.files)[0];console.log(r.target),i&&(alert("asdas"),g(s,{...t,attachments:i}))}})}),e.jsx(j,{})]})})})]})]})})})]},s)})]}),e.jsx(es,{onClick:async()=>await K(),variant:"contained",color:"primary",type:"button",children:"Check Approval"}),e.jsx("div",{className:"my-2",children:Y&&e.jsx(Ue,{workflowApproval:{approvalRequest:q.approvalRequest,approvalFrom:q.approvalFrom,acknowledgeFrom:q.acknowledgeFrom},workflowApprovalStep:q.approvalFromStatusRoute,workflowApprovalDiagram:q.approvalFrom})}),e.jsx(re,{className:"my-4"}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx(Le,{type:"submit",className:"w-32",children:"Save"})})]})})})})};export{Xs as ReimburseForm};
