import{u as I,r as T,j as e}from"./app-DYXD3EX6.js";import{F as N,a as l,b as o,c as i,d}from"./form-GOUxazQD.js";import{z as n,t as R}from"./index-CGfa4er-.js";import{F as h,B as A}from"./button-DVK5eS8I.js";import{u as M}from"./index.esm-CDnEN_go.js";import{S}from"./scroll-area-D7o3zFP-.js";import{S as j,a as u,b as p,c as g,d as m}from"./select-C3teCrVG.js";import{I as _}from"./input-Cs8XgmnE.js";import{a as b}from"./axiosInstance-DxCNASqb.js";import"./app-wnGHkkFm.js";import"./index-DGSpRV6m.js";import"./react-icons.esm-B54UoypB.js";import"./index-cT_ms_yg.js";import"./Combination-C-Xv4M6e.js";import"./index-BDwmgrWd.js";import"./index-DJ4vfpRt.js";const y="/api/master/reimburse-type",q=`${y}/create`,V=t=>`${y}/detail/${t}`;function X({onSuccess:t,type:c=h.create,id:x,listMaterial:f}){var C=n.object({code:n.string().min(1,"Code is required"),name:n.string().min(1,"Name is required"),is_employee:n.boolean("Type of it is required"),material_group:n.string().min(1,"Material group required"),material_number:n.string().min(1,"Material number required")});let E={code:"",name:"",is_employee:!0};async function F(){let s=V(x);try{let r=await b.get(s);a.reset({code:r.data.data.code,name:r.data.data.name})}catch{}}const a=M({resolver:R(C),defaultValues:E}),{showToast:v}=I(),w=async s=>{try{const r=await b.post(q,s);t==null||t(!0),v(r.message,"success")}catch(r){t==null||t(!1),v(r.message,"error")}};return T.useEffect(()=>{x&&c==h.edit&&F()},[x,c]),e.jsx(S,{className:"h-[600px] w-full",children:e.jsx(N,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(w),children:[e.jsxs("table",{className:"text-xs mt-4 table font-thin",children:[e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("td",{children:e.jsx(l,{control:a.control,disabled:c==h.edit,name:"code",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{children:e.jsx(_,{type:"text",placeholder:"Insert code",...s,value:s.value||"",onChange:r=>s.onChange(r.target.value)})}),e.jsx(d,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Name"}),e.jsx("td",{children:e.jsx(l,{control:a.control,name:"name",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{children:e.jsx(_,{type:"text",...s,value:s.value||"",onChange:r=>s.onChange(r.target.value)})}),e.jsx(d,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"For"}),e.jsx("td",{children:e.jsx(l,{control:a.control,name:"is_employee",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{children:e.jsxs(j,{onValueChange:r=>s.onChange(r==="true"),value:s.value?"true":"false",children:[e.jsx(u,{className:"w-[200px]",children:e.jsx(p,{placeholder:"-"})}),e.jsxs(g,{children:[e.jsx(m,{value:"true",children:"Employee"},"is_employee"),e.jsx(m,{value:"false",children:"Family"},"is_employee")]})]})}),e.jsx(d,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Material Group"}),e.jsx("td",{children:e.jsx(l,{control:a.control,name:"material_group",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{children:e.jsxs(j,{onValueChange:r=>s.onChange(r),value:s.value,children:[e.jsx(u,{className:"w-[200px]",children:e.jsx(p,{placeholder:"-"})}),e.jsx(g,{children:f.map(r=>e.jsx(m,{value:r.material_group,children:r.material_group},r.id))})]})}),e.jsx(d,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Material Number"}),e.jsx("td",{children:e.jsx(l,{control:a.control,name:"material_number",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{children:e.jsxs(j,{onValueChange:r=>s.onChange(r),value:s.value,children:[e.jsx(u,{className:"w-[200px]",children:e.jsx(p,{placeholder:"-"})}),e.jsx(g,{children:f.map(r=>e.jsx(m,{value:r.material_number,children:r.material_number},r.id))})]})}),e.jsx(d,{})]})})})]})]}),e.jsx("div",{className:"flex justify-end items-center",children:e.jsx(A,{type:"submit",children:"Save"})})]})})})}export{X as default};
