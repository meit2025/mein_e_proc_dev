import{r as i,j as e}from"./app-CY5FGUEF.js";import{F as p}from"./formDropdown-29vvBH3u.js";import{F as r}from"./formInput-DR4NGJhA.js";import{F as m}from"./formSwitch-DpoRe72G.js";import{F as x}from"./formTextArea-D32CzXQz.js";import{u as f}from"./getDropdown-goHczU0X.js";import{a as S}from"./index.esm-DQcVHJlZ.js";import"./app-ffJwujpg.js";import"./TextField-D-0XMS3Y.js";import"./createSvgIcon-BYUG5R4f.js";import"./DefaultPropsProvider-DcQ2K9so.js";import"./useSlot-DkmaCMtR.js";import"./createSimplePaletteValueFilter-DHv6GQPD.js";import"./CircularProgress-BPuKThUk.js";import"./FormHelperText-C1NttfvJ.js";import"./mergeSlotProps-l8XKMll6.js";import"./rupiahCurrencyFormat-D0mkqwcl.js";import"./Switch-3ndy7PyA.js";import"./SwitchBase-B-ODfcH_.js";import"./Typography-BaiyVydJ.js";import"./axiosInstance-BNXwJ2J2.js";import"./index-D5c0oQo1.js";const ee=({item:o,vendor:h})=>{const{watch:d,setValue:j,getValues:N}=S();console.log(N);const[a,c]=i.useState(o),[n,u]=i.useState(o),{dataDropdown:_,getDropdown:w}=f(),{dataDropdown:v,getDropdown:y}=f(),{dataDropdown:g,getDropdown:q}=f(),R=()=>{c([...a,{material_number:""}])},C=l=>{const t=a.filter((b,s)=>s!==l);c(t)},V=()=>{u([...n,{id:""}])},$=l=>{const t=n.filter((b,s)=>s!==l);u(t)};return i.useEffect(()=>{a.length===0&&c(o)},[o]),i.useEffect(()=>{n.length===0&&u(h)},[h]),i.useEffect(()=>{w("",{name:"cost_center",id:"id",tabel:"master_cost_centers"}),y("",{name:"name_one",id:"id",tabel:"master_business_partners"}),q("",{name:"material_number",id:"material_number",tabel:"master_materials"})},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full mt-8 border rounded-md shadow-md p-3",children:[e.jsxs("div",{className:"w-full border rounded-md shadow-md p-4",children:[e.jsx("p",{children:"BUDGET CONTROL "}),e.jsx("hr",{}),e.jsx(p,{options:_,fieldLabel:"Cost Center",fieldName:"const_center",isRequired:!0,disabled:!1,style:{width:"61.8rem"},placeholder:"Select Cost Center",classNames:"mt-2"}),e.jsx(r,{fieldLabel:"Budgeted/non",fieldName:"cost_center_budgeted",isRequired:!1,disabled:!1,type:"number",placeholder:"Enter your Budgeted"})]}),e.jsxs("div",{className:"w-full border rounded-md shadow-md p-4 mt-4",children:[e.jsx("p",{children:"TRANSACTION CONTROL "}),e.jsx("hr",{}),e.jsx(r,{fieldLabel:"Budgeted/non",fieldName:"transaction_budgeted",isRequired:!1,disabled:!1,type:"number",placeholder:"Enter your Budgeted"})]}),e.jsxs("div",{className:"w-full border rounded-md shadow-md p-4 mt-4",children:[e.jsx("p",{children:"Vendor Selection "}),e.jsx("hr",{}),e.jsxs("div",{className:"w-full border rounded-md shadow-md p-4 mt-4",children:[e.jsx("p",{children:"Item Selection "}),e.jsx("hr",{}),(a??[]).map((l,t)=>e.jsxs("div",{className:"p-4 mb-2",children:[e.jsx("span",{onClick:()=>C(t),style:{cursor:"pointer"},children:e.jsx("i",{className:"ki-duotone ki-trash-square text-danger text-2xl"})}),e.jsx(p,{options:g,fieldLabel:"Select Item",fieldName:`item[${t}].material_number`,isRequired:!0,disabled:!1,style:{width:"57.8rem"},placeholder:"Select Item",classNames:"mt-2"}),e.jsx(r,{fieldLabel:"Qty",fieldName:`item[${t}].qty`,isRequired:!1,disabled:!1,type:"number",placeholder:"Enter your qty"}),e.jsx("hr",{className:"mt-4"})]},t)),e.jsx("button",{type:"button",onClick:R,className:"mt-4 bg-blue-500 text-white p-2 m-4 rounded-md",children:"add Item"})]}),e.jsxs("div",{className:"w-full border rounded-md shadow-md p-4 mt-4",children:[e.jsx("p",{children:"Vendor Selection "}),e.jsx("hr",{}),(n??[]).map((l,t)=>e.jsxs("div",{className:" w-full border rounded-md shadow-md p-4 mb-2",children:[e.jsx("span",{onClick:()=>$(t),style:{cursor:"pointer"},children:e.jsx("i",{className:"ki-duotone ki-trash-square text-danger text-2xl"})}),e.jsx(p,{options:v,fieldLabel:"Select Vendor",fieldName:`vendor[${t}].vendor`,isRequired:!0,disabled:!1,style:{width:"58rem"},placeholder:"Select Vendor",classNames:"mt-2"}),e.jsx(m,{note:"Vendor Winner",fieldName:`vendors[${t}].vendor_winner`,isRequired:!1,disabled:!1}),(a??[]).map((b,s)=>e.jsxs("div",{children:[e.jsxs("p",{className:"mt-2",children:["Material Code:"," ",d(`item[${s}].material_number`)===""?"Not Selected Material Number":d(`item[${s}].material_number`)]}),e.jsxs("p",{className:"mt-2",children:["Qty:"," ",d(`item[${s}].qty`)===""?"Not Selected Material Number":d(`item[${s}].qty`)]}),e.jsx(r,{fieldLabel:"Unit Price",fieldName:`vendor[${t}].unit[${s}].unit_price`,isRequired:!1,disabled:!1,type:"number",placeholder:"Unit Price",onChanges:E=>{j(`vendor[${t}].unit[${s}].total_amount`,parseInt(d(`item[${s}].qty`))*parseInt(E.target.value??"0"))}}),e.jsx(r,{fieldLabel:"Total Amount",fieldName:`vendor[${t}].unit[${s}].total_amount`,isRequired:!1,disabled:!0,type:"number",placeholder:"Enter your Total Amount"}),e.jsx(r,{fieldLabel:"Other Criteria",fieldName:`vendor[${t}].unit[${s}].other_criteria`,isRequired:!1,disabled:!1,type:"text",placeholder:"Enter your Other Criteria"}),e.jsx("hr",{className:"mt-4"})]},s))]},t)),e.jsx("button",{type:"button",onClick:V,className:"mt-4 bg-blue-500 text-white p-2 m-4 rounded-md",children:"add Vendor"})]}),e.jsx(x,{fieldLabel:"Remark",fieldName:"vendor_remark",isRequired:!1,disabled:!1,classNames:"mt-4",style:{width:"62rem"}})]}),e.jsxs("div",{className:"w-full border rounded-md shadow-md p-4 mt-4",children:[e.jsx("p",{children:"SELECTED VENDOR "}),e.jsx("hr",{}),e.jsx(m,{note:"Vendor Is Selected based on the lowest price",fieldName:"vendor_selected_competitive_lowest_price",isRequired:!1,disabled:!1}),e.jsx(m,{note:"Vendor is selected not only based on competitive price, but also considering other criteria. Examples for selection include, but are not limited to: quality, availability, lead time, after sales service, etc.",fieldName:"vendor_selected_competitive_price",isRequired:!1,disabled:!1}),e.jsx(m,{note:"Vendor is selected when no other vendor is capable of providing the requested item/service.",fieldName:"vendor_selected_competitive_capable",isRequired:!1,disabled:!1}),e.jsx(x,{fieldLabel:"Remark",fieldName:"selected_vendor_remark",isRequired:!1,disabled:!1,classNames:"mt-4",style:{width:"62rem"}})]})]})})};export{ee as PageOne,ee as default};
