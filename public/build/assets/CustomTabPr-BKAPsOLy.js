import{u as f,j as t,r as o}from"./app-B8sqVhf5.js";import{D as c}from"./DataGrid-DwZLXRpx.js";import{b as y,S as g,c as x,d as P,e as T}from"./api-Cl2j9d7H.js";import{a as b}from"./axiosInstance-DrcXgREM.js";import{B as s}from"./ListItemText-9ImfU87U.js";import{T as D,a as C}from"./Tabs-Wdcnt1ZN.js";import{T as j}from"./Typography-BS9jsWYZ.js";const S=[{field:"requisitioner_name",headerName:"Requisitioner Name",width:200,filterable:!0},{field:"requisition_date",headerName:"Requisition Date",width:200,filterable:!0},{field:"purchase_requisition_number",headerName:"Purchase Requisition Number",width:200,filterable:!0},{field:"requirement_tracking_number",headerName:"Requirement Tracking Number",width:200,filterable:!0},{field:"item_number",headerName:"Item Number",width:150,filterable:!0},{field:"document_type",headerName:"Document Type",width:200,filterable:!0},{field:"valuation_type",headerName:"Valuation Type",width:200,filterable:!0},{field:"is_closed",headerName:"Is Closed",width:150,filterable:!0},{field:"purchasing_group",headerName:"Purchasing Group",width:200,filterable:!0},{field:"purchasing_organization",headerName:"Purchasing Organization",width:200,filterable:!0},{field:"account_assignment_category",headerName:"Account Assignment Category",width:250,filterable:!0},{field:"item_delivery_date",headerName:"Item Delivery Date",width:200,filterable:!0},{field:"storage_location",headerName:"Storage Location",width:200,filterable:!0},{field:"desired_vendor",headerName:"Desired Vendor",width:200,filterable:!0},{field:"material_group",headerName:"Material Group",width:200,filterable:!0},{field:"material_number",headerName:"Material Number",width:200,filterable:!0},{field:"unit_of_measure",headerName:"Unit of Measure",width:150,filterable:!0},{field:"quantity",headerName:"Quantity",width:150,filterable:!0},{field:"tax_code",headerName:"Tax Code",width:150,filterable:!0},{field:"item_category",headerName:"Item Category",width:200,filterable:!0},{field:"short_text",headerName:"Short Text",width:200,filterable:!0},{field:"plant",headerName:"Plant",width:150,filterable:!0},{field:"deletion_indicator",headerName:"Deletion Indicator",width:200,filterable:!0},{field:"cost_center",headerName:"Cost Center",width:200,filterable:!0},{field:"order_number",headerName:"Order Number",width:200,filterable:!0},{field:"asset_subnumber",headerName:"Asset Subnumber",width:200,filterable:!0},{field:"main_asset_number",headerName:"Main Asset Number",width:200,filterable:!0},{field:"purchase_id",headerName:"Purchase ID",width:200,filterable:!0},{field:"code_transaction",headerName:"Code Transaction",width:200,filterable:!0},{field:"header_not",headerName:"Header Not",width:200,filterable:!0},{field:"tanggal_entertainment",headerName:"Tanggal Entertainment",width:200,filterable:!0},{field:"tempat_entertainment",headerName:"Tempat Entertainment",width:200,filterable:!0},{field:"alamat_entertainment",headerName:"Alamat Entertainment",width:200,filterable:!0},{field:"jenis_entertainment",headerName:"Jenis Entertainment",width:200,filterable:!0},{field:"nama_entertainment",headerName:"Nama Entertainment",width:200,filterable:!0},{field:"posisi_entertainment",headerName:"Posisi Entertainment",width:200,filterable:!0},{field:"nama_perusahaan",headerName:"Nama Perusahaan",width:200,filterable:!0},{field:"jenis_usaha_entertainment",headerName:"Jenis Usaha Entertainment",width:250,filterable:!0},{field:"jenis_kegiatan_entertainment",headerName:"Jenis Kegiatan Entertainment",width:250,filterable:!0},{field:"status",headerName:"Status",width:150,filterable:!0},{field:"code",headerName:"Code",width:150,filterable:!0},{field:"message",headerName:"Message",width:200,filterable:!0},{field:"attachment",headerName:"Attachment",width:200,filterable:!0},{field:"balance",headerName:"Balance",width:150,filterable:!0},{field:"attachment_link",headerName:"Attachment Link",width:250,filterable:!0}],_=e=>{const{showToast:r}=f(),a=async()=>{var i,h;const d=e.id??"",l=e.type??"";try{const m=await b.get(g(d,l));r(m.data.message??"success","success")}catch(m){r(((h=(i=m.response)==null?void 0:i.data)==null?void 0:h.message)||"An error occurred","error")}};return t.jsx(t.Fragment,{children:t.jsx(c,{columns:S,defaultSearch:`?data_id=${e.id}&type_code_transaction=${e.type}&`,url:{url:y},onExport:async()=>{await a()},labelFilter:"search"})})},p=[{field:"code_transaction",headerName:"Code Transaction",width:200,filterable:!0},{field:"company_code",headerName:"Company Code",width:200,filterable:!0},{field:"document_type",headerName:"Document Type",width:200,filterable:!0},{field:"currency",headerName:"Currency",width:200,filterable:!0},{field:"document_date",headerName:"Document Date",width:200,filterable:!0},{field:"reference",headerName:"Reference",width:200,filterable:!0},{field:"document_header_text",headerName:"Document Header Text",width:200,filterable:!0},{field:"item",headerName:"Item",width:200,filterable:!0},{field:"posting_key",headerName:"Posting Key",width:200,filterable:!0},{field:"gl_indicator",headerName:"GL Indicator",width:200,filterable:!0},{field:"target_spesial",headerName:"Target Special",width:200,filterable:!0},{field:"vendor_code",headerName:"Vendor Code",width:200,filterable:!0},{field:"amount",headerName:"Amount",width:200,filterable:!0},{field:"amount_local_currency",headerName:"Amount (Local Currency)",width:200,filterable:!0},{field:"tax_amount",headerName:"Tax Amount",width:200,filterable:!0},{field:"tax_code",headerName:"Tax Code",width:200,filterable:!0},{field:"due_on",headerName:"Due On",width:200,filterable:!0},{field:"payment_method",headerName:"Payment Method",width:200,filterable:!0},{field:"purchasing_document",headerName:"Purchasing Document",width:200,filterable:!0},{field:"purchasing_document_item",headerName:"Purchasing Document Item",width:200,filterable:!0},{field:"assigment",headerName:"Assignment",width:200,filterable:!0},{field:"text",headerName:"Text",width:200,filterable:!0},{field:"profit_center",headerName:"Profit Center",width:200,filterable:!0},{field:"gjahr",headerName:"GJahr",width:200,filterable:!0},{field:"budat",headerName:"Budat",width:200,filterable:!0},{field:"monat",headerName:"Monat",width:200,filterable:!0}],N=e=>{const{showToast:r}=f(),a=async()=>{const d=(e==null?void 0:e.id)??"",l=(e==null?void 0:e.type)??"";try{const i=await b.get(g(d,l));r(i.data.message??"success","success")}catch(i){r(i.response.data.message,"error")}};return t.jsx(t.Fragment,{children:t.jsx(c,{columns:p,defaultSearch:`?data_id=${e==null?void 0:e.id}&type_code_transaction=${e==null?void 0:e.type}&`,url:{url:x},onExport:async()=>{await a()},labelFilter:"search"})})},w=e=>t.jsx("p",{children:"Logs"}),A=[{field:"main_asset_number",headerName:"Main Asset Number",width:200,filterable:!0},{field:"asset_subnumber",headerName:"Asset Subnumber",width:200,filterable:!0},{field:"order_number",headerName:"Order Number",width:200,filterable:!0},{field:"purchasing_document_number",headerName:"Purchasing Document Number",width:200,filterable:!0},{field:"item_number_of_purchasing_document",headerName:"Item Number of Purchasing Document",width:200,filterable:!0},{field:"cost_center",headerName:"Cost Center",width:200,filterable:!0},{field:"purchasing_document_date",headerName:"Purchasing Document Date",width:200,filterable:!0},{field:"purchasing_document_type",headerName:"Purchasing Document Type",width:200,filterable:!0},{field:"company_code",headerName:"Company Code",width:200,filterable:!0},{field:"purchasing_group",headerName:"Purchasing Group",width:200,filterable:!0},{field:"purchasing_organization",headerName:"Purchasing Organization",width:200,filterable:!0},{field:"incoterms_part1",headerName:"Incoterms Part 1",width:200,filterable:!0},{field:"incoterms_part2",headerName:"Incoterms Part 2",width:200,filterable:!0},{field:"vendor_account_number",headerName:"Vendor Account Number",width:200,filterable:!0},{field:"currency_key",headerName:"Currency Key",width:200,filterable:!0},{field:"terms_of_payment_key",headerName:"Terms of Payment Key",width:200,filterable:!0},{field:"requisitioner_name",headerName:"Requisitioner Name",width:200,filterable:!0},{field:"purchase_requisition_number",headerName:"Purchase Requisition Number",width:200,filterable:!0},{field:"requirement_tracking_number",headerName:"Requirement Tracking Number",width:200,filterable:!0},{field:"item_number_of_purchase_requisition",headerName:"Item Number of Purchase Requisition",width:200,filterable:!0},{field:"delivery_completed_indicator",headerName:"Delivery Completed Indicator",width:200,filterable:!0},{field:"final_invoice_indicator",headerName:"Final Invoice Indicator",width:200,filterable:!0},{field:"account_assignment_category",headerName:"Account Assignment Category",width:200,filterable:!0},{field:"storage_location",headerName:"Storage Location",width:200,filterable:!0},{field:"deletion_indicator",headerName:"Deletion Indicator",width:200,filterable:!0},{field:"material_group",headerName:"Material Group",width:200,filterable:!0},{field:"material_number",headerName:"Material Number",width:200,filterable:!0},{field:"po_unit_of_measure",headerName:"PO Unit of Measure",width:200,filterable:!0},{field:"po_quantity",headerName:"PO Quantity",width:200,filterable:!0},{field:"tax_code",headerName:"Tax Code",width:200,filterable:!0},{field:"net_price",headerName:"Net Price",width:200,filterable:!0},{field:"item_category",headerName:"Item Category",width:200,filterable:!0},{field:"invoice_receipt_indicator",headerName:"Invoice Receipt Indicator",width:200,filterable:!0},{field:"short_text",headerName:"Short Text",width:200,filterable:!0},{field:"gr_based_invoice_verification",headerName:"GR Based Invoice Verification",width:200,filterable:!0},{field:"goods_receipt_indicator",headerName:"Goods Receipt Indicator",width:200,filterable:!0},{field:"plant",headerName:"Plant",width:200,filterable:!0},{field:"status",headerName:"Status",width:200,filterable:!0},{field:"code",headerName:"Code",width:200,filterable:!0},{field:"message",headerName:"Message",width:200,filterable:!0},{field:"attachment_link",headerName:"Attachment Link",width:200,filterable:!0}],I=e=>{const{showToast:r}=f(),a=async()=>{const d=(e==null?void 0:e.id)??"",l=(e==null?void 0:e.type)??"";try{const i=await b.get(T(d,l));r(i.data.message??"success","success")}catch(i){r(i.response.data.message,"error")}};return t.jsx(t.Fragment,{children:t.jsx(c,{columns:A,defaultSearch:`?data_id=${e==null?void 0:e.id}&type_code_transaction=${e==null?void 0:e.type}&`,url:{url:P},onExport:async()=>{await a()},labelFilter:"search"})})},E=({children:e,value:r,index:a,...d})=>t.jsx("div",{role:"tabpanel",hidden:r!==a,id:`simple-tabpanel-${a}`,"aria-labelledby":`simple-tab-${a}`,...d,children:r===a&&t.jsx(s,{sx:{p:3},children:t.jsx(j,{children:e})})}),v=e=>({id:`simple-tab-${e}`,"aria-controls":`simple-tabpanel-${e}`}),L=({detailLayout:e,id:r,type:a})=>{const[d,l]=o.useState(0),i=(u,n)=>{l(n)},[h,m]=o.useState([{title:"Detail",content:e},{title:"Pr",content:t.jsx(_,{id:r,type:a})},{title:"Dp",content:t.jsx(N,{id:r,type:a})},{title:"Po",content:t.jsx(I,{id:r,type:a})},{title:"Log",content:t.jsx(w,{})}]);return o.useEffect(()=>{(a==="VEN"||a==="REIM")&&m([{title:"Detail",content:e},{title:"Pr",content:t.jsx(_,{id:r,type:a})},{title:"Dp",content:t.jsx(N,{id:r,type:a})},{title:"Log",content:t.jsx(w,{})}])},[a,e,r]),t.jsx("div",{className:"card card-grid h-full min-w-full p-4",children:t.jsx("div",{className:"card-body",children:t.jsxs(s,{sx:{width:"100%"},children:[t.jsx(s,{sx:{borderBottom:1,borderColor:"divider"},children:t.jsx(D,{value:d,onChange:i,"aria-label":"dynamic tabs example",children:h.map((u,n)=>t.jsx(C,{label:u.title,...v(n)},n))})}),h.map((u,n)=>t.jsx(E,{value:d,index:n,children:u.content},n))]})})})};export{L as C};
