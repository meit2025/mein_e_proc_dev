import{a as h}from"./axiosInstance-B8rySEio.js";import{r as m}from"./app-DWl38oT6.js";const y=()=>{const[a,u]=m.useState();return{dropdownOptions:a,getDropdown:async(l,i)=>{var n,s,c;try{let e=i;for(const t of l){const w=(await h.get(`api/master/dropdown?name=${t.struct.name}&id=${t.struct.id}&tabelname=${t.struct.tabel}&search=${t.struct.search||""}&isNotNull=${((n=t.struct.where)==null?void 0:n.isNotNull)??""}&key=${((s=t.struct.where)==null?void 0:s.key)??""}&parameter=${((c=t.struct.where)==null?void 0:c.parameter)??""}`,{headers:{"Content-Type":"application/json"}})).data.data.map(r=>{const o=t.struct.hiddenZero?d(r.label):r.label,p=t.struct.hiddenZero?d(r.value):r.value;return{...r,label:t.struct.isMapping?`${o} - ${p}`:o,value:p}});e&&t.dropdown!==""&&(e=e.map(o=>o.name===t.dropdown?{...o,options:w}:o))}u(e)}catch(e){console.error("Error fetching dropdown options:",e)}}}};function d(a){return/^0+\d+$/.test(a)?a.replace(/^0+/,""):a}export{y as u};
