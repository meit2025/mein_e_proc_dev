import{r as l,j as x}from"./app-V_aYsj-M.js";import{P as $,d as V}from"./utils-Dt2ZdthB.js";import{B as Pe}from"./button-DgFoKUJa.js";import{R as Le,P as Ve,O as Fe,C as Ke,L as Oe}from"./LoadingSpin-C1BKoITw.js";import{u as O}from"./index-ujTPzd8h.js";import{M as qe}from"./index-DnYZiXOk.js";import{P as Te,a as ze,b as Ge}from"./popover-DOfvb0SS.js";import{a as He}from"./axiosInstance-D_UQ5Oeg.js";import{C as Be}from"./chevrons-up-down-BROtukoX.js";import{c as Ue}from"./createLucideIcon-BeYui1_Y.js";/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=Ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var he=1,Je=.9,Xe=.8,Ye=.17,re=.1,ne=.999,_e=.9999,Qe=.99,Ze=/[\\\/_+.#"@\[\(\{&]/,et=/[\\\/_+.#"@\[\(\{&]/g,tt=/[\s-]/,xe=/[\s-]/g;function oe(e,r,t,d,a,i,s){if(i===r.length)return a===e.length?he:Qe;var h=`${a},${i}`;if(s[h]!==void 0)return s[h];for(var g=d.charAt(i),f=t.indexOf(g,a),c=0,p,k,S,j;f>=0;)p=oe(e,r,t,d,f+1,i+1,s),p>c&&(f===a?p*=he:Ze.test(e.charAt(f-1))?(p*=Xe,S=e.slice(a,f-1).match(et),S&&a>0&&(p*=Math.pow(ne,S.length))):tt.test(e.charAt(f-1))?(p*=Je,j=e.slice(a,f-1).match(xe),j&&a>0&&(p*=Math.pow(ne,j.length))):(p*=Ye,a>0&&(p*=Math.pow(ne,f-a))),e.charAt(f)!==r.charAt(i)&&(p*=_e)),(p<re&&t.charAt(f-1)===d.charAt(i+1)||d.charAt(i+1)===d.charAt(i)&&t.charAt(f-1)!==d.charAt(i))&&(k=oe(e,r,t,d,f+1,i+2,s),k*re>p&&(p=k*re)),p>c&&(c=p),f=t.indexOf(g,f+1);return s[h]=c,c}function ge(e){return e.toLowerCase().replace(xe," ")}function rt(e,r,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,oe(e,r,ge(e),ge(r),0,0,{})}var be={exports:{}},we={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q=l;function nt(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var lt=typeof Object.is=="function"?Object.is:nt,at=q.useState,ot=q.useEffect,it=q.useLayoutEffect,ut=q.useDebugValue;function st(e,r){var t=r(),d=at({inst:{value:t,getSnapshot:r}}),a=d[0].inst,i=d[1];return it(function(){a.value=t,a.getSnapshot=r,le(a)&&i({inst:a})},[e,t,r]),ot(function(){return le(a)&&i({inst:a}),e(function(){le(a)&&i({inst:a})})},[e]),ut(t),t}function le(e){var r=e.getSnapshot;e=e.value;try{var t=r();return!lt(e,t)}catch{return!0}}function ct(e,r){return r()}var dt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ct:st;we.useSyncExternalStore=q.useSyncExternalStore!==void 0?q.useSyncExternalStore:dt;be.exports=we;var ft=be.exports,G='[cmdk-group=""]',ae='[cmdk-group-items=""]',mt='[cmdk-group-heading=""]',ue='[cmdk-item=""]',ye=`${ue}:not([aria-disabled="true"])`,ie="cmdk-item-select",D="data-value",pt=(e,r,t)=>rt(e,r,t),Se=l.createContext(void 0),B=()=>l.useContext(Se),Ee=l.createContext(void 0),se=()=>l.useContext(Ee),ke=l.createContext(void 0),Ce=l.forwardRef((e,r)=>{let t=K(()=>{var n,u;return{search:"",value:(u=(n=e.value)!=null?n:e.defaultValue)!=null?u:"",filtered:{count:0,items:new Map,groups:new Set}}}),d=K(()=>new Set),a=K(()=>new Map),i=K(()=>new Map),s=K(()=>new Set),h=je(e),{label:g,children:f,value:c,onValueChange:p,filter:k,shouldFilter:S,loop:j,disablePointerSelection:A=!1,vimBindings:I=!0,...R}=e,F=O(),U=O(),W=O(),N=l.useRef(null),m=Ct();P(()=>{if(c!==void 0){let n=c.trim();t.current.value=n,w.emit()}},[c]),P(()=>{m(6,de)},[]);let w=l.useMemo(()=>({subscribe:n=>(s.current.add(n),()=>s.current.delete(n)),snapshot:()=>t.current,setState:(n,u,v)=>{var o,y,b;if(!Object.is(t.current[n],u)){if(t.current[n]=u,n==="search")Z(),_(),m(1,Q);else if(n==="value"&&(v||m(5,de),((o=h.current)==null?void 0:o.value)!==void 0)){let C=u??"";(b=(y=h.current).onValueChange)==null||b.call(y,C);return}w.emit()}},emit:()=>{s.current.forEach(n=>n())}}),[]),J=l.useMemo(()=>({value:(n,u,v)=>{var o;u!==((o=i.current.get(n))==null?void 0:o.value)&&(i.current.set(n,{value:u,keywords:v}),t.current.filtered.items.set(n,ce(u,v)),m(2,()=>{_(),w.emit()}))},item:(n,u)=>(d.current.add(n),u&&(a.current.has(u)?a.current.get(u).add(n):a.current.set(u,new Set([n]))),m(3,()=>{Z(),_(),t.current.value||Q(),w.emit()}),()=>{i.current.delete(n),d.current.delete(n),t.current.filtered.items.delete(n);let v=T();m(4,()=>{Z(),(v==null?void 0:v.getAttribute("id"))===n&&Q(),w.emit()})}),group:n=>(a.current.has(n)||a.current.set(n,new Set),()=>{i.current.delete(n),a.current.delete(n)}),filter:()=>h.current.shouldFilter,label:g||e["aria-label"],getDisablePointerSelection:()=>h.current.disablePointerSelection,listId:F,inputId:W,labelId:U,listInnerRef:N}),[]);function ce(n,u){var v,o;let y=(o=(v=h.current)==null?void 0:v.filter)!=null?o:pt;return n?y(n,t.current.search,u):0}function _(){if(!t.current.search||h.current.shouldFilter===!1)return;let n=t.current.filtered.items,u=[];t.current.filtered.groups.forEach(o=>{let y=a.current.get(o),b=0;y.forEach(C=>{let M=n.get(C);b=Math.max(M,b)}),u.push([o,b])});let v=N.current;z().sort((o,y)=>{var b,C;let M=o.getAttribute("id"),X=y.getAttribute("id");return((b=n.get(X))!=null?b:0)-((C=n.get(M))!=null?C:0)}).forEach(o=>{let y=o.closest(ae);y?y.appendChild(o.parentElement===y?o:o.closest(`${ae} > *`)):v.appendChild(o.parentElement===v?o:o.closest(`${ae} > *`))}),u.sort((o,y)=>y[1]-o[1]).forEach(o=>{var y;let b=(y=N.current)==null?void 0:y.querySelector(`${G}[${D}="${encodeURIComponent(o[0])}"]`);b==null||b.parentElement.appendChild(b)})}function Q(){let n=z().find(v=>v.getAttribute("aria-disabled")!=="true"),u=n==null?void 0:n.getAttribute(D);w.setState("value",u||void 0)}function Z(){var n,u,v,o;if(!t.current.search||h.current.shouldFilter===!1){t.current.filtered.count=d.current.size;return}t.current.filtered.groups=new Set;let y=0;for(let b of d.current){let C=(u=(n=i.current.get(b))==null?void 0:n.value)!=null?u:"",M=(o=(v=i.current.get(b))==null?void 0:v.keywords)!=null?o:[],X=ce(C,M);t.current.filtered.items.set(b,X),X>0&&y++}for(let[b,C]of a.current)for(let M of C)if(t.current.filtered.items.get(M)>0){t.current.filtered.groups.add(b);break}t.current.filtered.count=y}function de(){var n,u,v;let o=T();o&&(((n=o.parentElement)==null?void 0:n.firstChild)===o&&((v=(u=o.closest(G))==null?void 0:u.querySelector(mt))==null||v.scrollIntoView({block:"nearest"})),o.scrollIntoView({block:"nearest"}))}function T(){var n;return(n=N.current)==null?void 0:n.querySelector(`${ue}[aria-selected="true"]`)}function z(){var n;return Array.from(((n=N.current)==null?void 0:n.querySelectorAll(ye))||[])}function ee(n){let u=z()[n];u&&w.setState("value",u.getAttribute(D))}function te(n){var u;let v=T(),o=z(),y=o.findIndex(C=>C===v),b=o[y+n];(u=h.current)!=null&&u.loop&&(b=y+n<0?o[o.length-1]:y+n===o.length?o[0]:o[y+n]),b&&w.setState("value",b.getAttribute(D))}function fe(n){let u=T(),v=u==null?void 0:u.closest(G),o;for(;v&&!o;)v=n>0?Et(v,G):kt(v,G),o=v==null?void 0:v.querySelector(ye);o?w.setState("value",o.getAttribute(D)):te(n)}let me=()=>ee(z().length-1),pe=n=>{n.preventDefault(),n.metaKey?me():n.altKey?fe(1):te(1)},ve=n=>{n.preventDefault(),n.metaKey?ee(0):n.altKey?fe(-1):te(-1)};return l.createElement($.div,{ref:r,tabIndex:-1,...R,"cmdk-root":"",onKeyDown:n=>{var u;if((u=R.onKeyDown)==null||u.call(R,n),!n.defaultPrevented)switch(n.key){case"n":case"j":{I&&n.ctrlKey&&pe(n);break}case"ArrowDown":{pe(n);break}case"p":case"k":{I&&n.ctrlKey&&ve(n);break}case"ArrowUp":{ve(n);break}case"Home":{n.preventDefault(),ee(0);break}case"End":{n.preventDefault(),me();break}case"Enter":if(!n.nativeEvent.isComposing&&n.keyCode!==229){n.preventDefault();let v=T();if(v){let o=new Event(ie);v.dispatchEvent(o)}}}}},l.createElement("label",{"cmdk-label":"",htmlFor:J.inputId,id:J.labelId,style:It},g),Y(e,n=>l.createElement(Ee.Provider,{value:w},l.createElement(Se.Provider,{value:J},n))))}),vt=l.forwardRef((e,r)=>{var t,d;let a=O(),i=l.useRef(null),s=l.useContext(ke),h=B(),g=je(e),f=(d=(t=g.current)==null?void 0:t.forceMount)!=null?d:s==null?void 0:s.forceMount;P(()=>{if(!f)return h.item(a,s==null?void 0:s.id)},[f]);let c=Ie(a,i,[e.value,e.children,i],e.keywords),p=se(),k=L(m=>m.value&&m.value===c.current),S=L(m=>f||h.filter()===!1?!0:m.search?m.filtered.items.get(a)>0:!0);l.useEffect(()=>{let m=i.current;if(!(!m||e.disabled))return m.addEventListener(ie,j),()=>m.removeEventListener(ie,j)},[S,e.onSelect,e.disabled]);function j(){var m,w;A(),(w=(m=g.current).onSelect)==null||w.call(m,c.current)}function A(){p.setState("value",c.current,!0)}if(!S)return null;let{disabled:I,value:R,onSelect:F,forceMount:U,keywords:W,...N}=e;return l.createElement($.div,{ref:H([i,r]),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!I,"aria-selected":!!k,"data-disabled":!!I,"data-selected":!!k,onPointerMove:I||h.getDisablePointerSelection()?void 0:A,onClick:I?void 0:j},e.children)}),ht=l.forwardRef((e,r)=>{let{heading:t,children:d,forceMount:a,...i}=e,s=O(),h=l.useRef(null),g=l.useRef(null),f=O(),c=B(),p=L(S=>a||c.filter()===!1?!0:S.search?S.filtered.groups.has(s):!0);P(()=>c.group(s),[]),Ie(s,h,[e.value,e.heading,g]);let k=l.useMemo(()=>({id:s,forceMount:a}),[a]);return l.createElement($.div,{ref:H([h,r]),...i,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},t&&l.createElement("div",{ref:g,"cmdk-group-heading":"","aria-hidden":!0,id:f},t),Y(e,S=>l.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?f:void 0},l.createElement(ke.Provider,{value:k},S))))}),gt=l.forwardRef((e,r)=>{let{alwaysRender:t,...d}=e,a=l.useRef(null),i=L(s=>!s.search);return!t&&!i?null:l.createElement($.div,{ref:H([a,r]),...d,"cmdk-separator":"",role:"separator"})}),yt=l.forwardRef((e,r)=>{let{onValueChange:t,...d}=e,a=e.value!=null,i=se(),s=L(c=>c.search),h=L(c=>c.value),g=B(),f=l.useMemo(()=>{var c;let p=(c=g.listInnerRef.current)==null?void 0:c.querySelector(`${ue}[${D}="${encodeURIComponent(h)}"]`);return p==null?void 0:p.getAttribute("id")},[]);return l.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),l.createElement($.input,{ref:r,...d,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":g.listId,"aria-labelledby":g.labelId,"aria-activedescendant":f,id:g.inputId,type:"text",value:a?e.value:s,onChange:c=>{a||i.setState("search",c.target.value),t==null||t(c.target.value)}})}),xt=l.forwardRef((e,r)=>{let{children:t,label:d="Suggestions",...a}=e,i=l.useRef(null),s=l.useRef(null),h=B();return l.useEffect(()=>{if(s.current&&i.current){let g=s.current,f=i.current,c,p=new ResizeObserver(()=>{c=requestAnimationFrame(()=>{let k=g.offsetHeight;f.style.setProperty("--cmdk-list-height",k.toFixed(1)+"px")})});return p.observe(g),()=>{cancelAnimationFrame(c),p.unobserve(g)}}},[]),l.createElement($.div,{ref:H([i,r]),...a,"cmdk-list":"",role:"listbox","aria-label":d,id:h.listId},Y(e,g=>l.createElement("div",{ref:H([s,h.listInnerRef]),"cmdk-list-sizer":""},g)))}),bt=l.forwardRef((e,r)=>{let{open:t,onOpenChange:d,overlayClassName:a,contentClassName:i,container:s,...h}=e;return l.createElement(Le,{open:t,onOpenChange:d},l.createElement(Ve,{container:s},l.createElement(Fe,{"cmdk-overlay":"",className:a}),l.createElement(Ke,{"aria-label":e.label,"cmdk-dialog":"",className:i},l.createElement(Ce,{ref:r,...h}))))}),wt=l.forwardRef((e,r)=>L(t=>t.filtered.count===0)?l.createElement($.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),St=l.forwardRef((e,r)=>{let{progress:t,children:d,label:a="Loading...",...i}=e;return l.createElement($.div,{ref:r,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Y(e,s=>l.createElement("div",{"aria-hidden":!0},s)))}),E=Object.assign(Ce,{List:xt,Item:vt,Input:yt,Group:ht,Separator:gt,Dialog:bt,Empty:wt,Loading:St});function Et(e,r){let t=e.nextElementSibling;for(;t;){if(t.matches(r))return t;t=t.nextElementSibling}}function kt(e,r){let t=e.previousElementSibling;for(;t;){if(t.matches(r))return t;t=t.previousElementSibling}}function je(e){let r=l.useRef(e);return P(()=>{r.current=e}),r}var P=typeof window>"u"?l.useEffect:l.useLayoutEffect;function K(e){let r=l.useRef();return r.current===void 0&&(r.current=e()),r}function H(e){return r=>{e.forEach(t=>{typeof t=="function"?t(r):t!=null&&(t.current=r)})}}function L(e){let r=se(),t=()=>e(r.snapshot());return ft.useSyncExternalStore(r.subscribe,t,t)}function Ie(e,r,t,d=[]){let a=l.useRef(),i=B();return P(()=>{var s;let h=(()=>{var f;for(let c of t){if(typeof c=="string")return c.trim();if(typeof c=="object"&&"current"in c)return c.current?(f=c.current.textContent)==null?void 0:f.trim():a.current}})(),g=d.map(f=>f.trim());i.value(e,h,g),(s=r.current)==null||s.setAttribute(D,h),a.current=h}),a}var Ct=()=>{let[e,r]=l.useState(),t=K(()=>new Map);return P(()=>{t.current.forEach(d=>d()),t.current=new Map},[e]),(d,a)=>{t.current.set(d,a),r({})}};function jt(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function Y({asChild:e,children:r},t){return e&&l.isValidElement(r)?l.cloneElement(jt(r),{ref:r.ref},t(r.props.children)):t(r)}var It={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ne=l.forwardRef(({className:e,...r},t)=>x.jsx(E,{ref:t,className:V("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...r}));Ne.displayName=E.displayName;const Re=l.forwardRef(({className:e,...r},t)=>x.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[x.jsx(qe,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),x.jsx(E.Input,{ref:t,className:V("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...r})]}));Re.displayName=E.Input.displayName;const $e=l.forwardRef(({className:e,...r},t)=>x.jsx(E.List,{ref:t,className:V("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...r}));$e.displayName=E.List.displayName;const Ae=l.forwardRef((e,r)=>x.jsx(E.Empty,{ref:r,className:"py-6 text-center text-sm",...e}));Ae.displayName=E.Empty.displayName;const Me=l.forwardRef(({className:e,...r},t)=>x.jsx(E.Group,{ref:t,className:V("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...r}));Me.displayName=E.Group.displayName;const Nt=l.forwardRef(({className:e,...r},t)=>x.jsx(E.Separator,{ref:t,className:V("-mx-1 h-px bg-border",e),...r}));Nt.displayName=E.Separator.displayName;const De=l.forwardRef(({className:e,...r},t)=>x.jsx(E.Item,{ref:t,className:V("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...r}));De.displayName=E.Item.displayName;function Ot({url:e,filter:r,id:t,label:d,value:a,onSelectChange:i,defaultLabel:s,disabled:h,placeholder:g="Search items ..."}){var N;const[f,c]=l.useState(!1),[p,k]=l.useState([]),[S,j]=l.useState(!1),[A,I]=l.useState("");let R;async function F(){const m={filter:r,search:A};j(!0);try{let w=await He.get(e,{params:m});j(!1),k(w.data.data)}catch(w){console.log(w)}}function U(m){m.key==="Enter"&&(clearTimeout(R),F(),console.log("keyDown press and ready for api call"))}console.log(s),l.useEffect(()=>(R=setTimeout(()=>{A&&F()},500),()=>clearTimeout(R)),[A]);function W(m){i(m),c(!1)}return console.log(e),l.useEffect(()=>{f?F():I("")},[f]),x.jsxs(Te,{open:f,onOpenChange:c,children:[x.jsx(ze,{asChild:!0,children:x.jsxs(Pe,{variant:"outline",disabled:h,role:"combobox","aria-expanded":f,className:"w-[200px] text-xs justify-between",children:[x.jsx(Be,{className:"opacity-50"}),s&&p.length===0?s:null,a&&p.length>0?(N=p.find(m=>String(m[t])===String(a)))==null?void 0:N[d]:"",a===""&&(s===""||s===null)?g:""]})}),x.jsx(Ge,{className:"w-[200px] p-0",children:x.jsxs(Ne,{shouldFilter:!1,children:[x.jsx(Re,{onKeyDown:U,onValueChange:m=>I(m),placeholder:g}),x.jsx($e,{className:"z-30",children:S?x.jsx("div",{className:"py-10 flex items-center justify-center h-64 w-full",children:x.jsx(Oe,{})}):x.jsxs(x.Fragment,{children:[x.jsxs(Ae,{children:["No Item found. ",p.length]}),p.length>0?x.jsx(Me,{className:"z-30",children:p.map(m=>x.jsxs(De,{className:"z-30",value:m[t],onSelect:w=>{W(m[t])},children:[m[d],x.jsx(We,{className:V("ml-auto",a===m[t]?"opacity-100":"opacity-0")})]},m[t]))}):null]})})]})})]})}export{Ot as A};
