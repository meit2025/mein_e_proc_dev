import{r as c,j as e}from"./app-0v5E4LHp.js";import{T as u,a as m,b as _,c as N}from"./tabs-Cf7QBTvl.js";/* empty css              */import{a as g}from"./axiosInstance-CjGcKSgH.js";import"./app-CTy9eNAz.js";import"./utils-B_DyZ5sA.js";import"./index-B-myPYz9.js";import"./index-D95LDTjH.js";import"./index-LPAItOD0.js";import"./index-CalGeprv.js";import"./index-z5p8XfF6.js";import"./index-MXYI5mF0.js";const C=()=>{var h,x,o,j;const d=window.location.pathname,a=d.substring(d.lastIndexOf("/")+1),[y,i]=c.useState(!1),[t,p]=c.useState(null);return c.useEffect(()=>{(async()=>{try{i(!0);const n=await g.get(GET_DETAIL_BUSINESS_TRIP_DECLARATION_PRINT(a));console.log(n.data.data.business_trip_destination),p(n.data.data)}catch(n){console.error("Error fetching detail:",n)}finally{i(!1)}})()},[a]),e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Request No.:"})," ",t==null?void 0:t.request_no]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Company:"})," PT. Mitsubishi Electric Indonesia"]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Request for:"})," ",((h=t==null?void 0:t.request_for)==null?void 0:h.name)??"-"]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Requested By:"})," ",((x=t==null?void 0:t.requested_by)==null?void 0:x.name)??"-"]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Status:"})," ",e.jsx("span",{className:"status-approved",children:"Fully Approved"})]}),e.jsxs("table",{className:"info-table text-sm mt-4",children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Purpose Type"})}),e.jsx("td",{children:((o=t==null?void 0:t.purpose_type)==null?void 0:o.name)??"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Pusat Biaya"})}),e.jsx("td",{children:((j=t==null?void 0:t.cost_center)==null?void 0:j.cost_center)??"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Start Date"})}),e.jsx("td",{children:"17 Aug 2023"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"End Date"})}),e.jsx("td",{children:"17 Aug 2023"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Remark"})}),e.jsx("td",{children:t==null?void 0:t.remarks})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Attachment File"})}),e.jsx("td",{})]})]}),e.jsxs(u,{defaultValue:"destination1",className:"w-full text-sm",children:[e.jsx(m,{className:"flex items-center justify-start space-x-4",children:t==null?void 0:t.business_trip_destination.map((l,n)=>e.jsx(_,{value:`destination${n+1}`,children:l.destination}))}),t==null?void 0:t.business_trip_destination.map((l,n)=>e.jsx(N,{value:`destination${n+1}`,children:e.jsxs("div",{children:[e.jsxs("h3",{children:["Detail ",l.destination]}),e.jsxs("table",{className:"detail-table",children:[e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Shift Code"}),e.jsx("th",{children:"Shift Start"}),e.jsx("th",{children:"Shift End"}),e.jsx("th",{children:"Actual Start"}),e.jsx("th",{children:"Actual End"})]}),l.detail_attendance.map((s,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:s.date}),e.jsx("td",{children:s.shift_code}),e.jsx("td",{children:s.shift_start}),e.jsx("td",{children:s.shift_end}),e.jsx("td",{children:s.start_time}),e.jsx("td",{children:s.end_time})]},r))]}),e.jsxs("div",{className:"tables-wrapper",children:[e.jsxs("table",{className:"value-table",children:[e.jsx("caption",{children:"Standard Value"}),e.jsxs("tr",{children:[e.jsx("th",{children:"Item Name"}),e.jsx("th",{children:"Currency Code"}),e.jsx("th",{children:"Value"}),e.jsx("th",{children:"Total Days"}),e.jsx("th",{children:"Total"})]}),l.detail_destination_day.map((s,r)=>e.jsxs("tr",{children:[e.jsxs("td",{children:[s.allowance.name," (",s.allowance.type,")"]}),e.jsx("td",{children:s.allowance.currency_id}),e.jsx("td",{children:s.allowance.grade_price}),e.jsx("td",{className:"text-center",children:s.total}),e.jsx("td",{children:s.allowance.grade_price*s.total})]},r)),l.detail_destination_total.map((s,r)=>e.jsxs("tr",{children:[e.jsxs("td",{children:[s.allowance.name," (",s.allowance.type,")"]}),e.jsx("td",{children:s.allowance.currency_id}),e.jsx("td",{children:s.allowance.grade_price}),e.jsx("td",{className:"text-center",children:"-"}),e.jsx("td",{children:s.allowance.grade_price})]},r)),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Total Standar Value"})}),e.jsx("td",{children:"IDR"}),e.jsx("td",{}),e.jsx("td",{className:"text-center",children:l.detail_destination_day.reduce((s,r)=>s+Number(r.total),0)}),e.jsx("td",{children:l.detail_destination_day.reduce((s,r)=>s+Number(r.total)*Number(r.allowance.grade_price),0)+l.detail_destination_total.reduce((s,r)=>s+Number(r.allowance.grade_price),0)})]})]}),e.jsxs("table",{className:"value-table",children:[e.jsx("caption",{children:"Requested Value"}),e.jsxs("tr",{children:[e.jsx("th",{children:"Item Name"}),e.jsx("th",{children:"Currency Code"}),e.jsx("th",{children:"Value"}),e.jsx("th",{children:"Total Days"}),e.jsx("th",{children:"Total"})]}),l.detail_destination_day.map((s,r)=>e.jsxs("tr",{children:[e.jsxs("td",{children:[s.allowance.name," (",s.allowance.type,")"]}),e.jsx("td",{children:s.allowance.currency_id}),e.jsx("td",{children:s.price/s.total}),e.jsx("td",{className:"text-center",children:s.total}),e.jsx("td",{children:s.price*s.total})]},r)),l.detail_destination_total.map((s,r)=>e.jsxs("tr",{children:[e.jsxs("td",{children:[s.allowance.name," (",s.allowance.type,")"]}),e.jsx("td",{children:s.allowance.currency_id}),e.jsx("td",{children:s.price}),e.jsx("td",{className:"text-center",children:"-"}),e.jsx("td",{children:s.price})]},r)),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Total Request Value"})}),e.jsx("td",{children:"IDR"}),e.jsx("td",{}),e.jsx("td",{className:"text-center",children:l.detail_destination_day.reduce((s,r)=>s+Number(r.total),0)}),e.jsx("td",{children:l.detail_destination_day.reduce((s,r)=>s+Number(r.total)*Number(r.price),0)+l.detail_destination_total.reduce((s,r)=>s+Number(r.price),0)})]})]})]})]},n)}))]})]})};export{C as default};
