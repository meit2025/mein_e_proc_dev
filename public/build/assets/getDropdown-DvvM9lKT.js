import{a as f}from"./axiosInstance-DPUsXD2U.js";import{r}from"./app-Cn7ScoCP.js";function v(n){return Number(n).toString()}const x=(n="api/master/dropdown")=>{const[c,h]=r.useState(),[m,b]=r.useState([]),[y,t]=r.useState(!1);return{dataDropdown:m,dropdownOptions:c,getDropdown:async(s,e,p)=>{var i,d,l,g;t(!0);try{const u=(await f.get(n,{params:{name:e.name,id:e.id,search:e.search||"",tabelname:e.tabel,isNotNull:((i=e.where)==null?void 0:i.isNotNull)??"",key:((d=e.where)==null?void 0:d.key)??"",parameter:((l=e.where)==null?void 0:l.parameter)??"",groupBy:((g=e.where)==null?void 0:g.groupBy)??"",attribut:e.attribut??""},headers:{"Content-Type":"application/json"}})).data.data.map(a=>{const o=e.hiddenZero?v(a.label):a.label,D=e.idType==="string"?String(a.value):a.value;return{...a,label:e.isMapping?`${o} - ${a.value}`:o,value:D}});if(p&&s!==""){const a=p.map(o=>o.name===s?{...o,options:u}:o);h(a)}b(u),t(!1)}catch(w){console.error("Error fetching dropdown options:",w)}},isLoading:y}};export{x as u};
