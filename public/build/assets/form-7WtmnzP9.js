import{r,$ as Vt,d as ft,e as Bt,j as l,u as Kt}from"./app-CtHeFP4b.js";import{d as qt,F as M,a as L,b as U,c as B}from"./form-D8AVPKQ1.js";import{z as O,t as Wt}from"./index-qfO2LvwR.js";import{B as mt}from"./button-BIj5wtXS.js";import{u as Gt,b as Ht}from"./index.esm-DUjiM8tC.js";import{S as zt}from"./scroll-area-CciAJ7pV.js";import{S as se,a as ie,b as ue,c as de,d as K}from"./select-DjzRbXmu.js";import{I as xe}from"./input-U57AtHHF.js";import{a as me}from"./axiosInstance-C4VW1rsA.js";import{M as Yt}from"./MultiSelect-QzT7e-oK.js";import{a as Xt}from"./api-BySVmGlY.js";import{c as Z,F as ee}from"./utils-CRDo-rgY.js";import{_ as A}from"./extends-CF3RwP-h.js";import{e as Zt,_ as Jt,f as Qt,g as re,i as en,z as tn,s as nn,j as rn,k as on,l as an,h as ln}from"./Combination-CCspk70b.js";import"./dialog-CxSQsccJ.js";import{M as cn}from"./index-CV7TGJJA.js";import{P as sn,a as un,b as dn}from"./popover-k0dcXBi8.js";import{L as fn}from"./LoadingSpin-DlpC3NDi.js";import{C as mn}from"./chevrons-up-down-BZAOd-B6.js";import{c as vn}from"./createLucideIcon-BkZ9mTsG.js";import"./app-DQK4SJPx.js";import"./index-cGn6nnBI.js";import"./index-BzE0gcH1.js";import"./index-Bb4qSo10.js";import"./index-DJvCXflm.js";import"./index-BjzxWLrU.js";import"./index-BrGquo53.js";import"./index-DHBLynvb.js";import"./index-CKXoPe6Z.js";import"./index-DzOomf0s.js";import"./index-CJclFtSs.js";import"./checkbox-By-fpLIR.js";/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=vn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var Je=1,hn=.9,gn=.8,bn=.17,Ne=.1,Pe=.999,xn=.9999,$n=.99,En=/[\\\/_+.#"@\[\(\{&]/,yn=/[\\\/_+.#"@\[\(\{&]/g,Cn=/[\s-]/,vt=/[\s-]/g;function Fe(e,n,t,o,a,c,i){if(c===n.length)return a===e.length?Je:$n;var s=`${a},${c}`;if(i[s]!==void 0)return i[s];for(var v=o.charAt(c),m=t.indexOf(v,a),p=0,g,y,b,S;m>=0;)g=Fe(e,n,t,o,m+1,c+1,i),g>p&&(m===a?g*=Je:En.test(e.charAt(m-1))?(g*=gn,b=e.slice(a,m-1).match(yn),b&&a>0&&(g*=Math.pow(Pe,b.length))):Cn.test(e.charAt(m-1))?(g*=hn,S=e.slice(a,m-1).match(vt),S&&a>0&&(g*=Math.pow(Pe,S.length))):(g*=bn,a>0&&(g*=Math.pow(Pe,m-a))),e.charAt(m)!==n.charAt(c)&&(g*=xn)),(g<Ne&&t.charAt(m-1)===o.charAt(c+1)||o.charAt(c+1)===o.charAt(c)&&t.charAt(m-1)!==o.charAt(c))&&(y=Fe(e,n,t,o,m+1,c+2,i),y*Ne>g&&(g=y*Ne)),g>p&&(p=g),m=t.indexOf(v,m+1);return i[s]=p,p}function Qe(e){return e.toLowerCase().replace(vt," ")}function wn(e,n,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,Fe(e,n,Qe(e),Qe(n),0,0,{})}function ae(e,n,{checkForDefaultPrevented:t=!0}={}){return function(a){if(e==null||e(a),t===!1||!a.defaultPrevented)return n==null?void 0:n(a)}}function Sn(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function pt(...e){return n=>e.forEach(t=>Sn(t,n))}function he(...e){return r.useCallback(pt(...e),e)}function jn(e,n=[]){let t=[];function o(c,i){const s=r.createContext(i),v=t.length;t=[...t,i];function m(g){const{scope:y,children:b,...S}=g,d=(y==null?void 0:y[e][v])||s,$=r.useMemo(()=>S,Object.values(S));return r.createElement(d.Provider,{value:$},b)}function p(g,y){const b=(y==null?void 0:y[e][v])||s,S=r.useContext(b);if(S)return S;if(i!==void 0)return i;throw new Error(`\`${g}\` must be used within \`${c}\``)}return m.displayName=c+"Provider",[m,p]}const a=()=>{const c=t.map(i=>r.createContext(i));return function(s){const v=(s==null?void 0:s[e])||c;return r.useMemo(()=>({[`__scope${e}`]:{...s,[e]:v}}),[s,v])}};return a.scopeName=e,[o,Rn(a,...n)]}function Rn(...e){const n=e[0];if(e.length===1)return n;const t=()=>{const o=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const i=o.reduce((s,{useScope:v,scopeName:m})=>{const g=v(c)[`__scope${m}`];return{...s,...g}},{});return r.useMemo(()=>({[`__scope${n.scopeName}`]:i}),[i])}};return t.scopeName=n.scopeName,t}const Me=globalThis!=null&&globalThis.document?r.useLayoutEffect:()=>{},_n=Vt.useId||(()=>{});let Nn=0;function De(e){const[n,t]=r.useState(_n());return Me(()=>{e||t(o=>o??String(Nn++))},[e]),e||(n?`radix-${n}`:"")}function z(e){const n=r.useRef(e);return r.useEffect(()=>{n.current=e}),r.useMemo(()=>(...t)=>{var o;return(o=n.current)===null||o===void 0?void 0:o.call(n,...t)},[])}function Pn({prop:e,defaultProp:n,onChange:t=()=>{}}){const[o,a]=Dn({defaultProp:n,onChange:t}),c=e!==void 0,i=c?e:o,s=z(t),v=r.useCallback(m=>{if(c){const g=typeof m=="function"?m(e):m;g!==e&&s(g)}else a(m)},[c,e,a,s]);return[i,v]}function Dn({defaultProp:e,onChange:n}){const t=r.useState(e),[o]=t,a=r.useRef(o),c=z(n);return r.useEffect(()=>{a.current!==o&&(c(o),a.current=o)},[o,a,c]),t}const qe=r.forwardRef((e,n)=>{const{children:t,...o}=e,a=r.Children.toArray(t),c=a.find(On);if(c){const i=c.props.children,s=a.map(v=>v===c?r.Children.count(i)>1?r.Children.only(null):r.isValidElement(i)?i.props.children:null:v);return r.createElement(Le,A({},o,{ref:n}),r.isValidElement(i)?r.cloneElement(i,void 0,s):null)}return r.createElement(Le,A({},o,{ref:n}),t)});qe.displayName="Slot";const Le=r.forwardRef((e,n)=>{const{children:t,...o}=e;return r.isValidElement(t)?r.cloneElement(t,{...Tn(o,t.props),ref:n?pt(n,t.ref):t.ref}):r.Children.count(t)>1?r.Children.only(null):null});Le.displayName="SlotClone";const In=({children:e})=>r.createElement(r.Fragment,null,e);function On(e){return r.isValidElement(e)&&e.type===In}function Tn(e,n){const t={...n};for(const o in n){const a=e[o],c=n[o];/^on[A-Z]/.test(o)?a&&c?t[o]=(...s)=>{c(...s),a(...s)}:a&&(t[o]=a):o==="style"?t[o]={...a,...c}:o==="className"&&(t[o]=[a,c].filter(Boolean).join(" "))}return{...e,...t}}const An=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],F=An.reduce((e,n)=>{const t=r.forwardRef((o,a)=>{const{asChild:c,...i}=o,s=c?qe:n;return r.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),r.createElement(s,A({},i,{ref:a}))});return t.displayName=`Primitive.${n}`,{...e,[n]:t}},{});function kn(e,n){e&&ft.flushSync(()=>e.dispatchEvent(n))}function Fn(e,n=globalThis==null?void 0:globalThis.document){const t=z(e);r.useEffect(()=>{const o=a=>{a.key==="Escape"&&t(a)};return n.addEventListener("keydown",o),()=>n.removeEventListener("keydown",o)},[t,n])}const Ue="dismissableLayer.update",Mn="dismissableLayer.pointerDownOutside",Ln="dismissableLayer.focusOutside";let et;const Un=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vn=r.forwardRef((e,n)=>{var t;const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:i,onInteractOutside:s,onDismiss:v,...m}=e,p=r.useContext(Un),[g,y]=r.useState(null),b=(t=g==null?void 0:g.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,S]=r.useState({}),d=he(n,P=>y(P)),$=Array.from(p.layers),[C]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),N=$.indexOf(C),j=g?$.indexOf(g):-1,_=p.layersWithOutsidePointerEventsDisabled.size>0,h=j>=N,u=Bn(P=>{const V=P.target,Q=[...p.branches].some(W=>W.contains(V));!h||Q||(c==null||c(P),s==null||s(P),P.defaultPrevented||v==null||v())},b),R=Kn(P=>{const V=P.target;[...p.branches].some(W=>W.contains(V))||(i==null||i(P),s==null||s(P),P.defaultPrevented||v==null||v())},b);return Fn(P=>{j===p.layers.size-1&&(a==null||a(P),!P.defaultPrevented&&v&&(P.preventDefault(),v()))},b),r.useEffect(()=>{if(g)return o&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(et=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),tt(),()=>{o&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=et)}},[g,b,o,p]),r.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),tt())},[g,p]),r.useEffect(()=>{const P=()=>S({});return document.addEventListener(Ue,P),()=>document.removeEventListener(Ue,P)},[]),r.createElement(F.div,A({},m,{ref:d,style:{pointerEvents:_?h?"auto":"none":void 0,...e.style},onFocusCapture:ae(e.onFocusCapture,R.onFocusCapture),onBlurCapture:ae(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:ae(e.onPointerDownCapture,u.onPointerDownCapture)}))});function Bn(e,n=globalThis==null?void 0:globalThis.document){const t=z(e),o=r.useRef(!1),a=r.useRef(()=>{});return r.useEffect(()=>{const c=s=>{if(s.target&&!o.current){let m=function(){ht(Mn,t,v,{discrete:!0})};const v={originalEvent:s};s.pointerType==="touch"?(n.removeEventListener("click",a.current),a.current=m,n.addEventListener("click",a.current,{once:!0})):m()}else n.removeEventListener("click",a.current);o.current=!1},i=window.setTimeout(()=>{n.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(i),n.removeEventListener("pointerdown",c),n.removeEventListener("click",a.current)}},[n,t]),{onPointerDownCapture:()=>o.current=!0}}function Kn(e,n=globalThis==null?void 0:globalThis.document){const t=z(e),o=r.useRef(!1);return r.useEffect(()=>{const a=c=>{c.target&&!o.current&&ht(Ln,t,{originalEvent:c},{discrete:!1})};return n.addEventListener("focusin",a),()=>n.removeEventListener("focusin",a)},[n,t]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function tt(){const e=new CustomEvent(Ue);document.dispatchEvent(e)}function ht(e,n,t,{discrete:o}){const a=t.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&a.addEventListener(e,n,{once:!0}),o?kn(a,c):a.dispatchEvent(c)}const Ie="focusScope.autoFocusOnMount",Oe="focusScope.autoFocusOnUnmount",nt={bubbles:!1,cancelable:!0},qn=r.forwardRef((e,n)=>{const{loop:t=!1,trapped:o=!1,onMountAutoFocus:a,onUnmountAutoFocus:c,...i}=e,[s,v]=r.useState(null),m=z(a),p=z(c),g=r.useRef(null),y=he(n,d=>v(d)),b=r.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;r.useEffect(()=>{if(o){let d=function(j){if(b.paused||!s)return;const _=j.target;s.contains(_)?g.current=_:q(g.current,{select:!0})},$=function(j){if(b.paused||!s)return;const _=j.relatedTarget;_!==null&&(s.contains(_)||q(g.current,{select:!0}))},C=function(j){if(document.activeElement===document.body)for(const h of j)h.removedNodes.length>0&&q(s)};document.addEventListener("focusin",d),document.addEventListener("focusout",$);const N=new MutationObserver(C);return s&&N.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",d),document.removeEventListener("focusout",$),N.disconnect()}}},[o,s,b.paused]),r.useEffect(()=>{if(s){ot.add(b);const d=document.activeElement;if(!s.contains(d)){const C=new CustomEvent(Ie,nt);s.addEventListener(Ie,m),s.dispatchEvent(C),C.defaultPrevented||(Wn(Xn(gt(s)),{select:!0}),document.activeElement===d&&q(s))}return()=>{s.removeEventListener(Ie,m),setTimeout(()=>{const C=new CustomEvent(Oe,nt);s.addEventListener(Oe,p),s.dispatchEvent(C),C.defaultPrevented||q(d??document.body,{select:!0}),s.removeEventListener(Oe,p),ot.remove(b)},0)}}},[s,m,p,b]);const S=r.useCallback(d=>{if(!t&&!o||b.paused)return;const $=d.key==="Tab"&&!d.altKey&&!d.ctrlKey&&!d.metaKey,C=document.activeElement;if($&&C){const N=d.currentTarget,[j,_]=Gn(N);j&&_?!d.shiftKey&&C===_?(d.preventDefault(),t&&q(j,{select:!0})):d.shiftKey&&C===j&&(d.preventDefault(),t&&q(_,{select:!0})):C===N&&d.preventDefault()}},[t,o,b.paused]);return r.createElement(F.div,A({tabIndex:-1},i,{ref:y,onKeyDown:S}))});function Wn(e,{select:n=!1}={}){const t=document.activeElement;for(const o of e)if(q(o,{select:n}),document.activeElement!==t)return}function Gn(e){const n=gt(e),t=rt(n,e),o=rt(n.reverse(),e);return[t,o]}function gt(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function rt(e,n){for(const t of e)if(!Hn(t,{upTo:n}))return t}function Hn(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zn(e){return e instanceof HTMLInputElement&&"select"in e}function q(e,{select:n=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&zn(e)&&n&&e.select()}}const ot=Yn();function Yn(){let e=[];return{add(n){const t=e[0];n!==t&&(t==null||t.pause()),e=at(e,n),e.unshift(n)},remove(n){var t;e=at(e,n),(t=e[0])===null||t===void 0||t.resume()}}}function at(e,n){const t=[...e],o=t.indexOf(n);return o!==-1&&t.splice(o,1),t}function Xn(e){return e.filter(n=>n.tagName!=="A")}const Zn=r.forwardRef((e,n)=>{var t;const{container:o=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...a}=e;return o?Bt.createPortal(r.createElement(F.div,A({},a,{ref:n})),o):null});function Jn(e,n){return r.useReducer((t,o)=>{const a=n[t][o];return a??t},e)}const Ce=e=>{const{present:n,children:t}=e,o=Qn(n),a=typeof t=="function"?t({present:o.isPresent}):r.Children.only(t),c=he(o.ref,a.ref);return typeof t=="function"||o.isPresent?r.cloneElement(a,{ref:c}):null};Ce.displayName="Presence";function Qn(e){const[n,t]=r.useState(),o=r.useRef({}),a=r.useRef(e),c=r.useRef("none"),i=e?"mounted":"unmounted",[s,v]=Jn(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const m=$e(o.current);c.current=s==="mounted"?m:"none"},[s]),Me(()=>{const m=o.current,p=a.current;if(p!==e){const y=c.current,b=$e(m);e?v("MOUNT"):b==="none"||(m==null?void 0:m.display)==="none"?v("UNMOUNT"):v(p&&y!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,v]),Me(()=>{if(n){const m=g=>{const b=$e(o.current).includes(g.animationName);g.target===n&&b&&ft.flushSync(()=>v("ANIMATION_END"))},p=g=>{g.target===n&&(c.current=$e(o.current))};return n.addEventListener("animationstart",p),n.addEventListener("animationcancel",m),n.addEventListener("animationend",m),()=>{n.removeEventListener("animationstart",p),n.removeEventListener("animationcancel",m),n.removeEventListener("animationend",m)}}else v("ANIMATION_END")},[n,v]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:r.useCallback(m=>{m&&(o.current=getComputedStyle(m)),t(m)},[])}}function $e(e){return(e==null?void 0:e.animationName)||"none"}let Te=0;function er(){r.useEffect(()=>{var e,n;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=t[0])!==null&&e!==void 0?e:lt()),document.body.insertAdjacentElement("beforeend",(n=t[1])!==null&&n!==void 0?n:lt()),Te++,()=>{Te===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(o=>o.remove()),Te--}},[])}function lt(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var bt=Zt(),Ae=function(){},we=r.forwardRef(function(e,n){var t=r.useRef(null),o=r.useState({onScrollCapture:Ae,onWheelCapture:Ae,onTouchMoveCapture:Ae}),a=o[0],c=o[1],i=e.forwardProps,s=e.children,v=e.className,m=e.removeScrollBar,p=e.enabled,g=e.shards,y=e.sideCar,b=e.noIsolation,S=e.inert,d=e.allowPinchZoom,$=e.as,C=$===void 0?"div":$,N=Jt(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),j=y,_=Qt([t,n]),h=re(re({},N),a);return r.createElement(r.Fragment,null,p&&r.createElement(j,{sideCar:bt,removeScrollBar:m,shards:g,noIsolation:b,inert:S,setCallbacks:c,allowPinchZoom:!!d,lockRef:t}),i?r.cloneElement(r.Children.only(s),re(re({},h),{ref:_})):r.createElement(C,re({},h,{className:v,ref:_}),s))});we.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};we.classNames={fullWidth:en,zeroRight:tn};var Ve=!1;if(typeof window<"u")try{var Ee=Object.defineProperty({},"passive",{get:function(){return Ve=!0,!0}});window.addEventListener("test",Ee,Ee),window.removeEventListener("test",Ee,Ee)}catch{Ve=!1}var te=Ve?{passive:!1}:!1,tr=function(e){return e.tagName==="TEXTAREA"},xt=function(e,n){var t=window.getComputedStyle(e);return t[n]!=="hidden"&&!(t.overflowY===t.overflowX&&!tr(e)&&t[n]==="visible")},nr=function(e){return xt(e,"overflowY")},rr=function(e){return xt(e,"overflowX")},ct=function(e,n){var t=n;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var o=$t(e,t);if(o){var a=Et(e,t),c=a[1],i=a[2];if(c>i)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},or=function(e){var n=e.scrollTop,t=e.scrollHeight,o=e.clientHeight;return[n,t,o]},ar=function(e){var n=e.scrollLeft,t=e.scrollWidth,o=e.clientWidth;return[n,t,o]},$t=function(e,n){return e==="v"?nr(n):rr(n)},Et=function(e,n){return e==="v"?or(n):ar(n)},lr=function(e,n){return e==="h"&&n==="rtl"?-1:1},cr=function(e,n,t,o,a){var c=lr(e,window.getComputedStyle(n).direction),i=c*o,s=t.target,v=n.contains(s),m=!1,p=i>0,g=0,y=0;do{var b=Et(e,s),S=b[0],d=b[1],$=b[2],C=d-$-c*S;(S||C)&&$t(e,s)&&(g+=C,y+=S),s=s.parentNode}while(!v&&s!==document.body||v&&(n.contains(s)||n===s));return(p&&(g===0||!a)||!p&&(y===0||!a))&&(m=!0),m},ye=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},st=function(e){return[e.deltaX,e.deltaY]},it=function(e){return e&&"current"in e?e.current:e},sr=function(e,n){return e[0]===n[0]&&e[1]===n[1]},ir=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ur=0,ne=[];function dr(e){var n=r.useRef([]),t=r.useRef([0,0]),o=r.useRef(),a=r.useState(ur++)[0],c=r.useState(function(){return nn()})[0],i=r.useRef(e);r.useEffect(function(){i.current=e},[e]),r.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var d=rn([e.lockRef.current],(e.shards||[]).map(it),!0).filter(Boolean);return d.forEach(function($){return $.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),d.forEach(function($){return $.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var s=r.useCallback(function(d,$){if("touches"in d&&d.touches.length===2)return!i.current.allowPinchZoom;var C=ye(d),N=t.current,j="deltaX"in d?d.deltaX:N[0]-C[0],_="deltaY"in d?d.deltaY:N[1]-C[1],h,u=d.target,R=Math.abs(j)>Math.abs(_)?"h":"v";if("touches"in d&&R==="h"&&u.type==="range")return!1;var P=ct(R,u);if(!P)return!0;if(P?h=R:(h=R==="v"?"h":"v",P=ct(R,u)),!P)return!1;if(!o.current&&"changedTouches"in d&&(j||_)&&(o.current=h),!h)return!0;var V=o.current||h;return cr(V,$,d,V==="h"?j:_,!0)},[]),v=r.useCallback(function(d){var $=d;if(!(!ne.length||ne[ne.length-1]!==c)){var C="deltaY"in $?st($):ye($),N=n.current.filter(function(h){return h.name===$.type&&h.target===$.target&&sr(h.delta,C)})[0];if(N&&N.should){$.cancelable&&$.preventDefault();return}if(!N){var j=(i.current.shards||[]).map(it).filter(Boolean).filter(function(h){return h.contains($.target)}),_=j.length>0?s($,j[0]):!i.current.noIsolation;_&&$.cancelable&&$.preventDefault()}}},[]),m=r.useCallback(function(d,$,C,N){var j={name:d,delta:$,target:C,should:N};n.current.push(j),setTimeout(function(){n.current=n.current.filter(function(_){return _!==j})},1)},[]),p=r.useCallback(function(d){t.current=ye(d),o.current=void 0},[]),g=r.useCallback(function(d){m(d.type,st(d),d.target,s(d,e.lockRef.current))},[]),y=r.useCallback(function(d){m(d.type,ye(d),d.target,s(d,e.lockRef.current))},[]);r.useEffect(function(){return ne.push(c),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",v,te),document.addEventListener("touchmove",v,te),document.addEventListener("touchstart",p,te),function(){ne=ne.filter(function(d){return d!==c}),document.removeEventListener("wheel",v,te),document.removeEventListener("touchmove",v,te),document.removeEventListener("touchstart",p,te)}},[]);var b=e.removeScrollBar,S=e.inert;return r.createElement(r.Fragment,null,S?r.createElement(c,{styles:ir(a)}):null,b?r.createElement(on,{gapMode:"margin"}):null)}const fr=an(bt,dr);var yt=r.forwardRef(function(e,n){return r.createElement(we,re({},e,{ref:n,sideCar:fr}))});yt.classNames=we.classNames;const Ct="Dialog",[wt,yo]=jn(Ct),[mr,J]=wt(Ct),vr=e=>{const{__scopeDialog:n,children:t,open:o,defaultOpen:a,onOpenChange:c,modal:i=!0}=e,s=r.useRef(null),v=r.useRef(null),[m=!1,p]=Pn({prop:o,defaultProp:a,onChange:c});return r.createElement(mr,{scope:n,triggerRef:s,contentRef:v,contentId:De(),titleId:De(),descriptionId:De(),open:m,onOpenChange:p,onOpenToggle:r.useCallback(()=>p(g=>!g),[p]),modal:i},t)},St="DialogPortal",[pr,jt]=wt(St,{forceMount:void 0}),hr=e=>{const{__scopeDialog:n,forceMount:t,children:o,container:a}=e,c=J(St,n);return r.createElement(pr,{scope:n,forceMount:t},r.Children.map(o,i=>r.createElement(Ce,{present:t||c.open},r.createElement(Zn,{asChild:!0,container:a},i))))},Be="DialogOverlay",gr=r.forwardRef((e,n)=>{const t=jt(Be,e.__scopeDialog),{forceMount:o=t.forceMount,...a}=e,c=J(Be,e.__scopeDialog);return c.modal?r.createElement(Ce,{present:o||c.open},r.createElement(br,A({},a,{ref:n}))):null}),br=r.forwardRef((e,n)=>{const{__scopeDialog:t,...o}=e,a=J(Be,t);return r.createElement(yt,{as:qe,allowPinchZoom:!0,shards:[a.contentRef]},r.createElement(F.div,A({"data-state":_t(a.open)},o,{ref:n,style:{pointerEvents:"auto",...o.style}})))}),ve="DialogContent",xr=r.forwardRef((e,n)=>{const t=jt(ve,e.__scopeDialog),{forceMount:o=t.forceMount,...a}=e,c=J(ve,e.__scopeDialog);return r.createElement(Ce,{present:o||c.open},c.modal?r.createElement($r,A({},a,{ref:n})):r.createElement(Er,A({},a,{ref:n})))}),$r=r.forwardRef((e,n)=>{const t=J(ve,e.__scopeDialog),o=r.useRef(null),a=he(n,t.contentRef,o);return r.useEffect(()=>{const c=o.current;if(c)return ln(c)},[]),r.createElement(Rt,A({},e,{ref:a,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(e.onCloseAutoFocus,c=>{var i;c.preventDefault(),(i=t.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:ae(e.onPointerDownOutside,c=>{const i=c.detail.originalEvent,s=i.button===0&&i.ctrlKey===!0;(i.button===2||s)&&c.preventDefault()}),onFocusOutside:ae(e.onFocusOutside,c=>c.preventDefault())}))}),Er=r.forwardRef((e,n)=>{const t=J(ve,e.__scopeDialog),o=r.useRef(!1),a=r.useRef(!1);return r.createElement(Rt,A({},e,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var i;if((i=e.onCloseAutoFocus)===null||i===void 0||i.call(e,c),!c.defaultPrevented){var s;o.current||(s=t.triggerRef.current)===null||s===void 0||s.focus(),c.preventDefault()}o.current=!1,a.current=!1},onInteractOutside:c=>{var i,s;(i=e.onInteractOutside)===null||i===void 0||i.call(e,c),c.defaultPrevented||(o.current=!0,c.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const v=c.target;((s=t.triggerRef.current)===null||s===void 0?void 0:s.contains(v))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&a.current&&c.preventDefault()}}))}),Rt=r.forwardRef((e,n)=>{const{__scopeDialog:t,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:c,...i}=e,s=J(ve,t),v=r.useRef(null),m=he(n,v);return er(),r.createElement(r.Fragment,null,r.createElement(qn,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:c},r.createElement(Vn,A({role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":_t(s.open)},i,{ref:m,onDismiss:()=>s.onOpenChange(!1)}))),!1)});function _t(e){return e?"open":"closed"}const yr=vr,Cr=hr,wr=gr,Sr=xr;var fe='[cmdk-group=""]',ke='[cmdk-group-items=""]',jr='[cmdk-group-heading=""]',We='[cmdk-item=""]',ut=`${We}:not([aria-disabled="true"])`,Ke="cmdk-item-select",H="data-value",Rr=(e,n,t)=>wn(e,n,t),Nt=r.createContext(void 0),ge=()=>r.useContext(Nt),Pt=r.createContext(void 0),Ge=()=>r.useContext(Pt),Dt=r.createContext(void 0),It=r.forwardRef((e,n)=>{let t=oe(()=>{var f,E;return{search:"",value:(E=(f=e.value)!=null?f:e.defaultValue)!=null?E:"",filtered:{count:0,items:new Map,groups:new Set}}}),o=oe(()=>new Set),a=oe(()=>new Map),c=oe(()=>new Map),i=oe(()=>new Set),s=Ot(e),{label:v,children:m,value:p,onValueChange:g,filter:y,shouldFilter:b,loop:S,disablePointerSelection:d=!1,vimBindings:$=!0,...C}=e,N=r.useId(),j=r.useId(),_=r.useId(),h=r.useRef(null),u=Mr();Y(()=>{if(p!==void 0){let f=p.trim();t.current.value=f,R.emit()}},[p]),Y(()=>{u(6,He)},[]);let R=r.useMemo(()=>({subscribe:f=>(i.current.add(f),()=>i.current.delete(f)),snapshot:()=>t.current,setState:(f,E,w)=>{var x,D,I;if(!Object.is(t.current[f],E)){if(t.current[f]=E,f==="search")je(),Q(),u(1,W);else if(f==="value"&&(w||u(5,He),((x=s.current)==null?void 0:x.value)!==void 0)){let k=E??"";(I=(D=s.current).onValueChange)==null||I.call(D,k);return}R.emit()}},emit:()=>{i.current.forEach(f=>f())}}),[]),P=r.useMemo(()=>({value:(f,E,w)=>{var x;E!==((x=c.current.get(f))==null?void 0:x.value)&&(c.current.set(f,{value:E,keywords:w}),t.current.filtered.items.set(f,V(E,w)),u(2,()=>{Q(),R.emit()}))},item:(f,E)=>(o.current.add(f),E&&(a.current.has(E)?a.current.get(E).add(f):a.current.set(E,new Set([f]))),u(3,()=>{je(),Q(),t.current.value||W(),R.emit()}),()=>{c.current.delete(f),o.current.delete(f),t.current.filtered.items.delete(f);let w=le();u(4,()=>{je(),(w==null?void 0:w.getAttribute("id"))===f&&W(),R.emit()})}),group:f=>(a.current.has(f)||a.current.set(f,new Set),()=>{c.current.delete(f),a.current.delete(f)}),filter:()=>s.current.shouldFilter,label:v||e["aria-label"],disablePointerSelection:d,listId:N,inputId:_,labelId:j,listInnerRef:h}),[]);function V(f,E){var w,x;let D=(x=(w=s.current)==null?void 0:w.filter)!=null?x:Rr;return f?D(f,t.current.search,E):0}function Q(){if(!t.current.search||s.current.shouldFilter===!1)return;let f=t.current.filtered.items,E=[];t.current.filtered.groups.forEach(x=>{let D=a.current.get(x),I=0;D.forEach(k=>{let G=f.get(k);I=Math.max(G,I)}),E.push([x,I])});let w=h.current;ce().sort((x,D)=>{var I,k;let G=x.getAttribute("id"),be=D.getAttribute("id");return((I=f.get(be))!=null?I:0)-((k=f.get(G))!=null?k:0)}).forEach(x=>{let D=x.closest(ke);D?D.appendChild(x.parentElement===D?x:x.closest(`${ke} > *`)):w.appendChild(x.parentElement===w?x:x.closest(`${ke} > *`))}),E.sort((x,D)=>D[1]-x[1]).forEach(x=>{let D=h.current.querySelector(`${fe}[${H}="${encodeURIComponent(x[0])}"]`);D==null||D.parentElement.appendChild(D)})}function W(){let f=ce().find(w=>w.getAttribute("aria-disabled")!=="true"),E=f==null?void 0:f.getAttribute(H);R.setState("value",E||void 0)}function je(){var f,E,w,x;if(!t.current.search||s.current.shouldFilter===!1){t.current.filtered.count=o.current.size;return}t.current.filtered.groups=new Set;let D=0;for(let I of o.current){let k=(E=(f=c.current.get(I))==null?void 0:f.value)!=null?E:"",G=(x=(w=c.current.get(I))==null?void 0:w.keywords)!=null?x:[],be=V(k,G);t.current.filtered.items.set(I,be),be>0&&D++}for(let[I,k]of a.current)for(let G of k)if(t.current.filtered.items.get(G)>0){t.current.filtered.groups.add(I);break}t.current.filtered.count=D}function He(){var f,E,w;let x=le();x&&(((f=x.parentElement)==null?void 0:f.firstChild)===x&&((w=(E=x.closest(fe))==null?void 0:E.querySelector(jr))==null||w.scrollIntoView({block:"nearest"})),x.scrollIntoView({block:"nearest"}))}function le(){var f;return(f=h.current)==null?void 0:f.querySelector(`${We}[aria-selected="true"]`)}function ce(){var f;return Array.from((f=h.current)==null?void 0:f.querySelectorAll(ut))}function Re(f){let E=ce()[f];E&&R.setState("value",E.getAttribute(H))}function _e(f){var E;let w=le(),x=ce(),D=x.findIndex(k=>k===w),I=x[D+f];(E=s.current)!=null&&E.loop&&(I=D+f<0?x[x.length-1]:D+f===x.length?x[0]:x[D+f]),I&&R.setState("value",I.getAttribute(H))}function ze(f){let E=le(),w=E==null?void 0:E.closest(fe),x;for(;w&&!x;)w=f>0?kr(w,fe):Fr(w,fe),x=w==null?void 0:w.querySelector(ut);x?R.setState("value",x.getAttribute(H)):_e(f)}let Ye=()=>Re(ce().length-1),Xe=f=>{f.preventDefault(),f.metaKey?Ye():f.altKey?ze(1):_e(1)},Ze=f=>{f.preventDefault(),f.metaKey?Re(0):f.altKey?ze(-1):_e(-1)};return r.createElement(F.div,{ref:n,tabIndex:-1,...C,"cmdk-root":"",onKeyDown:f=>{var E;if((E=C.onKeyDown)==null||E.call(C,f),!f.defaultPrevented)switch(f.key){case"n":case"j":{$&&f.ctrlKey&&Xe(f);break}case"ArrowDown":{Xe(f);break}case"p":case"k":{$&&f.ctrlKey&&Ze(f);break}case"ArrowUp":{Ze(f);break}case"Home":{f.preventDefault(),Re(0);break}case"End":{f.preventDefault(),Ye();break}case"Enter":if(!f.nativeEvent.isComposing&&f.keyCode!==229){f.preventDefault();let w=le();if(w){let x=new Event(Ke);w.dispatchEvent(x)}}}}},r.createElement("label",{"cmdk-label":"",htmlFor:P.inputId,id:P.labelId,style:Ur},v),Se(e,f=>r.createElement(Pt.Provider,{value:R},r.createElement(Nt.Provider,{value:P},f))))}),_r=r.forwardRef((e,n)=>{var t,o;let a=r.useId(),c=r.useRef(null),i=r.useContext(Dt),s=ge(),v=Ot(e),m=(o=(t=v.current)==null?void 0:t.forceMount)!=null?o:i==null?void 0:i.forceMount;Y(()=>{if(!m)return s.item(a,i==null?void 0:i.id)},[m]);let p=Tt(a,c,[e.value,e.children,c],e.keywords),g=Ge(),y=X(u=>u.value&&u.value===p.current),b=X(u=>m||s.filter()===!1?!0:u.search?u.filtered.items.get(a)>0:!0);r.useEffect(()=>{let u=c.current;if(!(!u||e.disabled))return u.addEventListener(Ke,S),()=>u.removeEventListener(Ke,S)},[b,e.onSelect,e.disabled]);function S(){var u,R;d(),(R=(u=v.current).onSelect)==null||R.call(u,p.current)}function d(){g.setState("value",p.current,!0)}if(!b)return null;let{disabled:$,value:C,onSelect:N,forceMount:j,keywords:_,...h}=e;return r.createElement(F.div,{ref:pe([c,n]),...h,id:a,"cmdk-item":"",role:"option","aria-disabled":!!$,"aria-selected":!!y,"data-disabled":!!$,"data-selected":!!y,onPointerMove:$||s.disablePointerSelection?void 0:d,onClick:$?void 0:S},e.children)}),Nr=r.forwardRef((e,n)=>{let{heading:t,children:o,forceMount:a,...c}=e,i=r.useId(),s=r.useRef(null),v=r.useRef(null),m=r.useId(),p=ge(),g=X(b=>a||p.filter()===!1?!0:b.search?b.filtered.groups.has(i):!0);Y(()=>p.group(i),[]),Tt(i,s,[e.value,e.heading,v]);let y=r.useMemo(()=>({id:i,forceMount:a}),[a]);return r.createElement(F.div,{ref:pe([s,n]),...c,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},t&&r.createElement("div",{ref:v,"cmdk-group-heading":"","aria-hidden":!0,id:m},t),Se(e,b=>r.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?m:void 0},r.createElement(Dt.Provider,{value:y},b))))}),Pr=r.forwardRef((e,n)=>{let{alwaysRender:t,...o}=e,a=r.useRef(null),c=X(i=>!i.search);return!t&&!c?null:r.createElement(F.div,{ref:pe([a,n]),...o,"cmdk-separator":"",role:"separator"})}),Dr=r.forwardRef((e,n)=>{let{onValueChange:t,...o}=e,a=e.value!=null,c=Ge(),i=X(p=>p.search),s=X(p=>p.value),v=ge(),m=r.useMemo(()=>{var p;let g=(p=v.listInnerRef.current)==null?void 0:p.querySelector(`${We}[${H}="${encodeURIComponent(s)}"]`);return g==null?void 0:g.getAttribute("id")},[]);return r.useEffect(()=>{e.value!=null&&c.setState("search",e.value)},[e.value]),r.createElement(F.input,{ref:n,...o,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":v.listId,"aria-labelledby":v.labelId,"aria-activedescendant":m,id:v.inputId,type:"text",value:a?e.value:i,onChange:p=>{a||c.setState("search",p.target.value),t==null||t(p.target.value)}})}),Ir=r.forwardRef((e,n)=>{let{children:t,label:o="Suggestions",...a}=e,c=r.useRef(null),i=r.useRef(null),s=ge();return r.useEffect(()=>{if(i.current&&c.current){let v=i.current,m=c.current,p,g=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let y=v.offsetHeight;m.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return g.observe(v),()=>{cancelAnimationFrame(p),g.unobserve(v)}}},[]),r.createElement(F.div,{ref:pe([c,n]),...a,"cmdk-list":"",role:"listbox","aria-label":o,id:s.listId},Se(e,v=>r.createElement("div",{ref:pe([i,s.listInnerRef]),"cmdk-list-sizer":""},v)))}),Or=r.forwardRef((e,n)=>{let{open:t,onOpenChange:o,overlayClassName:a,contentClassName:c,container:i,...s}=e;return r.createElement(yr,{open:t,onOpenChange:o},r.createElement(Cr,{container:i},r.createElement(wr,{"cmdk-overlay":"",className:a}),r.createElement(Sr,{"aria-label":e.label,"cmdk-dialog":"",className:c},r.createElement(It,{ref:n,...s}))))}),Tr=r.forwardRef((e,n)=>X(t=>t.filtered.count===0)?r.createElement(F.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),Ar=r.forwardRef((e,n)=>{let{progress:t,children:o,label:a="Loading...",...c}=e;return r.createElement(F.div,{ref:n,...c,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Se(e,i=>r.createElement("div",{"aria-hidden":!0},i)))}),T=Object.assign(It,{List:Ir,Item:_r,Input:Dr,Group:Nr,Separator:Pr,Dialog:Or,Empty:Tr,Loading:Ar});function kr(e,n){let t=e.nextElementSibling;for(;t;){if(t.matches(n))return t;t=t.nextElementSibling}}function Fr(e,n){let t=e.previousElementSibling;for(;t;){if(t.matches(n))return t;t=t.previousElementSibling}}function Ot(e){let n=r.useRef(e);return Y(()=>{n.current=e}),n}var Y=typeof window>"u"?r.useEffect:r.useLayoutEffect;function oe(e){let n=r.useRef();return n.current===void 0&&(n.current=e()),n}function pe(e){return n=>{e.forEach(t=>{typeof t=="function"?t(n):t!=null&&(t.current=n)})}}function X(e){let n=Ge(),t=()=>e(n.snapshot());return r.useSyncExternalStore(n.subscribe,t,t)}function Tt(e,n,t,o=[]){let a=r.useRef(),c=ge();return Y(()=>{var i;let s=(()=>{var m;for(let p of t){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(m=p.current.textContent)==null?void 0:m.trim():a.current}})(),v=o.map(m=>m.trim());c.value(e,s,v),(i=n.current)==null||i.setAttribute(H,s),a.current=s}),a}var Mr=()=>{let[e,n]=r.useState(),t=oe(()=>new Map);return Y(()=>{t.current.forEach(o=>o()),t.current=new Map},[e]),(o,a)=>{t.current.set(o,a),n({})}};function Lr(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function Se({asChild:e,children:n},t){return e&&r.isValidElement(n)?r.cloneElement(Lr(n),{ref:n.ref},t(n.props.children)):t(n)}var Ur={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const At=r.forwardRef(({className:e,...n},t)=>l.jsx(T,{ref:t,className:Z("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...n}));At.displayName=T.displayName;const kt=r.forwardRef(({className:e,...n},t)=>l.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[l.jsx(cn,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),l.jsx(T.Input,{ref:t,className:Z("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...n})]}));kt.displayName=T.Input.displayName;const Ft=r.forwardRef(({className:e,...n},t)=>l.jsx(T.List,{ref:t,className:Z("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...n}));Ft.displayName=T.List.displayName;const Mt=r.forwardRef((e,n)=>l.jsx(T.Empty,{ref:n,className:"py-6 text-center text-sm",...e}));Mt.displayName=T.Empty.displayName;const Lt=r.forwardRef(({className:e,...n},t)=>l.jsx(T.Group,{ref:t,className:Z("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...n}));Lt.displayName=T.Group.displayName;const Vr=r.forwardRef(({className:e,...n},t)=>l.jsx(T.Separator,{ref:t,className:Z("-mx-1 h-px bg-border",e),...n}));Vr.displayName=T.Separator.displayName;const Ut=r.forwardRef(({className:e,...n},t)=>l.jsx(T.Item,{ref:t,className:Z("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...n}));Ut.displayName=T.Item.displayName;function dt({url:e,filter:n,id:t,label:o,value:a,onSelectChange:c,defaultLabel:i,disabled:s,placeholder:v="Search items ..."}){var h;const[m,p]=r.useState(!1),[g,y]=r.useState([]),[b,S]=r.useState(!1),[d,$]=r.useState("");let C;async function N(){const u={filter:n,search:d};S(!0);try{let R=await me.get(e,{params:u});S(!1),y(R.data.data)}catch(R){console.log(R)}}function j(u){u.key==="Enter"&&(clearTimeout(C),N())}r.useEffect(()=>(C=setTimeout(()=>{d&&N()},500),()=>clearTimeout(C)),[d]);function _(u){c(u),p(!1)}return r.useEffect(()=>{m?N():$("")},[m]),l.jsxs(sn,{open:m,onOpenChange:p,children:[l.jsx(un,{asChild:!0,children:l.jsxs(mt,{variant:"outline",disabled:s,role:"combobox","aria-expanded":m,className:"w-[200px] text-xs justify-between",children:[l.jsx(mn,{className:"opacity-50"}),i&&g.length===0?i:null,a&&g.length>0?(h=g.find(u=>String(u[t])===String(a)))==null?void 0:h[o]:"",a===""&&(i===""||i===null)?v:""]})}),l.jsx(dn,{className:"w-[200px] p-0",children:l.jsxs(At,{shouldFilter:!1,children:[l.jsx(kt,{onKeyDown:j,onValueChange:u=>$(u),placeholder:v}),l.jsx(Ft,{className:"z-30",children:b?l.jsx("div",{className:"py-10 flex items-center justify-center h-64 w-full",children:l.jsx(fn,{})}):l.jsxs(l.Fragment,{children:[l.jsxs(Mt,{children:["No Item found. ",g.length]}),g.length>0?l.jsx(Lt,{className:"z-30",children:g.map(u=>l.jsxs(Ut,{className:"z-30",value:u[t],onSelect:R=>{_(u[t])},children:[u[o],l.jsx(pn,{className:Z("ml-auto",a===u[t]?"opacity-100":"opacity-0")})]},u[t]))}):null]})})]})})]})}var Br=(e=>(e[e.create=0]="create",e[e.edit=1]="edit",e[e.update=2]="update",e))(Br||{});function Co({onSuccess:e,type:n=ee.create,detailUrl:t,id:o,listCurrency:a,listAllowanceCategory:c,listGrade:i,createUrl:s,editUrl:v}){const m=O.object({code:O.string().min(1,"Code is required"),name:O.string().min(1,"Name is required"),type:O.string().min(1,"Type is required"),material_number:O.string().min(1,"Material number required"),material_group:O.string().min(1,"Material Group required"),currency_id:O.string().min(1,"Currency is required"),allowance_category_id:O.string().min(1,"Allowance Category is required"),request_value:O.string().min(1,"Required"),grade_option:O.string().min(1,"Grade must be selected"),grade_all_price:O.string().optional(),grades:O.array(O.object({grade:O.string(),id:O.number(),plafon:O.string()}))}),[p,g]=r.useState([]),[y,b]=r.useState(""),S={code:"",name:"",type:"",currency_id:"",allowance_category_id:"",request_value:"unlimited",grade_option:"all",grade_all_price:"0",grades:[]},d=Gt({resolver:Wt(m),defaultValues:S});async function $(){try{const h=await me.get(t??""),u=h.data.data.allowance;console.log(u),_(u.material_group);const R=h.data.data.grades;d.reset({code:u.code,name:u.name,type:u.type,material_number:u.material_number,material_group:u.material_group,currency_id:u.currency_id,allowance_category_id:u.allowance_category_id,grade_option:u.grade_option,grade_all_price:u.grade_all_price,grades:R}),d.setValue("request_value",u.request_value)}catch{}}const{fields:C}=Ht({control:d.control,name:"grades"}),{showToast:N}=Kt(),j=async h=>{try{if(console.log(h),n===ee.create){const u=await me.post(s??"",h)}else if(n===ee.edit){const u=await me.put(v??"",h)}N("success","success"),e==null||e(!0)}catch(u){u.response&&N(u.response.data.message,"error")}};async function _(h){try{const u=await me.get(Xt(h));d.setValue("material_group",h),g(u.data.data)}catch(u){console.log(u)}}return r.useEffect(()=>{(n===ee.detail||n===ee.edit)&&$()},[n]),l.jsx(zt,{className:"h-[600px] w-full",children:l.jsx(qt,{...d,children:l.jsxs("form",{onSubmit:d.handleSubmit(j),children:[l.jsxs("table",{className:"text-xs mt-4 table font-thin",children:[l.jsxs("tr",{children:[l.jsxs("td",{width:200,children:["Code ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("td",{children:l.jsx(M,{control:d.control,name:"code",render:({field:h})=>l.jsxs(L,{children:[l.jsx(U,{children:l.jsx(xe,{type:"text",readOnly:n===ee.edit,placeholder:"Insert code",...h,value:h.value||"",onChange:u=>h.onChange(u.target.value)})}),l.jsx(B,{})]})})})]}),l.jsxs("tr",{children:[l.jsx("td",{width:200,children:"Name"}),l.jsx("td",{children:l.jsx(M,{control:d.control,name:"name",render:({field:h})=>l.jsxs(L,{children:[l.jsx(U,{children:l.jsx(xe,{type:"text",...h,value:h.value||"",onChange:u=>h.onChange(u.target.value)})}),l.jsx(B,{})]})})})]}),l.jsxs("tr",{children:[l.jsx("td",{width:200,children:"Type"}),l.jsx("td",{children:l.jsx(M,{control:d.control,name:"type",render:({field:h})=>l.jsxs(L,{children:[l.jsx(U,{children:l.jsxs(se,{onValueChange:u=>h.onChange(u),value:h.value,children:[l.jsx(ie,{className:"w-[200px]",children:l.jsx(ue,{placeholder:"Select type"})}),l.jsxs(de,{children:[l.jsx(K,{value:"daily",children:"DAILY"},"DAILY"),l.jsx(K,{value:"total",children:"Total"},"TOTAL")]})]})}),l.jsx(B,{})]})})})]}),l.jsxs("tr",{children:[l.jsx("td",{width:200,children:"Material Group"}),l.jsx("td",{children:l.jsx(M,{control:d.control,name:"material_group",render:({field:h})=>l.jsxs(L,{children:[l.jsx(U,{children:l.jsx(dt,{onSelectChange:u=>{h.onChange(u),b("api/master/master-material/get-dropdown-master-material-number/by-material-group/"+u),d.setValue("material_number","")},value:h.value,placeholder:"Select material group",filter:["material_group"],id:"material_group",label:"material_group",url:"api/master/master-material/get-dropdown-master-material-group"})}),l.jsx(B,{})]})})})]}),l.jsxs("tr",{children:[l.jsxs("td",{width:200,children:["Material Number ",d.getValues("material_number")]}),l.jsx("td",{children:l.jsx(M,{control:d.control,name:"material_number",render:({field:h})=>l.jsxs(L,{children:[l.jsx(U,{children:l.jsx(dt,{onSelectChange:u=>{h.onChange(u)},value:h.value,filter:["material_number"],id:"material_number",label:"material_number",url:y})}),l.jsx(B,{})]})})})]}),l.jsxs("tr",{children:[l.jsx("td",{width:200,children:"Currency"}),l.jsx("td",{children:l.jsx(M,{control:d.control,name:"currency_id",render:({field:h})=>l.jsxs(L,{children:[l.jsx(U,{children:l.jsxs(se,{onValueChange:u=>h.onChange(u),value:h.value,children:[l.jsx(ie,{className:"w-[200px]",children:l.jsx(ue,{placeholder:"Select Currency"})}),l.jsx(de,{children:a.map(u=>l.jsxs(K,{value:u.code,children:[u.name," ",u.code]},u.code))})]})}),l.jsx(B,{})]})})})]}),l.jsxs("tr",{children:[l.jsx("td",{width:200,children:"Allowance Category"}),l.jsx("td",{children:l.jsx(M,{control:d.control,name:"allowance_category_id",render:({field:h})=>l.jsxs(L,{children:[l.jsx(U,{children:l.jsxs(se,{onValueChange:u=>h.onChange(u),value:h.value,children:[l.jsx(ie,{className:"w-[200px]",children:l.jsx(ue,{placeholder:"Select Allowance Category"})}),l.jsx(de,{children:c.map(u=>l.jsx(K,{value:u.id.toString(),children:u.name},u.id))})]})}),l.jsx(B,{})]})})})]}),l.jsxs("tr",{children:[l.jsx("td",{width:200,children:"Grade"}),l.jsxs("td",{className:"gap-4",children:[l.jsx(M,{control:d.control,name:"grade_option",render:({field:h})=>l.jsxs(L,{children:[l.jsx(U,{children:l.jsxs(se,{onValueChange:u=>h.onChange(u),value:h.value,children:[l.jsx(ie,{className:"w-[200px]",children:l.jsx(ue,{placeholder:"Select Request Value"})}),l.jsxs(de,{children:[l.jsx(K,{value:"all",children:"All"},"all"),l.jsx(K,{value:"grade",children:"grade"},"grade")]})]})}),l.jsx(B,{})]})}),d.getValues("grade_option")==="all"?l.jsx("div",{children:l.jsx(M,{control:d.control,name:"grade_all_price",render:({field:h})=>l.jsx(L,{children:l.jsx(U,{children:l.jsx(xe,{...h})})})})}):l.jsx("div",{children:l.jsx(Yt,{label:"grade",id:"id",options:i,value:d.getValues("grades").map(h=>h.id),onSelect:h=>{d.setValue("grades",h.map(u=>({id:u.id,grade:u.grade,plafon:""})))}})}),d.getValues("grade_option")==="grade"?l.jsx("div",{className:"mt-4",children:l.jsx("table",{children:C.map((h,u)=>l.jsxs("tr",{children:[l.jsxs("td",{children:["Grade ",h.grade]}),l.jsx("td",{children:":"}),l.jsx("td",{children:l.jsx("div",{children:l.jsx(M,{control:d.control,name:`grades.${u}.plafon`,render:({field:R})=>l.jsx(L,{children:l.jsx(U,{children:l.jsx(xe,{...R})})})})})})]},h))})}):null]})]}),l.jsxs("tr",{children:[l.jsx("td",{width:200,children:"Request Value"}),l.jsx("td",{children:l.jsx(M,{control:d.control,name:"request_value",render:({field:h})=>l.jsxs(L,{children:[l.jsx(U,{children:l.jsxs(se,{onValueChange:u=>h.onChange(u),value:h.value,children:[l.jsx(ie,{className:"w-[200px]",children:l.jsx(ue,{placeholder:"Select Request Value"})}),l.jsxs(de,{children:[l.jsx(K,{value:"unlimited",children:"Unlimited"},"unlimited"),l.jsx(K,{value:"up to max value",children:"Up to Max Value"},"up to max value"),l.jsx(K,{value:"fixed value",children:"Fixed Value"},"fixed value")]})]})}),l.jsx(B,{})]})})})]})]}),l.jsx("div",{className:"flex justify-end items-center",children:l.jsx(mt,{type:"submit",children:"Save"})})]})})})}export{Br as AllowanceType,Co as default};
