import{r as E,j as e}from"./app-nYBTD1fo.js";import{F as A,a as d,b as h,c as x,d as j}from"./form-B2JPCxtq.js";import{z as r,t as I}from"./index-C4FlvXrp.js";import{B as V,F as R}from"./button-CA57fXNi.js";import{u as M,b as $}from"./index.esm-CzPujvt0.js";import{S as L}from"./scroll-area-B3JJXvHI.js";import{S as q}from"./separator-Dg9r8vB9.js";import{T as D,a as O,b as P,c as z}from"./tabs-CvOK-viK.js";import{S as u,a as f,b as p,c as y,d as c}from"./select-BuyTLcdg.js";import{a as B}from"./axiosInstance-DMOvDrDW.js";const g="/api/master/family",re=`${g}/list`,G=`${g}/create`,H=({onSuccess:a,type:o=R.create,id:n,user:m})=>{const t=r.object({user:r.string().min(1,"Choose Employee is Required"),total_family:r.number().min(1,"Total Family is Required"),families:r.array(r.object({status:r.string().min(1,"Type Family is Must Choose"),bod:r.date(),name:r.string().min(1,"Name Family is Required")}))}),[_,v]=E.useState("1"),S=async i=>{try{const s=await B.post(G,i);a==null||a(!0),b(s.message,"success")}catch(s){a==null||a(!1),b(s.message)}},l=M({resolver:I(t),defaultValues:{user:"",total_family:1,families:[{status:"",bod:new Date,name:""}]}}),C=i=>{v(i)},{fields:N,append:Y,remove:U,update:W}=$({control:l.control,name:"families"});return e.jsx(L,{className:"h-[600px] w-full ",children:e.jsx(A,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(S),children:[e.jsxs("table",{className:"text-xs mt-4 reimburse-form-table font-thin",children:[e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Employee Name"}),e.jsx("td",{children:e.jsx(d,{control:l.control,name:"user",render:({field:i})=>e.jsxs(h,{children:[e.jsx(x,{children:e.jsxs(u,{onValueChange:s=>i.onChange(s),value:i.value,children:[e.jsx(f,{className:"w-[200px] py-2",children:e.jsx(p,{placeholder:"-"})}),e.jsx(y,{children:m.map(s=>e.jsx(c,{value:s.nip,children:s.name},s.nip))})]})}),e.jsx(j,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Total Destination"}),e.jsxs("td",{children:[" ",e.jsx(d,{control:l.control,name:"total_family",render:({field:i})=>e.jsxs(h,{children:[e.jsx(x,{children:e.jsxs(u,{value:_,onValueChange:C,children:[e.jsx(f,{className:"w-[200px] py-2",children:e.jsx(p,{placeholder:"-"})}),e.jsx(y,{children:Array.from({length:5},(s,F)=>e.jsxs(c,{value:(F+1).toString(),children:[" ",F+1," "]}))})]})}),e.jsx(j,{})]})})]})]})]}),e.jsx(q,{className:"my-4"}),e.jsx(T,{form:l,familyField:N,totalFamily:l.getValues("total_family").toString()}),e.jsx(V,{type:"submit",children:"submit"})]})})})};function T({form:a,familyField:o,totalFamily:n}){return e.jsxs(D,{defaultValue:"family1",className:"w-full",children:[e.jsx(O,{className:"flex items-center justify-start space-x-4",children:o.map((m,t)=>e.jsxs(P,{value:`family${t+1}`,children:["Family ",t+1]}))}),o.map((m,t)=>e.jsx(w,{form:a,index:t}))]})}function w({family:a,form:o,index:n}){return e.jsx(z,{value:`family${n+1}`,children:e.jsx("div",{children:e.jsx("table",{className:"text-xs mt-4 reimburse-form-detail font-thin",children:e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Family Type"}),e.jsx("td",{children:e.jsx(d,{control:o.control,name:`families.${n}.type`,render:({field:m})=>e.jsxs(h,{children:[e.jsx(x,{children:e.jsxs(u,{onValueChange:t=>{updateFamily(n,{...a,family:t})},defaultValue:"",children:[e.jsx(f,{className:"w-[200px]",children:e.jsx(p,{placeholder:"Destination"})}),e.jsxs(y,{children:[e.jsx(c,{value:"wife",children:"Wife"}),e.jsx(c,{value:"child",children:"Child"})]})]})}),e.jsx(j,{})]})})})]})})},n)})}function b(a,o){throw new Error("Function not implemented.")}const le=Object.freeze(Object.defineProperty({__proto__:null,FamilyForm:w,FamilyHeaderForm:H,TabFamily:T},Symbol.toStringTag,{value:"Module"}));export{H as F,re as G,le as f};
