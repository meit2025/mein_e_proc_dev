import{u as c,j as t,r as f}from"./app-BX332B7Y.js";import{D as o}from"./DataGrid-DmPHi_K0.js";import{f as x}from"./rupiahCurrencyFormat-CP-6egij.js";import{b as P,S as g,c as D,d as C,e as S}from"./api-Cl2j9d7H.js";import{a as b}from"./axiosInstance-jCr-jD9b.js";import{G as T}from"./api-Bg8qfCg8.js";import{B as s}from"./Box-DAMAz-QC.js";import{T as j,a as p}from"./Tabs-BDMS0lOq.js";import{T as A}from"./Typography-9VRylJG4.js";const v=[{field:"purchase_requisition_number",headerName:"Purchase Requisition Number",width:200,filterable:!0},{field:"status",headerName:"PR Status",width:150,filterable:!0},{field:"no_po",headerName:"Number PO",width:200,filterable:!0},{field:"is_closed",headerName:"PO Status",width:150,filterable:!0},{field:"requisitioner_name",headerName:"Requisitioner Name",width:200,filterable:!0},{field:"requisition_date",headerName:"Requisition Date",width:200,filterable:!0},{field:"requirement_tracking_number",headerName:"Requirement Tracking Number",width:200,filterable:!0},{field:"item_number",headerName:"Item Number",width:150,filterable:!0},{field:"document_type",headerName:"Document Type",width:200,filterable:!0},{field:"valuation_type",headerName:"Valuation Type",width:200,filterable:!0},{field:"purchasing_group",headerName:"Purchasing Group",width:200,filterable:!0},{field:"purchasing_organization",headerName:"Purchasing Organization",width:200,filterable:!0},{field:"account_assignment_category",headerName:"Account Assignment Category",width:250,filterable:!0},{field:"item_delivery_date",headerName:"Item Delivery Date",width:200,filterable:!0},{field:"storage_location",headerName:"Storage Location",width:200,filterable:!0},{field:"desired_vendor",headerName:"Desired Vendor",width:200,filterable:!0},{field:"material_group",headerName:"Material Group",width:200,filterable:!0},{field:"material_number",headerName:"Material Number",width:200,filterable:!0},{field:"unit_of_measure",headerName:"Unit of Measure",width:150,filterable:!0},{field:"quantity",headerName:"Quantity",width:150,filterable:!0},{field:"tax_code",headerName:"Tax Code",width:150,filterable:!0},{field:"item_category",headerName:"Item Category",width:200,filterable:!0},{field:"short_text",headerName:"Short Text",width:200,filterable:!0},{field:"plant",headerName:"Plant",width:150,filterable:!0},{field:"deletion_indicator",headerName:"Deletion Indicator",width:200,filterable:!0},{field:"cost_center",headerName:"Cost Center",width:200,filterable:!0},{field:"order_number",headerName:"Order Number",width:200,filterable:!0},{field:"asset_subnumber",headerName:"Asset Subnumber",width:200,filterable:!0},{field:"main_asset_number",headerName:"Main Asset Number",width:200,filterable:!0},{field:"purchase_id",headerName:"Purchase ID",width:200,filterable:!0},{field:"code_transaction",headerName:"Code Transaction",width:200,filterable:!0},{field:"header_not",headerName:"Header Not",width:200,filterable:!0},{field:"tanggal_entertainment",headerName:"Entertainment Date",width:200,filterable:!0},{field:"tempat_entertainment",headerName:"Entertainment Location",width:200,filterable:!0},{field:"alamat_entertainment",headerName:"Entertainment Address",width:200,filterable:!0},{field:"jenis_entertainment",headerName:"Type of Entertainment",width:200,filterable:!0},{field:"nama_entertainment",headerName:"Entertained Name",width:200,filterable:!0},{field:"posisi_entertainment",headerName:"Entertained Position",width:200,filterable:!0},{field:"nama_perusahaan",headerName:"Company Name",width:200,filterable:!0},{field:"jenis_usaha_entertainment",headerName:"type of Bussines",width:250,filterable:!0},{field:"jenis_kegiatan_entertainment",headerName:"Type of Activity",width:250,filterable:!0},{field:"code",headerName:"Code",width:150,filterable:!0},{field:"message",headerName:"Message",width:200,filterable:!0},{field:"attachment",headerName:"Attachment",width:200,filterable:!0},{field:"balance",headerName:"Amount",width:150,filterable:!0,renderCell:e=>x(e.row.balance)},{field:"attachment_link",headerName:"Attachment Link",width:250,filterable:!0}],N=e=>{const{showToast:a}=c(),r=async()=>{var i,m;const d=e.id??"",l=e.type??"";try{const u=await b.get(g(d,l));a(u.data.message??"success","success")}catch(u){a(((m=(i=u.response)==null?void 0:i.data)==null?void 0:m.message)||"An error occurred","error")}};return t.jsx(t.Fragment,{children:t.jsx(o,{columns:v,defaultSearch:`?data_id=${e.id}&type_code_transaction=${e.type}&`,url:{url:P},onExport:async()=>{await r()},labelFilter:"search"})})},I=[{field:"belnr",headerName:"Number Document SAP",width:200,filterable:!0},{field:"status",headerName:"Status",width:200,filterable:!0},{field:"purchasing_document",headerName:"Purchasing Document",width:200,filterable:!0},{field:"code_transaction",headerName:"Code Transaction",width:200,filterable:!0},{field:"company_code",headerName:"Company Code",width:200,filterable:!0},{field:"document_type",headerName:"Document Type",width:200,filterable:!0},{field:"currency",headerName:"Currency",width:200,filterable:!0},{field:"document_date",headerName:"Document Date",width:200,filterable:!0},{field:"reference",headerName:"Reference",width:200,filterable:!0},{field:"document_header_text",headerName:"Document Header Text",width:200,filterable:!0},{field:"item",headerName:"Item",width:200,filterable:!0},{field:"posting_key",headerName:"Posting Key",width:200,filterable:!0},{field:"gl_indicator",headerName:"GL Indicator",width:200,filterable:!0},{field:"target_spesial",headerName:"Target Special",width:200,filterable:!0},{field:"vendor_code",headerName:"Vendor Code",width:200,filterable:!0},{field:"amount",headerName:"Amount",width:200,filterable:!0},{field:"amount_local_currency",headerName:"Amount (Local Currency)",width:200,filterable:!0},{field:"tax_amount",headerName:"Tax Amount",width:200,filterable:!0},{field:"tax_code",headerName:"Tax Code",width:200,filterable:!0},{field:"due_on",headerName:"Due On",width:200,filterable:!0},{field:"payment_method",headerName:"Payment Method",width:200,filterable:!0},{field:"purchasing_document_item",headerName:"Purchasing Document Item",width:200,filterable:!0},{field:"assigment",headerName:"Assignment",width:200,filterable:!0},{field:"text",headerName:"Text",width:200,filterable:!0},{field:"profit_center",headerName:"Profit Center",width:200,filterable:!0},{field:"gjahr",headerName:"fiscal year",width:200,filterable:!0},{field:"extdoc",headerName:"Number Document Web",width:200,filterable:!0},{field:"stblg",headerName:"Number Document Cancel",width:200,filterable:!0},{field:"stjah",headerName:"Year Document Cancel",width:200,filterable:!0},{field:"message",headerName:"Message",width:200,filterable:!0},{field:"code",headerName:"Code",width:200,filterable:!0},{field:"budat",headerName:"Budat",width:200,filterable:!0},{field:"monat",headerName:"Monat",width:200,filterable:!0}],_=e=>{const{showToast:a}=c(),r=async()=>{const d=(e==null?void 0:e.id)??"",l=(e==null?void 0:e.type)??"";try{const i=await b.get(g(d,l));a(i.data.message??"success","success")}catch(i){a(i.response.data.message,"error")}};return t.jsx(t.Fragment,{children:t.jsx(o,{columns:I,defaultSearch:`?data_id=${e==null?void 0:e.id}&type_code_transaction=${e==null?void 0:e.type}&`,url:{url:D},onExport:async()=>{await r()},labelFilter:"search"})})},E=[{field:"level",headerName:"Level",width:100,filterable:!0},{field:"message",headerName:"Message",width:150,filterable:!0},{filterable:!0,field:"context",headerName:"json value",width:400},{filterable:!1,field:"created_at",headerName:"Time Hit",width:100,renderCell:e=>{const a=new Date(e.value),r=`${a.getDate().toString().padStart(2,"0")}-${(a.getMonth()+1).toString().padStart(2,"0")}-${a.getFullYear()} ${a.getHours().toString().padStart(2,"0")}:${a.getMinutes().toString().padStart(2,"0")}`;return t.jsx("span",{children:r})}}],w=({id:e,functionName:a})=>t.jsx(t.Fragment,{children:t.jsx(o,{columns:E,defaultSearch:`?function=${a}&id=${e}&`,url:{url:`${T}`},labelFilter:"search"})}),$=[{field:"main_asset_number",headerName:"Main Asset Number",width:200,filterable:!0},{field:"asset_subnumber",headerName:"Asset Subnumber",width:200,filterable:!0},{field:"order_number",headerName:"Order Number",width:200,filterable:!0},{field:"purchasing_document_number",headerName:"Purchasing Document Number",width:200,filterable:!0},{field:"item_number_of_purchasing_document",headerName:"Item Number of Purchasing Document",width:200,filterable:!0},{field:"cost_center",headerName:"Cost Center",width:200,filterable:!0},{field:"purchasing_document_date",headerName:"Purchasing Document Date",width:200,filterable:!0},{field:"purchasing_document_type",headerName:"Purchasing Document Type",width:200,filterable:!0},{field:"company_code",headerName:"Company Code",width:200,filterable:!0},{field:"purchasing_group",headerName:"Purchasing Group",width:200,filterable:!0},{field:"purchasing_organization",headerName:"Purchasing Organization",width:200,filterable:!0},{field:"incoterms_part1",headerName:"Incoterms Part 1",width:200,filterable:!0},{field:"incoterms_part2",headerName:"Incoterms Part 2",width:200,filterable:!0},{field:"vendor_account_number",headerName:"Vendor Account Number",width:200,filterable:!0},{field:"currency_key",headerName:"Currency Key",width:200,filterable:!0},{field:"terms_of_payment_key",headerName:"Terms of Payment Key",width:200,filterable:!0},{field:"requisitioner_name",headerName:"Requisitioner Name",width:200,filterable:!0},{field:"purchase_requisition_number",headerName:"Purchase Requisition Number",width:200,filterable:!0},{field:"requirement_tracking_number",headerName:"Requirement Tracking Number",width:200,filterable:!0},{field:"item_number_of_purchase_requisition",headerName:"Item Number of Purchase Requisition",width:200,filterable:!0},{field:"delivery_completed_indicator",headerName:"Delivery Completed Indicator",width:200,filterable:!0},{field:"final_invoice_indicator",headerName:"Final Invoice Indicator",width:200,filterable:!0},{field:"account_assignment_category",headerName:"Account Assignment Category",width:200,filterable:!0},{field:"storage_location",headerName:"Storage Location",width:200,filterable:!0},{field:"deletion_indicator",headerName:"Deletion Indicator",width:200,filterable:!0},{field:"material_group",headerName:"Material Group",width:200,filterable:!0},{field:"material_number",headerName:"Material Number",width:200,filterable:!0},{field:"po_unit_of_measure",headerName:"PO Unit of Measure",width:200,filterable:!0},{field:"po_quantity",headerName:"PO Quantity",width:200,filterable:!0},{field:"tax_code",headerName:"Tax Code",width:200,filterable:!0},{field:"net_price",headerName:"Net Price",width:200,filterable:!0},{field:"item_category",headerName:"Item Category",width:200,filterable:!0},{field:"invoice_receipt_indicator",headerName:"Invoice Receipt Indicator",width:200,filterable:!0},{field:"short_text",headerName:"Short Text",width:200,filterable:!0},{field:"gr_based_invoice_verification",headerName:"GR Based Invoice Verification",width:200,filterable:!0},{field:"goods_receipt_indicator",headerName:"Goods Receipt Indicator",width:200,filterable:!0},{field:"plant",headerName:"Plant",width:200,filterable:!0},{field:"status",headerName:"Status",width:200,filterable:!0},{field:"code",headerName:"Code",width:200,filterable:!0},{field:"message",headerName:"Message",width:200,filterable:!0},{field:"attachment_link",headerName:"Attachment Link",width:200,filterable:!0}],q=e=>{const{showToast:a}=c(),r=async()=>{const d=(e==null?void 0:e.id)??"",l=(e==null?void 0:e.type)??"";try{const i=await b.get(S(d,l));a(i.data.message??"success","success")}catch(i){a(i.response.data.message,"error")}};return t.jsx(t.Fragment,{children:t.jsx(o,{columns:$,defaultSearch:`?data_id=${e==null?void 0:e.id}&type_code_transaction=${e==null?void 0:e.type}&`,url:{url:C},onExport:async()=>{await r()},labelFilter:"search"})})},R=({children:e,value:a,index:r,...d})=>t.jsx("div",{role:"tabpanel",hidden:a!==r,id:`simple-tabpanel-${r}`,"aria-labelledby":`simple-tab-${r}`,...d,children:a===r&&t.jsx(s,{sx:{p:3},children:t.jsx(A,{children:e})})}),M=e=>({id:`simple-tab-${e}`,"aria-controls":`simple-tabpanel-${e}`}),K=({detailLayout:e,id:a,type:r,logName:d})=>{const[l,i]=f.useState(0),m=(h,n)=>{i(n)},[u,y]=f.useState([{title:"Detail",content:e},{title:"Pr",content:t.jsx(N,{id:a,type:r})},{title:"Dp",content:t.jsx(_,{id:a,type:r})},{title:"Po",content:t.jsx(q,{id:a,type:r})},{title:"Log",content:t.jsx(w,{id:a,functionName:d})}]);return f.useEffect(()=>{(r==="VEN"||r==="REIM")&&y([{title:"Detail",content:e},{title:"Pr",content:t.jsx(N,{id:a,type:r})},{title:"Dp",content:t.jsx(_,{id:a,type:r})},{title:"Log",content:t.jsx(w,{id:a,functionName:d})}])},[r,e,a]),t.jsx("div",{className:"card card-grid h-full min-w-full p-4",children:t.jsx("div",{className:"card-body",children:t.jsxs(s,{sx:{width:"100%"},children:[t.jsx(s,{sx:{borderBottom:1,borderColor:"divider"},children:t.jsx(j,{value:l,onChange:m,"aria-label":"dynamic tabs example",children:u.map((h,n)=>t.jsx(p,{label:h.title,...M(n)},n))})}),u.map((h,n)=>t.jsx(R,{value:l,index:n,children:h.content},n))]})})})};export{K as C};
