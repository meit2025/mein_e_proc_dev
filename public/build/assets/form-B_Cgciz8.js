import{u as _,r as b,j as e}from"./app-BnmUwhWw.js";import{F as E,a as I,b as S,c as T,d as F}from"./form-BoRG5OxW.js";import{z as o,t as v}from"./index-Dsm-CSwv.js";import{F as n,B as y}from"./button-DNUxuwVj.js";import{u as A}from"./index.esm-DO0QSKbU.js";import{S as G}from"./scroll-area-Dc4My1dF.js";import{I as R}from"./input-BkyJkoVe.js";import{a as m}from"./axiosInstance-Cxz19zcI.js";import{M as N}from"./MultiSelect-CLTjG-ml.js";const i="/api/business-grade",L=`${i}/list`,D=`${i}/create`,q=t=>`${i}/detail/${t}`;function P({onSuccess:t,type:l=n.create,id:d,editURL:c,listUser:x}){var u=o.object({grade:o.string().min(1,"Grade is required"),users:o.array(o.number().optional())});let h={grade:"",users:[]};async function p(){try{let r=await m.get(c);a.reset({grade:r.data.data.grade})}catch{}}const a=A({resolver:v(u),defaultValues:h}),{showToast:f}=_(),j=r=>{try{const s=m.post(D,r);console.log(s),f("succesfully created data","success"),t==null||t(!0)}catch(s){const g=s;t==null||t(!1),console.log(g)}};return b.useEffect(()=>{d&&l==n.edit&&p()},[d,l]),e.jsx(G,{className:"h-[600px] w-full",children:e.jsx(E,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(j),children:[e.jsxs("table",{className:"text-xs mt-4 table font-thin",children:[e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Grade ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("td",{children:e.jsx(I,{control:a.control,disabled:l==n.edit,name:"grade",render:({field:r})=>e.jsxs(S,{children:[e.jsx(T,{children:e.jsx(R,{type:"text",placeholder:"Insert grade",...r,value:r.value||"",onChange:s=>r.onChange(s.target.value)})}),e.jsx(F,{})]})})})]}),e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Users ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("td",{children:e.jsx(N,{onSelect:r=>{a.setValue("users",r.map(s=>s.id))},value:a.getValues("users"),id:"id",label:"name",options:x})})]})]}),e.jsx("div",{className:"flex justify-end items-center",children:e.jsx(y,{type:"submit",children:"Save"})})]})})})}const k=Object.freeze(Object.defineProperty({__proto__:null,GradeForm:P},Symbol.toStringTag,{value:"Module"}));export{P as G,q as a,L as b,k as f};
