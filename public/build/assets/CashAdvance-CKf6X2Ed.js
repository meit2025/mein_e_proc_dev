import{r as f,j as e}from"./app-CHGm69Ki.js";import{F as v}from"./formDropdown-rVLByg82.js";import{F as c}from"./formInput-DyvHNWIW.js";import{F as _}from"./formSwitch-CBHF2vKE.js";import{a as b,c as x}from"./index.esm-Oy7mJydI.js";import"./app-DQK4SJPx.js";import"./TextField-MlIcT4j6.js";import"./createSvgIcon-Bwb1glnO.js";import"./DefaultPropsProvider-DuS-4_Sr.js";import"./extends-CF3RwP-h.js";import"./useSlot-BXaSAECS.js";import"./createSimplePaletteValueFilter-Dsv6GrpQ.js";import"./useControlled-BjWUbJhf.js";import"./FormHelperText-D_i2mjMZ.js";import"./rupiahCurrencyFormat-CP-6egij.js";import"./Switch-CTEgbMh9.js";import"./SwitchBase-DITMy2zS.js";const W=({disable:s})=>{const{getValues:i,setValue:r,watch:l}=b(),d=x({name:"is_cashAdvance"}),a=l("total_all_amount")||0,m=t=>{const n=i("vendors").filter(o=>(o.winner||!1)===!0),u=((n.length>0?n[0]:null).units||[]).reduce((o,h)=>o+h.total_amount,0);r("total_all_amount",u);const p=parseInt(t)/100*a;r("cash_advance_purchases.nominal",p)};return f.useEffect(()=>{if(console.log("total",a),a>0){const t=parseInt(l("cash_advance_purchases.dp"))/100*a;r("cash_advance_purchases.nominal",t)}},[a]),e.jsxs("div",{children:[e.jsx(_,{fieldLabel:"cash Advance",fieldName:"is_cashAdvance",isRequired:!1,disabled:s}),d&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{}),e.jsx(v,{options:[{label:"50%",value:"50"},{label:"40%",value:"40"},{label:"30%",value:"30"},{label:"20%",value:"20"},{label:"10%",value:"10"}],fieldLabel:"Persantase DP",fieldName:"cash_advance_purchases.dp",isRequired:!1,disabled:s,style:{width:"56.5rem"},placeholder:"Persantase DP Number",classNames:"mt-2",onChangeOutside:(t,n)=>m(t)}),e.jsx(c,{fieldLabel:"reference",fieldName:"cash_advance_purchases.reference",isRequired:!1,disabled:s,type:"text",placeholder:"Enter reference"}),e.jsx(c,{fieldLabel:"amount cashadvance",fieldName:"cash_advance_purchases.nominal",isRequired:!0,disabled:!0,type:"number",placeholder:"Enter amount cashadvance",isRupiah:!0})]})]})};export{W as default};
