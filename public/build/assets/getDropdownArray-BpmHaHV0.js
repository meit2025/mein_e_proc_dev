import{a as h}from"./axiosInstance-BlJQZbRj.js";import{r as m}from"./app-XEItTidC.js";const v=()=>{const[a,d]=m.useState();return{dropdownOptions:a,getDropdown:async(u,l)=>{var n,s,c;try{let r=l;for(const t of u){const i=(await h.get(`api/master/dropdown?name=${t.struct.name}&id=${t.struct.id}&tabelname=${t.struct.tabel}&search=${t.struct.search||""}&isNotNull=${((n=t.struct.where)==null?void 0:n.isNotNull)??""}&key=${((s=t.struct.where)==null?void 0:s.key)??""}&parameter=${((c=t.struct.where)==null?void 0:c.parameter)??""}`,{headers:{"Content-Type":"application/json"}})).data.data.map(e=>{const o=t.struct.hiddenZero?p(e.label):e.label,w=t.struct.hiddenZero?p(e.value):e.value;return{...e,label:t.struct.isMapping?`${o} - ${w}`:o,value:e.value}});r&&t.dropdown!==""&&(r=r.map(o=>o.name===t.dropdown?{...o,options:i}:o))}d(r)}catch(r){console.error("Error fetching dropdown options:",r)}}}};function p(a){return/^0+\d+$/.test(a)?a.replace(/^0+/,""):a}export{v as u};
