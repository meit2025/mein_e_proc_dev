<<<<<<<< HEAD:public/build/assets/CashAdvance-Bh-tlQ_5.js
import{r as i,j as a}from"./app-9N5-VgK3.js";import{F as d}from"./formInput-By7ML3oz.js";import{F as y}from"./formSwitch-B6hJF-rt.js";import{a as w,c as u}from"./index.esm-unIlChBq.js";import"./app-DGQxOE2s.js";import"./rupiahCurrencyFormat-CP-6egij.js";import"./FormHelperText-QPCehl2W.js";import"./DefaultPropsProvider-DzeGyF8d.js";import"./Switch-BIoV3t4l.js";import"./createSimplePaletteValueFilter-BKKAY3x6.js";import"./SwitchBase-eAbIagGP.js";import"./useControlled-ClqzmM9e.js";const U=({disable:c})=>{const{getValues:_,setValue:r,watch:l}=w(),[v,m]=i.useState(!0),x=u({name:"is_cashAdvance"}),p=u({name:"currency_from"});console.log(p);const h=u({name:"vendors"}),g=e=>Array.isArray(e)?e.find(n=>n&&n.winner===!0):null;i.useEffect(()=>{const e=g(h);m(!e)},[h]);const s=l("total_all_amount"),b=e=>{console.log(e);const n=_("vendors").filter(t=>(t.winner||!1)===!0),f=(n.length>0?n[0]:null).units||[],A=f.reduce((t,o)=>t+parseInt(o.total_amount),0);r("total_all_amount",A);const I=f.reduce((t,o)=>o.unit_price>t?parseInt(o.unit_price):t,0);r("amount_max",I);const j=parseInt(e)/100*parseInt(s);r("cash_advance_purchases.nominal",j)};return i.useEffect(()=>{if(s>0){const e=parseInt(l("cash_advance_purchases.dp"))/100*parseInt(s);r("cash_advance_purchases.nominal",e)}},[s]),a.jsxs("div",{children:[p==="IDR"&&a.jsx(y,{fieldLabel:"cash Advance",fieldName:"is_cashAdvance",isRequired:!1,disabled:c}),x&&a.jsxs(a.Fragment,{children:[a.jsx("hr",{}),a.jsx(d,{fieldLabel:"Persantase DP Number",fieldName:"cash_advance_purchases.dp",isRequired:!0,disabled:c,type:"number",placeholder:"Persantase DP Number",maxLength:100,minLength:1,onChanges:e=>b(e.target.value)}),a.jsx(d,{fieldLabel:"reference",fieldName:"cash_advance_purchases.reference",isRequired:!1,disabled:c,type:"text",placeholder:"Enter reference"}),a.jsx(d,{fieldLabel:"amount cashadvance",fieldName:"cash_advance_purchases.nominal",isRequired:!0,disabled:!0,type:"number",placeholder:"Enter amount cashadvance",isRupiah:!0,note:v?"Please Chose The Propose Vendor":""})]})]})};export{U as default};
========
import{r as i,j as a}from"./app-C0UchQr_.js";import{F as d}from"./formInput-B8K4aZKt.js";import{F as y}from"./formSwitch-BGt1jJBg.js";import{a as w,c as u}from"./index.esm-CwdCw-V2.js";import"./app-DQK4SJPx.js";import"./rupiahCurrencyFormat-CP-6egij.js";import"./FormHelperText-DlO86QE6.js";import"./DefaultPropsProvider-BVrDpAru.js";import"./Switch-DY8FomP3.js";import"./createSimplePaletteValueFilter-CZJjqmYG.js";import"./SwitchBase-CU4xTJNY.js";import"./useControlled-KCHaxVNn.js";const U=({disable:c})=>{const{getValues:_,setValue:r,watch:l}=w(),[v,m]=i.useState(!0),x=u({name:"is_cashAdvance"}),p=u({name:"currency_from"});console.log(p);const h=u({name:"vendors"}),g=e=>Array.isArray(e)?e.find(n=>n&&n.winner===!0):null;i.useEffect(()=>{const e=g(h);m(!e)},[h]);const s=l("total_all_amount"),b=e=>{console.log(e);const n=_("vendors").filter(t=>(t.winner||!1)===!0),f=(n.length>0?n[0]:null).units||[],A=f.reduce((t,o)=>t+parseInt(o.total_amount),0);r("total_all_amount",A);const I=f.reduce((t,o)=>o.unit_price>t?parseInt(o.unit_price):t,0);r("amount_max",I);const j=parseInt(e)/100*parseInt(s);r("cash_advance_purchases.nominal",j)};return i.useEffect(()=>{if(s>0){const e=parseInt(l("cash_advance_purchases.dp"))/100*parseInt(s);r("cash_advance_purchases.nominal",e)}},[s]),a.jsxs("div",{children:[p==="IDR"&&a.jsx(y,{fieldLabel:"cash Advance",fieldName:"is_cashAdvance",isRequired:!1,disabled:c}),x&&a.jsxs(a.Fragment,{children:[a.jsx("hr",{}),a.jsx(d,{fieldLabel:"Persantase DP Number",fieldName:"cash_advance_purchases.dp",isRequired:!0,disabled:c,type:"number",placeholder:"Persantase DP Number",maxLength:100,minLength:1,onChanges:e=>b(e.target.value)}),a.jsx(d,{fieldLabel:"reference",fieldName:"cash_advance_purchases.reference",isRequired:!1,disabled:c,type:"text",placeholder:"Enter reference"}),a.jsx(d,{fieldLabel:"amount cashadvance",fieldName:"cash_advance_purchases.nominal",isRequired:!0,disabled:!0,type:"number",placeholder:"Enter amount cashadvance",isRupiah:!0,note:v?"Please Chose The Propose Vendor":""})]})]})};export{U as default};
>>>>>>>> 94b136c98e82665c5a2acb6f1f95ff70c0615629:public/build/assets/CashAdvance-DkuJOgJd.js
