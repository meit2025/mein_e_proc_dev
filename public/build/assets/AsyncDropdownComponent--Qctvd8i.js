import{r as l,j as y}from"./app-CW-AT4jt.js";import{P as $,d as L}from"./utils-D85gnzb_.js";import{B as Pe}from"./button-BJxYnmFh.js";import{R as Le,P as Ve,O as Fe,C as Ke,L as Oe}from"./LoadingSpin-DLxThC0R.js";import{u as K}from"./index-B369TZy9.js";import{M as qe}from"./index-DRIvoKNa.js";import{P as Te,a as ze,b as Ge}from"./popover-BHOwIP7P.js";import{a as He}from"./axiosInstance-BCWuJSpY.js";import{C as Be}from"./chevrons-up-down-BQCPcKer.js";import{c as Ue}from"./createLucideIcon-BLUkXV31.js";/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=Ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var he=1,Je=.9,Xe=.8,Ye=.17,re=.1,ne=.999,_e=.9999,Qe=.99,Ze=/[\\\/_+.#"@\[\(\{&]/,et=/[\\\/_+.#"@\[\(\{&]/g,tt=/[\s-]/,xe=/[\s-]/g;function oe(e,r,t,d,a,i,c){if(i===r.length)return a===e.length?he:Qe;var m=`${a},${i}`;if(c[m]!==void 0)return c[m];for(var v=d.charAt(i),f=t.indexOf(v,a),u=0,h,C,S,j;f>=0;)h=oe(e,r,t,d,f+1,i+1,c),h>u&&(f===a?h*=he:Ze.test(e.charAt(f-1))?(h*=Xe,S=e.slice(a,f-1).match(et),S&&a>0&&(h*=Math.pow(ne,S.length))):tt.test(e.charAt(f-1))?(h*=Je,j=e.slice(a,f-1).match(xe),j&&a>0&&(h*=Math.pow(ne,j.length))):(h*=Ye,a>0&&(h*=Math.pow(ne,f-a))),e.charAt(f)!==r.charAt(i)&&(h*=_e)),(h<re&&t.charAt(f-1)===d.charAt(i+1)||d.charAt(i+1)===d.charAt(i)&&t.charAt(f-1)!==d.charAt(i))&&(C=oe(e,r,t,d,f+1,i+2,c),C*re>h&&(h=C*re)),h>u&&(u=h),f=t.indexOf(v,f+1);return c[m]=u,u}function ge(e){return e.toLowerCase().replace(xe," ")}function rt(e,r,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,oe(e,r,ge(e),ge(r),0,0,{})}var be={exports:{}},we={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O=l;function nt(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var lt=typeof Object.is=="function"?Object.is:nt,at=O.useState,ot=O.useEffect,it=O.useLayoutEffect,ut=O.useDebugValue;function st(e,r){var t=r(),d=at({inst:{value:t,getSnapshot:r}}),a=d[0].inst,i=d[1];return it(function(){a.value=t,a.getSnapshot=r,le(a)&&i({inst:a})},[e,t,r]),ot(function(){return le(a)&&i({inst:a}),e(function(){le(a)&&i({inst:a})})},[e]),ut(t),t}function le(e){var r=e.getSnapshot;e=e.value;try{var t=r();return!lt(e,t)}catch{return!0}}function ct(e,r){return r()}var dt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ct:st;we.useSyncExternalStore=O.useSyncExternalStore!==void 0?O.useSyncExternalStore:dt;be.exports=we;var ft=be.exports,G='[cmdk-group=""]',ae='[cmdk-group-items=""]',mt='[cmdk-group-heading=""]',ue='[cmdk-item=""]',ye=`${ue}:not([aria-disabled="true"])`,ie="cmdk-item-select",M="data-value",pt=(e,r,t)=>rt(e,r,t),Se=l.createContext(void 0),B=()=>l.useContext(Se),Ee=l.createContext(void 0),se=()=>l.useContext(Ee),ke=l.createContext(void 0),Ce=l.forwardRef((e,r)=>{let t=F(()=>{var n,s;return{search:"",value:(s=(n=e.value)!=null?n:e.defaultValue)!=null?s:"",filtered:{count:0,items:new Map,groups:new Set}}}),d=F(()=>new Set),a=F(()=>new Map),i=F(()=>new Map),c=F(()=>new Set),m=je(e),{label:v,children:f,value:u,onValueChange:h,filter:C,shouldFilter:S,loop:j,disablePointerSelection:V=!1,vimBindings:N=!0,...R}=e,U=K(),W=K(),q=K(),b=l.useRef(null),x=Ct();D(()=>{if(u!==void 0){let n=u.trim();t.current.value=n,E.emit()}},[u]),D(()=>{x(6,de)},[]);let E=l.useMemo(()=>({subscribe:n=>(c.current.add(n),()=>c.current.delete(n)),snapshot:()=>t.current,setState:(n,s,p)=>{var o,g,w;if(!Object.is(t.current[n],s)){if(t.current[n]=s,n==="search")Z(),_(),x(1,Q);else if(n==="value"&&(p||x(5,de),((o=m.current)==null?void 0:o.value)!==void 0)){let I=s??"";(w=(g=m.current).onValueChange)==null||w.call(g,I);return}E.emit()}},emit:()=>{c.current.forEach(n=>n())}}),[]),Y=l.useMemo(()=>({value:(n,s,p)=>{var o;s!==((o=i.current.get(n))==null?void 0:o.value)&&(i.current.set(n,{value:s,keywords:p}),t.current.filtered.items.set(n,ce(s,p)),x(2,()=>{_(),E.emit()}))},item:(n,s)=>(d.current.add(n),s&&(a.current.has(s)?a.current.get(s).add(n):a.current.set(s,new Set([n]))),x(3,()=>{Z(),_(),t.current.value||Q(),E.emit()}),()=>{i.current.delete(n),d.current.delete(n),t.current.filtered.items.delete(n);let p=T();x(4,()=>{Z(),(p==null?void 0:p.getAttribute("id"))===n&&Q(),E.emit()})}),group:n=>(a.current.has(n)||a.current.set(n,new Set),()=>{i.current.delete(n),a.current.delete(n)}),filter:()=>m.current.shouldFilter,label:v||e["aria-label"],getDisablePointerSelection:()=>m.current.disablePointerSelection,listId:U,inputId:q,labelId:W,listInnerRef:b}),[]);function ce(n,s){var p,o;let g=(o=(p=m.current)==null?void 0:p.filter)!=null?o:pt;return n?g(n,t.current.search,s):0}function _(){if(!t.current.search||m.current.shouldFilter===!1)return;let n=t.current.filtered.items,s=[];t.current.filtered.groups.forEach(o=>{let g=a.current.get(o),w=0;g.forEach(I=>{let A=n.get(I);w=Math.max(A,w)}),s.push([o,w])});let p=b.current;z().sort((o,g)=>{var w,I;let A=o.getAttribute("id"),J=g.getAttribute("id");return((w=n.get(J))!=null?w:0)-((I=n.get(A))!=null?I:0)}).forEach(o=>{let g=o.closest(ae);g?g.appendChild(o.parentElement===g?o:o.closest(`${ae} > *`)):p.appendChild(o.parentElement===p?o:o.closest(`${ae} > *`))}),s.sort((o,g)=>g[1]-o[1]).forEach(o=>{var g;let w=(g=b.current)==null?void 0:g.querySelector(`${G}[${M}="${encodeURIComponent(o[0])}"]`);w==null||w.parentElement.appendChild(w)})}function Q(){let n=z().find(p=>p.getAttribute("aria-disabled")!=="true"),s=n==null?void 0:n.getAttribute(M);E.setState("value",s||void 0)}function Z(){var n,s,p,o;if(!t.current.search||m.current.shouldFilter===!1){t.current.filtered.count=d.current.size;return}t.current.filtered.groups=new Set;let g=0;for(let w of d.current){let I=(s=(n=i.current.get(w))==null?void 0:n.value)!=null?s:"",A=(o=(p=i.current.get(w))==null?void 0:p.keywords)!=null?o:[],J=ce(I,A);t.current.filtered.items.set(w,J),J>0&&g++}for(let[w,I]of a.current)for(let A of I)if(t.current.filtered.items.get(A)>0){t.current.filtered.groups.add(w);break}t.current.filtered.count=g}function de(){var n,s,p;let o=T();o&&(((n=o.parentElement)==null?void 0:n.firstChild)===o&&((p=(s=o.closest(G))==null?void 0:s.querySelector(mt))==null||p.scrollIntoView({block:"nearest"})),o.scrollIntoView({block:"nearest"}))}function T(){var n;return(n=b.current)==null?void 0:n.querySelector(`${ue}[aria-selected="true"]`)}function z(){var n;return Array.from(((n=b.current)==null?void 0:n.querySelectorAll(ye))||[])}function ee(n){let s=z()[n];s&&E.setState("value",s.getAttribute(M))}function te(n){var s;let p=T(),o=z(),g=o.findIndex(I=>I===p),w=o[g+n];(s=m.current)!=null&&s.loop&&(w=g+n<0?o[o.length-1]:g+n===o.length?o[0]:o[g+n]),w&&E.setState("value",w.getAttribute(M))}function fe(n){let s=T(),p=s==null?void 0:s.closest(G),o;for(;p&&!o;)p=n>0?Et(p,G):kt(p,G),o=p==null?void 0:p.querySelector(ye);o?E.setState("value",o.getAttribute(M)):te(n)}let me=()=>ee(z().length-1),pe=n=>{n.preventDefault(),n.metaKey?me():n.altKey?fe(1):te(1)},ve=n=>{n.preventDefault(),n.metaKey?ee(0):n.altKey?fe(-1):te(-1)};return l.createElement($.div,{ref:r,tabIndex:-1,...R,"cmdk-root":"",onKeyDown:n=>{var s;if((s=R.onKeyDown)==null||s.call(R,n),!n.defaultPrevented)switch(n.key){case"n":case"j":{N&&n.ctrlKey&&pe(n);break}case"ArrowDown":{pe(n);break}case"p":case"k":{N&&n.ctrlKey&&ve(n);break}case"ArrowUp":{ve(n);break}case"Home":{n.preventDefault(),ee(0);break}case"End":{n.preventDefault(),me();break}case"Enter":if(!n.nativeEvent.isComposing&&n.keyCode!==229){n.preventDefault();let p=T();if(p){let o=new Event(ie);p.dispatchEvent(o)}}}}},l.createElement("label",{"cmdk-label":"",htmlFor:Y.inputId,id:Y.labelId,style:It},v),X(e,n=>l.createElement(Ee.Provider,{value:E},l.createElement(Se.Provider,{value:Y},n))))}),vt=l.forwardRef((e,r)=>{var t,d;let a=K(),i=l.useRef(null),c=l.useContext(ke),m=B(),v=je(e),f=(d=(t=v.current)==null?void 0:t.forceMount)!=null?d:c==null?void 0:c.forceMount;D(()=>{if(!f)return m.item(a,c==null?void 0:c.id)},[f]);let u=Ie(a,i,[e.value,e.children,i],e.keywords),h=se(),C=P(x=>x.value&&x.value===u.current),S=P(x=>f||m.filter()===!1?!0:x.search?x.filtered.items.get(a)>0:!0);l.useEffect(()=>{let x=i.current;if(!(!x||e.disabled))return x.addEventListener(ie,j),()=>x.removeEventListener(ie,j)},[S,e.onSelect,e.disabled]);function j(){var x,E;V(),(E=(x=v.current).onSelect)==null||E.call(x,u.current)}function V(){h.setState("value",u.current,!0)}if(!S)return null;let{disabled:N,value:R,onSelect:U,forceMount:W,keywords:q,...b}=e;return l.createElement($.div,{ref:H([i,r]),...b,id:a,"cmdk-item":"",role:"option","aria-disabled":!!N,"aria-selected":!!C,"data-disabled":!!N,"data-selected":!!C,onPointerMove:N||m.getDisablePointerSelection()?void 0:V,onClick:N?void 0:j},e.children)}),ht=l.forwardRef((e,r)=>{let{heading:t,children:d,forceMount:a,...i}=e,c=K(),m=l.useRef(null),v=l.useRef(null),f=K(),u=B(),h=P(S=>a||u.filter()===!1?!0:S.search?S.filtered.groups.has(c):!0);D(()=>u.group(c),[]),Ie(c,m,[e.value,e.heading,v]);let C=l.useMemo(()=>({id:c,forceMount:a}),[a]);return l.createElement($.div,{ref:H([m,r]),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},t&&l.createElement("div",{ref:v,"cmdk-group-heading":"","aria-hidden":!0,id:f},t),X(e,S=>l.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?f:void 0},l.createElement(ke.Provider,{value:C},S))))}),gt=l.forwardRef((e,r)=>{let{alwaysRender:t,...d}=e,a=l.useRef(null),i=P(c=>!c.search);return!t&&!i?null:l.createElement($.div,{ref:H([a,r]),...d,"cmdk-separator":"",role:"separator"})}),yt=l.forwardRef((e,r)=>{let{onValueChange:t,...d}=e,a=e.value!=null,i=se(),c=P(u=>u.search),m=P(u=>u.value),v=B(),f=l.useMemo(()=>{var u;let h=(u=v.listInnerRef.current)==null?void 0:u.querySelector(`${ue}[${M}="${encodeURIComponent(m)}"]`);return h==null?void 0:h.getAttribute("id")},[]);return l.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),l.createElement($.input,{ref:r,...d,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":v.listId,"aria-labelledby":v.labelId,"aria-activedescendant":f,id:v.inputId,type:"text",value:a?e.value:c,onChange:u=>{a||i.setState("search",u.target.value),t==null||t(u.target.value)}})}),xt=l.forwardRef((e,r)=>{let{children:t,label:d="Suggestions",...a}=e,i=l.useRef(null),c=l.useRef(null),m=B();return l.useEffect(()=>{if(c.current&&i.current){let v=c.current,f=i.current,u,h=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let C=v.offsetHeight;f.style.setProperty("--cmdk-list-height",C.toFixed(1)+"px")})});return h.observe(v),()=>{cancelAnimationFrame(u),h.unobserve(v)}}},[]),l.createElement($.div,{ref:H([i,r]),...a,"cmdk-list":"",role:"listbox","aria-label":d,id:m.listId},X(e,v=>l.createElement("div",{ref:H([c,m.listInnerRef]),"cmdk-list-sizer":""},v)))}),bt=l.forwardRef((e,r)=>{let{open:t,onOpenChange:d,overlayClassName:a,contentClassName:i,container:c,...m}=e;return l.createElement(Le,{open:t,onOpenChange:d},l.createElement(Ve,{container:c},l.createElement(Fe,{"cmdk-overlay":"",className:a}),l.createElement(Ke,{"aria-label":e.label,"cmdk-dialog":"",className:i},l.createElement(Ce,{ref:r,...m}))))}),wt=l.forwardRef((e,r)=>P(t=>t.filtered.count===0)?l.createElement($.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),St=l.forwardRef((e,r)=>{let{progress:t,children:d,label:a="Loading...",...i}=e;return l.createElement($.div,{ref:r,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},X(e,c=>l.createElement("div",{"aria-hidden":!0},c)))}),k=Object.assign(Ce,{List:xt,Item:vt,Input:yt,Group:ht,Separator:gt,Dialog:bt,Empty:wt,Loading:St});function Et(e,r){let t=e.nextElementSibling;for(;t;){if(t.matches(r))return t;t=t.nextElementSibling}}function kt(e,r){let t=e.previousElementSibling;for(;t;){if(t.matches(r))return t;t=t.previousElementSibling}}function je(e){let r=l.useRef(e);return D(()=>{r.current=e}),r}var D=typeof window>"u"?l.useEffect:l.useLayoutEffect;function F(e){let r=l.useRef();return r.current===void 0&&(r.current=e()),r}function H(e){return r=>{e.forEach(t=>{typeof t=="function"?t(r):t!=null&&(t.current=r)})}}function P(e){let r=se(),t=()=>e(r.snapshot());return ft.useSyncExternalStore(r.subscribe,t,t)}function Ie(e,r,t,d=[]){let a=l.useRef(),i=B();return D(()=>{var c;let m=(()=>{var f;for(let u of t){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(f=u.current.textContent)==null?void 0:f.trim():a.current}})(),v=d.map(f=>f.trim());i.value(e,m,v),(c=r.current)==null||c.setAttribute(M,m),a.current=m}),a}var Ct=()=>{let[e,r]=l.useState(),t=F(()=>new Map);return D(()=>{t.current.forEach(d=>d()),t.current=new Map},[e]),(d,a)=>{t.current.set(d,a),r({})}};function jt(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function X({asChild:e,children:r},t){return e&&l.isValidElement(r)?l.cloneElement(jt(r),{ref:r.ref},t(r.props.children)):t(r)}var It={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ne=l.forwardRef(({className:e,...r},t)=>y.jsx(k,{ref:t,className:L("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...r}));Ne.displayName=k.displayName;const Re=l.forwardRef(({className:e,...r},t)=>y.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[y.jsx(qe,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),y.jsx(k.Input,{ref:t,className:L("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...r})]}));Re.displayName=k.Input.displayName;const $e=l.forwardRef(({className:e,...r},t)=>y.jsx(k.List,{ref:t,className:L("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...r}));$e.displayName=k.List.displayName;const Ae=l.forwardRef((e,r)=>y.jsx(k.Empty,{ref:r,className:"py-6 text-center text-sm",...e}));Ae.displayName=k.Empty.displayName;const Me=l.forwardRef(({className:e,...r},t)=>y.jsx(k.Group,{ref:t,className:L("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...r}));Me.displayName=k.Group.displayName;const Nt=l.forwardRef(({className:e,...r},t)=>y.jsx(k.Separator,{ref:t,className:L("-mx-1 h-px bg-border",e),...r}));Nt.displayName=k.Separator.displayName;const De=l.forwardRef(({className:e,...r},t)=>y.jsx(k.Item,{ref:t,className:L("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...r}));De.displayName=k.Item.displayName;function Ot({url:e,filter:r,id:t,label:d,value:a,onSelectChange:i,defaultLabel:c,placeholder:m="Search items ..."}){var q;const[v,f]=l.useState(!1),[u,h]=l.useState([]),[C,S]=l.useState(!1),[j,V]=l.useState("");let N;async function R(){const b={filter:r,search:j};S(!0);try{let x=await He.get(e,{params:b});S(!1),h(x.data.data)}catch(x){console.log(x)}}function U(b){b.key==="Enter"&&(clearTimeout(N),R(),console.log("keyDown press and ready for api call"))}console.log(c),l.useEffect(()=>(N=setTimeout(()=>{j&&R()},500),()=>clearTimeout(N)),[j]);function W(b){i(b),f(!1)}return console.log(e),l.useEffect(()=>{v?R():V("")},[v]),y.jsxs(Te,{open:v,onOpenChange:f,children:[y.jsx(ze,{asChild:!0,children:y.jsxs(Pe,{variant:"outline",role:"combobox","aria-expanded":v,className:"w-[200px] text-xs justify-between",children:[c&&u.length===0?c:null,a&&u.length>0?(q=u.find(b=>String(b[t])===String(a)))==null?void 0:q[d]:"",a===""&&(c===""||c===null)?m:"",y.jsx(Be,{className:"opacity-50"})]})}),y.jsx(Ge,{className:"w-[200px] p-0",children:y.jsxs(Ne,{shouldFilter:!1,children:[y.jsx(Re,{onKeyDown:U,onValueChange:b=>V(b),placeholder:m}),y.jsx($e,{className:"z-30",children:C?y.jsx("div",{className:"py-10 flex items-center justify-center h-64 w-full",children:y.jsx(Oe,{})}):y.jsxs(y.Fragment,{children:[y.jsxs(Ae,{children:["No Item found. ",u.length]}),u.length>0?y.jsx(Me,{className:"z-30",children:u.map(b=>y.jsxs(De,{className:"z-30",value:b[t],onSelect:x=>{W(b[t])},children:[b[d],y.jsx(We,{className:L("ml-auto",a===b[t]?"opacity-100":"opacity-0")})]},b[t]))}):null]})})]})})]})}export{Ot as A};
