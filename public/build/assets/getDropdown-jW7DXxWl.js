import{a as N}from"./axiosInstance-EmLU2pXx.js";import{r as t}from"./app-B4pXGI16.js";function m(n){return/^0+\d+$/.test(n)?n.replace(/^0+/,""):n}const x=(n="api/master/dropdown")=>{const[f,D]=t.useState(),[b,y]=t.useState([]),[u,s]=t.useState(!1);return{dataDropdown:b,dropdownOptions:f,getDropdown:async(p,e,d)=>{var i,l,w,g;s(!0);try{const c=(await N.get(n,{params:{name:e.name,id:e.id,search:e.search||"",tabelname:e.tabel,isNotNull:((i=e.where)==null?void 0:i.isNotNull)??"",key:((l=e.where)==null?void 0:l.key)??"",parameter:((w=e.where)==null?void 0:w.parameter)??"",declaration:e.declaration??"",groupBy:((g=e.where)==null?void 0:g.groupBy)??"",attribut:e.attribut??"",join:e.join??"",softDelete:e.softDelete??""},headers:{"Content-Type":"application/json"}})).data.data.map(a=>{const o=e.hiddenZero?m(a.label):a.label,r=e.hiddenZero?m(a.value):a.value,v=e.idType==="string"?String(r):r;return{...a,label:e.isMapping?`${o} - ${r}`:o,value:v}});if(d&&p!==""){const a=d.map(o=>o.name===p?{...o,options:c}:o);D(a)}y(c),s(!1)}catch(h){console.error("Error fetching dropdown options:",h)}},isLoading:u}};export{x as u};
