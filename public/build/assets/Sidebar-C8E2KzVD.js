import{q as x,r as h,j as e,a as f}from"./app-DoYxEqR7.js";import{S as v}from"./scroll-area-CQ77KW3I.js";import{L as u}from"./logo-HtzTG1e0.js";import{s as y,g as j,h as k,i as N}from"./menuSidebar-D1Kim3D7.js";import{u as w}from"./index-DQN3xK5n.js";import"./app-DQK4SJPx.js";import"./index-o7BiT_ri.js";import"./index-BKNoq6iG.js";import"./index-CSnkkbwy.js";import"./index-DvfHmD_X.js";import"./index-BgV92m9Q.js";import"./index-BdQq_4o_.js";import"./utils-DL9y-dXZ.js";import"./page-YWHBayB9.js";import"./page-DB73t_G4.js";import"./page-DF_StoBU.js";const S=r=>e.jsx("div",{className:"menu-item pt-2.25 pb-px",children:e.jsx("span",{className:"menu-heading uppercase text-2sm font-medium text-gray-500 pl-[10px] pr-[10px]",children:r})}),_=(r,l)=>{var s;const o=l===r.route,{props:c}=x(),d=((s=c.auth)==null?void 0:s.permission)||[];return r.role&&!r.role.some(t=>d.includes(t))?null:e.jsx("div",{className:`menu-item  menu-item-active:text-primary menu-link-hover:!text-primary ${o?"active text-blue-500":""}`,children:e.jsx(f,{className:"items-center border border-transparent menu-link grow menu-item-active:bg-secondary-active dark:menu-item-active:bg-coal-300 dark:menu-item-active:border-gray-100 menu-item-active:rounded-lg hover:bg-secondary-active dark:hover:bg-coal-300 dark:hover:border-gray-100 hover:rounded-lg",href:r.route,tabIndex:0,children:e.jsxs("div",{className:"menu-label border border-transparent gap-[10px] pl-[10px] pr-[10px] py-[6px]",tabIndex:0,children:[e.jsx("span",{className:"menu-icon items-start text-gray-500 dark:text-gray-400 w-[20px]",children:e.jsx("i",{className:`ki-filled ${r.icon}  text-lg`})}),e.jsx("span",{className:"text-sm font-medium text-gray-800 menu-title",children:r.title})]})})})},$=(r,l)=>{var s;const o=r.sub.some(t=>l===t.route),{props:c}=x(),d=((s=c.auth)==null?void 0:s.permission)||[];return e.jsxs("div",{className:`menu-item ${o?"active":""}`,"data-menu-item-toggle":"accordion","data-menu-item-trigger":"click",children:[e.jsxs("div",{className:"menu-link flex items-center grow cursor-pointer border border-transparent gap-[10px] pl-[10px] pr-[10px] py-[6px]",tabIndex:0,children:[e.jsx("span",{className:"menu-icon items-start text-gray-500 dark:text-gray-400 w-[20px]",children:e.jsx("i",{className:`ki-filled ${r.icon} text-lg`})}),e.jsx("span",{className:"menu-title text-sm font-medium text-gray-800 menu-item-active:text-primary menu-link-hover:!text-primary",children:r.title}),e.jsxs("span",{className:"menu-arrow text-gray-400 w-[20px] shrink-0 justify-end ml-1 mr-[-10px]",children:[e.jsx("i",{className:"ki-filled ki-plus text-2xs menu-item-show:hidden"}),e.jsx("i",{className:"hidden ki-filled ki-minus text-2xs menu-item-show:inline-flex"})]})]}),e.jsx("div",{className:"menu-accordion gap-0.5 pl-[10px] relative before:absolute before:left-[20px] before:top-0 before:bottom-0 before:border-l before:border-gray-200",children:r.sub.map((t,m)=>{const p=l===t.route;return t.role&&!t.role.some(a=>d.includes(a))?null:e.jsx("div",{className:`menu-item ${p?"active":""}`,children:e.jsxs(f,{className:"menu-link border border-transparent items-center grow menu-item-active:bg-secondary-active dark:menu-item-active:bg-coal-300 dark:menu-item-active:border-gray-100 menu-item-active:rounded-lg hover:bg-secondary-active dark:hover:bg-coal-300 dark:hover:border-gray-100 hover:rounded-lg gap-[14px] pl-[10px] pr-[10px] py-[8px]",href:t.route,tabIndex:0,children:[e.jsx("span",{className:"menu-bullet flex w-[6px] relative before:absolute before:top-0 before:size-[6px] before:rounded-full before:-translate-x-1/2 before:-translate-y-1/2 menu-item-active:before:bg-primary menu-item-hover:before:bg-primary"}),e.jsx("span",{className:"menu-title text-2sm font-normal text-gray-800 menu-item-active:text-primary menu-item-active:font-semibold menu-link-hover:!text-primary",children:t.name})]})},m)})})]})};function H(){var p;const{url:r}=x(),{props:l}=x(),[o,c]=w(["menu-site"]),[d,s]=h.useState([]),t=((p=l.auth)==null?void 0:p.permission)||[],m=a=>a.some(n=>t.includes(n));return h.useEffect(()=>{var a,n,i,b;o["menu-site"]&&(((n=(a=l.auth)==null?void 0:a.user)==null?void 0:n.is_admin)==="1"||((b=(i=l.auth)==null?void 0:i.user)==null?void 0:b.is_admin)==="TRUE"?s(y):o["menu-site"]==="business-trip"?s(j):o["menu-site"]==="reimburse"?s(k):o["menu-site"]==="purchase-requisition"&&s(N))},[]),e.jsxs("div",{className:"fixed z-20 flex-col items-stretch hidden sidebar dark:bg-coal-600 bg-light border-e border-e-gray-200 dark:border-e-coal-100 lg:flex shrink-0","data-drawer":"true","data-drawer-classname":"top-0 bottom-0 drawer drawer-start","data-drawer-enable":"true|lg:false",id:"sidebar",children:[e.jsxs("div",{className:"relative items-center justify-between hidden px-3 sidebar-header lg:flex lg:px-6 shrink-0",id:"sidebar_header",children:[e.jsxs("a",{className:"dark:hidden",href:"/",children:[e.jsx("img",{alt:"logo",className:"default-logo min-h-[22px] max-w-none",src:u}),e.jsx("img",{alt:"logo",className:"small-logo min-h-[22px] max-w-none",src:u})]}),e.jsxs("a",{className:"hidden dark:block",href:"/",children:[e.jsx("img",{alt:"logo",className:"default-logo min-h-[22px] max-w-none",src:u}),e.jsx("img",{alt:"logo-main",className:"small-logo min-h-[22px] max-w-none",src:u})]}),e.jsx("button",{className:"btn btn-icon btn-icon-md size-[30px] rounded-lg border border-gray-200 dark:border-gray-300 bg-light text-gray-500 hover:text-gray-700 toggle absolute left-full top-2/4 -translate-x-2/4 -translate-y-2/4","data-toggle":"body","data-toggle-classname":"sidebar-collapse",id:"sidebar_toggle",children:e.jsx("i",{className:"transition-all duration-300 ki-filled ki-black-left-line toggle-active:rotate-180"})})]}),e.jsx(v,{children:e.jsx("div",{className:"flex py-5 pr-2 sidebar-content grow shrink-0",id:"sidebar_content",style:{height:"93vh"},children:e.jsx("div",{className:"flex pl-2 pr-1 scrollable-y-hover grow shrink-0 lg:pl-5 lg:pr-3","data-scrollable":"true","data-scrollable-dependencies":"#sidebar_header","data-scrollable-height":"auto","data-scrollable-offset":"0px","data-scrollable-wrappers":"#sidebar_content",id:"sidebar_scrollable",children:e.jsx("div",{className:"menu flex flex-col grow gap-0.5","data-menu":"true","data-menu-accordion-expand-all":"false",id:"sidebar_menu",children:d.map((a,n)=>e.jsxs("div",{children:[a.group!==""&&m(a.role??[])&&S(a.group),a.menu.map(i=>{if(i.role&&!m(i.role))return null;if(i.sub.length>0)return i.sub.filter(g=>!g.role||m(g.role)).length===0?null:$(i,r.toLowerCase());if(i.sub.length===0)return _(i,r.toLowerCase())})]},`${n}-${a.menu}`))})})})})]})}export{$ as MultiMenu,S as RuteTitle,_ as Singel,H as default};
