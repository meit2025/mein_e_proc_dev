import{u as me,r as j,j as e}from"./app-CCDmF8JI.js";/* empty css              */import{d as ue,F as g,a as f,b as _,c as v,e as je}from"./form-DZ60GdQY.js";import{u as ge,b as M,a as fe,c as W}from"./index.esm-BGYZ15jd.js";import{S as Q,a as Z,b as ee,c as te,d as se}from"./select-CP5Dou81.js";import{S as ae}from"./separator-CV75F--d.js";import{T as _e}from"./textarea-oyUCMZbv.js";import{I as y}from"./input-Bx9gtLFy.js";import{T as ve,a as we,b as be,c as ye}from"./tabs-W8X8CUlU.js";import{z as n,t as Ae}from"./index-DYPT_6Kf.js";import{S as Ne}from"./scroll-area-sOWRctGA.js";import{C as De,G as $e}from"./api-BzUwn5yu.js";import{d as Te,a as ne}from"./axiosInstance-Dtc0ahWe.js";import{h as C}from"./moment-C5S46NFB.js";import{B as G}from"./button-BwFrUpmU.js";import{W as Se}from"./WorkflowComponent-CzzoF0ii.js";import{B as Ce}from"./Button-Ba7Y50K3.js";import{C as Fe}from"./chevrons-up-down-sVKurMko.js";import"./app-HlhieNAw.js";import"./index-DQ38agm6.js";import"./utils-BAmrSYIl.js";import"./index-Bb4qSo10.js";import"./index-D9I7ZQj-.js";import"./index-5DtX3Tji.js";import"./index-Czfrlisv.js";import"./index-CuawsIi4.js";import"./Combination-JYO_r0Si.js";import"./index-jMj0iMIX.js";import"./index-CieSTpRr.js";import"./index-DrW_OfCq.js";import"./index-BK45wYNh.js";import"./createSimplePaletteValueFilter-C0rP-KuP.js";import"./DefaultPropsProvider-7-Upppsi.js";import"./createLucideIcon-BYN8O0z9.js";const _t=({listBusinessTrip:l})=>{var H;const s=n.object({request_no:n.string().nonempty("Request for required"),remark:n.string().nonempty("Remark is required"),attachment:n.instanceof(File).nullable().optional(),total_destination:n.number().int("Total Destinantion Required"),destinations:n.array(n.object({destination:n.string().nonempty("Destinantion Required"),business_trip_start_date:n.date().optional(),business_trip_end_date:n.date().optional(),detail_attedances:n.array(n.object({date:n.string().optional(),shift_code:n.string().optional(),shift_start:n.string().optional(),shift_end:n.string().optional(),start_time:n.string().optional(),end_time:n.string().optional(),request_start_time:n.string().optional(),request_end_time:n.string().optional()})),allowances:n.array(n.object({name:n.string().optional(),code:n.string().optional(),default_price:n.string().optional(),type:n.string().optional(),currency:n.string().optional(),subtotal:n.number().optional(),detail:n.array(n.object({date:n.string().nullish(),request_price:n.string().optional()}))})),other:n.array(n.object({value:n.number().optional()}))}))}),a=ge({resolver:Ae(s),defaultValues:{request_no:"",remark:"",attachment:null,total_destination:1,destinations:[{destination:"",business_trip_start_date:new Date,business_trip_end_date:new Date,detail_attedances:[],allowances:[],other:[{value:0}]}]}}),h=(i,d)=>{var r;return i.type==="total"?parseFloat(((r=d==null?void 0:d[0])==null?void 0:r.request_price)||0):d==null?void 0:d.reduce((o,S)=>o+parseFloat(S.request_price||0),0)},m=()=>a.getValues("destinations").reduce((r,o,S)=>{const B=(o.allowances||[]).reduce((I,P,L)=>{const O=a.getValues(`destinations.${S}.allowances.${L}.detail`),X=h(P,O);return I+X},0);return r+B},0),{showToast:x}=me(),c=async i=>{var d;console.log(i," valuesnya");try{const r=m(),o=new FormData;o.append("user_id",((d=t.request_for)==null?void 0:d.id.toString())??""),o.append("value",r.toString()),o.append("request_no",i.request_no??""),o.append("remark",i.remark??""),o.append("attachment",i.attachment??""),o.append("total_destination",`${i.total_destination}`),i.destinations.forEach((S,E)=>{o.append(`destinations[${E}]`,JSON.stringify(S))}),await Te.Inertia.post(De,o,{headers:{"Content-Type":"multipart/form-data"}}),x("succesfully created data","success")}catch(r){console.log(r)}},[t,w]=j.useState([]),[R,D]=j.useState([]),[p,u]=j.useState([]);async function b(i){a.setValue("request_no",i||"");const d=$e(i);try{const r=await ne.get(d),o=r.data.data;console.log(o," Response Detail Business Trip"),a.setValue("remark",o.remarks||""),a.setValue("total_destination",o.total_destination||1),w(r.data.data),u(o.destinations),k(o.total_destination),F(o.destinations)}catch(r){console.log(r)}}const[A,k]=j.useState(""),N=i=>{k(i)};console.log(t,"businessTripDetail");function F(i){const d=i.map(r=>({destination:r.destination||"",pajak:r.pajak||"",purchasing_group:r.purchasing_group||"",business_trip_start_date:new Date(r.business_trip_start_date),business_trip_end_date:new Date(r.business_trip_end_date),allowances:r.allowances||[],detail_attedances:r.detail_attedances||[],total_allowance:r.total_allowance||0,other:r.other||[]}));a.setValue("destinations",d)}const{fields:T,append:le,remove:U,update:re}=M({control:a.control,name:"destinations"});j.useEffect(()=>{},[t,A]);const[Ee,ie]=j.useState(0),[oe,ce]=j.useState(!1),[V,de]=j.useState({approvalRequest:[],approvalFrom:[],acknowledgeFrom:[],approvalFromStatusRoute:[]}),z=async()=>{var i,d,r,o,S,E,B,I,P,L,O,X,J;try{const q=m();if(q===0){x("Please fill the balance","error");return}const Y=await ne.get("/check-approval",{params:{value:q,user_id:((i=t.request_for)==null?void 0:i.id)??"",type:"TRIP_DECLARATION"}});if(Y.data.status_code===200){const pe=(r=(d=Y.data)==null?void 0:d.data)==null?void 0:r.approval.map($=>($==null?void 0:$.division_name)||null),he=(S=(o=Y.data)==null?void 0:o.data)==null?void 0:S.approval.map($=>($==null?void 0:$.name)||null),K=[];(B=(E=Y.data)==null?void 0:E.data)!=null&&B.hr&&K.push((L=(P=(I=Y.data)==null?void 0:I.data)==null?void 0:P.hr)==null?void 0:L.name);const xe=(((O=Y.data.data)==null?void 0:O.approval)??[]).map($=>({status:"",name:$.name,dateApproved:""}));de({approvalRequest:pe,approvalFrom:he,acknowledgeFrom:K,approvalFromStatusRoute:xe}),ce(!0)}}catch(q){x((J=(X=q==null?void 0:q.response)==null?void 0:X.data)==null?void 0:J.message,"error")}};return j.useEffect(()=>{m()>0&&z()},[a.watch("destinations")]),e.jsx(Ne,{className:"h-[600px] w-full ",children:e.jsx(ue,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(c),children:[e.jsxs("table",{className:"text-xs mt-4 reimburse-form-table font-thin",children:[e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Declaration No."}),e.jsx("td",{children:"DCLR-YYYY-MM-XXXXXXX"})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Request No."}),e.jsx("td",{children:e.jsx(g,{control:a.control,name:"request_no",render:({field:i})=>e.jsxs(f,{children:[e.jsx(_,{children:e.jsxs(Q,{onValueChange:d=>b(d),value:i.value,children:[e.jsx(Z,{className:"w-[200px] py-2",children:e.jsx(ee,{placeholder:"-- Select One --"})}),e.jsx(te,{children:l.map(d=>e.jsx(se,{value:d.id.toString(),children:d.request_no}))})]})}),e.jsx(v,{})]})})})]}),t&&e.jsxs(e.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Purpose Type"}),e.jsx("td",{className:"text-sm",children:t.name_purpose})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Request for"}),e.jsx("td",{className:"text-sm",children:t.name_request})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Cost Center"}),e.jsx("td",{className:"text-sm",children:(H=t==null?void 0:t.cost_center)==null?void 0:H.company_code})]})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Remark"}),e.jsx("td",{children:e.jsx(g,{control:a.control,name:"remark",render:({field:i})=>e.jsxs(f,{children:[e.jsx(_,{children:e.jsx(_e,{placeholder:"Insert remark",...i,rows:4,className:"w-[300px]"})}),e.jsx(v,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"File Attachment"}),e.jsx("td",{children:e.jsx(g,{control:a.control,name:"attachment",render:({field:i})=>e.jsxs(f,{children:[e.jsx(je,{className:"text-xs text-gray-500 font-extralight mb-1",children:"Max File: 1000KB"}),e.jsx(_,{children:e.jsx("input",{className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-xs shadow-sm transition-colors file:border-0 file:bg-transparent file:text-xs file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",type:"file",onChange:d=>{var o;const r=(o=d.target.files)==null?void 0:o[0];r?i.onChange(r):i.onChange(null)}})}),e.jsx(v,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"File Extension"}),e.jsx("td",{className:"text-gray-500 text-xs font-extralight",children:"Not Availabe"})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Total Destination"}),e.jsxs("td",{children:[" ",e.jsx(g,{control:a.control,name:"total_destination",render:({field:i})=>e.jsxs(f,{children:[e.jsx(_,{children:e.jsxs(Q,{value:A,onValueChange:N,disabled:!0,children:[e.jsx(Z,{className:"w-[200px] py-2",children:e.jsx(ee,{placeholder:"-- Select Bussiness Trip --"})}),e.jsx(te,{children:Array.from({length:5},(d,r)=>e.jsxs(se,{value:(r+1).toString(),children:[" ",r+1," "]},r))})]})}),e.jsx(v,{})]})})]})]})]}),e.jsx(ae,{className:"my-4"}),e.jsx(Re,{updateDestination:re,destinationField:T,form:a,listAllowances:R,totalDestination:a.getValues("total_destination").toString(),setTotalAllowance:ie,businessTripDetail:t}),e.jsx(ae,{className:"my-4"}),e.jsx(Ce,{onClick:async()=>await z(),variant:"contained",color:"primary",type:"button",children:"Check Approval"}),e.jsx("div",{className:"my-2",children:oe&&e.jsx(Se,{workflowApproval:{approvalRequest:V.approvalRequest,approvalFrom:V.approvalFrom,acknowledgeFrom:V.acknowledgeFrom},workflowApprovalStep:V.approvalFromStatusRoute,workflowApprovalDiagram:V.approvalFrom})}),e.jsx(G,{type:"submit",children:"submit"})]})})})};function Re({totalDestination:l,listAllowances:s,form:a,destinationField:h,updateDestination:m,setTotalAllowance:x,businessTripDetail:c}){return e.jsxs(ve,{defaultValue:"destination1",className:"w-full",children:[e.jsx(we,{className:"flex items-center justify-start space-x-4",children:h.map((t,w)=>e.jsxs(be,{value:`destination${w+1}`,children:["Destination ",w+1]}))}),h.map((t,w)=>e.jsx(qe,{listAllowances:s,updateDestination:m,destination:t,form:a,index:w,setTotalAllowance:x,businessTripDetail:c}))]})}function qe({form:l,index:s,destination:a,updateDestination:h,listAllowances:m,setTotalAllowance:x,businessTripDetail:c}){const{fields:t,update:w,append:R,remove:D}=M({control:l.control,name:`destinations[${s}].detail_attedances`}),{fields:p,update:u,append:b,remove:A,replace:k}=M({control:l.control,name:`destinations[${s}].allowances`});j.useState(!1);const{setValue:N}=fe(),F=W({control:l.control,name:"total_percent"}),T=c.total_cash_advance;return j.useEffect(()=>{const U=parseFloat(F||0)/100*T;N("total_cash_advance",U.toFixed(2))},[F,T,N]),e.jsxs(ye,{value:`destination${s+1}`,children:[e.jsxs("div",{children:[e.jsxs("table",{className:"text-xs mt-4 reimburse-form-detail font-thin",children:[e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Destination"}),e.jsx("td",{children:a.destination})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Pajak"}),e.jsx("td",{className:"text-sm",children:a==null?void 0:a.pajak})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Purchasing Group"}),e.jsx("td",{className:"text-sm",children:a==null?void 0:a.purchasing_group})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Bussines Trip Date"}),e.jsxs("td",{className:"flex space-x-2 items-center gap-3",children:[e.jsx("span",{children:C(a.business_trip_start_date).format("DD/MM/YYYY")}),e.jsx("span",{children:"To"}),e.jsx("span",{children:C(a.business_trip_end_date).format("DD/MM/YYYY")})]})]})]}),e.jsx(Ye,{detailAttedanceFields:t,form:l,updateAttedanceFields:w,destinationIndex:s}),e.jsx("table",{className:"text-xs mt-4 reimburse-form-detail font-thin",children:e.jsxs("tr",{children:[e.jsx("td",{className:"text-sm",children:"Detail Bussines Trip Allowance:"}),e.jsx("td",{})]})}),e.jsx(ke,{allowanceField:p,destinationIndex:s,form:l})]},s),e.jsx("table",{className:"w-full text-sm mt-10",children:e.jsxs("tr",{children:[e.jsx("td",{className:"w-[20%]",children:"Cash Advance"}),e.jsx("td",{className:"w-[80%] flex",children:T})]})})]})}function vt({allowanceField:l,destinationIndex:s,form:a,setTotalAllowance:h}){const m=a.watch(`destinations[${s}].allowances`),x=a.watch(`destinations[${s}].total_allowance`);return e.jsx(e.Fragment,{children:e.jsxs("table",{className:"w-full text-sm mt-10",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-[50%]",children:"Item"}),e.jsx("th",{className:"w-[50%]",children:"Sub Total"})]})}),e.jsx("tbody",{children:m.map((c,t)=>e.jsxs("tr",{children:[e.jsx("td",{children:c.name}),e.jsxs("td",{className:"flex justify-between pr-4",children:[e.jsx("span",{children:"IDR"}),e.jsx("span",{children:c.subtotal})]})]},c.id))}),e.jsx("tfoot",{className:"mt-4",children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("i",{children:"Total Allowance"})}),e.jsxs("td",{className:"flex justify-between pr-4",children:[e.jsx("span",{children:"IDR"}),e.jsx("span",{children:x})]})]})})]})})}function Ye({form:l,destinationIndex:s,detailAttedanceFields:a,updateAttedanceFields:h}){const m=l.watch(`destinations[${s}].detail_attedances`);return j.useEffect(()=>{},[m]),j.useEffect(()=>{},[a]),e.jsxs("table",{className:"text-xs mt-4 reimburse-form-detail font-thin",children:[e.jsx("tr",{children:e.jsx("td",{colSpan:2,children:e.jsx("div",{className:"mb-4 text-sm",children:"Detail Attedance: "})})}),e.jsx("tr",{children:e.jsx("td",{className:"overflow-x",children:e.jsxs("table",{className:"detail-attedance text-xs table-auto overflow-scroll w-full",children:[e.jsxs("thead",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Shift code"}),e.jsx("th",{children:"Shift Start"}),e.jsx("th",{children:"Shift End"}),e.jsx("th",{children:"Request Start Time"}),e.jsx("th",{children:"Request End Time"}),e.jsx("th",{children:"Start Time"}),e.jsx("th",{children:"End Time"})]}),e.jsx("tbody",{children:m.map((x,c)=>e.jsxs("tr",{children:[e.jsxs("td",{children:[C(x.date).format("DD/MM/YYYY"),e.jsx(g,{control:l.control,name:`destinations.${s}.detail_attedances.${c}.date`,render:({field:t})=>e.jsxs(f,{children:[e.jsx(_,{children:e.jsx(y,{defaultValue:C(t.value).format("YYYY-MM-DD"),onChange:t.onChange,type:"hidden"})}),e.jsx(v,{})]})})]}),e.jsxs("td",{children:[x.shift_code,e.jsx(g,{control:l.control,name:`destinations.${s}.detail_attedances.${c}.shift_code`,render:({field:t})=>e.jsxs(f,{children:[e.jsx(_,{children:e.jsx(y,{defaultValue:C(t.value).format("YYYY-MM-DD"),onChange:t.onChange,type:"hidden"})}),e.jsx(v,{})]})})]}),e.jsxs("td",{children:[x.shift_start,e.jsx(g,{control:l.control,name:`destinations.${s}.detail_attedances.${c}.shift_start`,render:({field:t})=>e.jsxs(f,{children:[e.jsx(_,{children:e.jsx(y,{defaultValue:C(t.value).format("YYYY-MM-DD"),onChange:t.onChange,type:"hidden"})}),e.jsx(v,{})]})})]}),e.jsxs("td",{children:[x.shift_end,e.jsx(g,{control:l.control,name:`destinations.${s}.detail_attedances.${c}.shift_end`,render:({field:t})=>e.jsxs(f,{children:[e.jsx(_,{children:e.jsx(y,{defaultValue:C(t.value).format("YYYY-MM-DD"),onChange:t.onChange,type:"hidden"})}),e.jsx(v,{})]})})]}),e.jsx("td",{children:e.jsx(g,{control:l.control,name:`destinations.${s}.detail_attedances.${c}.start_time`,render:({field:t})=>e.jsxs(f,{children:[e.jsx(_,{children:e.jsx(y,{defaultValue:t.value,onChange:t.onChange})}),e.jsx(v,{})]})})}),e.jsx("td",{children:e.jsx(g,{control:l.control,name:`destinations.${s}.detail_attedances.${c}.end_time`,render:({field:t})=>e.jsxs(f,{children:[e.jsx(_,{children:e.jsx(y,{defaultValue:t.value,onChange:t.onChange})}),e.jsx(v,{})]})})}),e.jsx("td",{children:e.jsx(g,{control:l.control,name:`destinations.${s}.detail_attedances.${c}.request_start_time`,render:({field:t})=>e.jsxs(f,{children:[e.jsx(_,{children:e.jsx(y,{defaultValue:t.value,onChange:t.onChange})}),e.jsx(v,{})]})})}),e.jsx("td",{children:e.jsx(g,{control:l.control,name:`destinations.${s}.detail_attedances.${c}.request_end_time`,render:({field:t})=>e.jsxs(f,{children:[e.jsx(_,{children:e.jsx(y,{defaultValue:t.value,onChange:t.onChange})}),e.jsx(v,{})]})})})]},x.index))})]})})})]})}function ke({form:l,destinationIndex:s,allowanceField:a}){const h=l.watch(`destinations[${s}].allowances`);console.log("detailAllowanceceWatch",h),j.useEffect(()=>{},[h]);const{fields:m,append:x,remove:c}=M({control:l.control,name:`destinations.${s}.other`}),t=W({control:l.control,name:`destinations.${s}.other`}),w=()=>(t||[]).reduce((D,p)=>{const u=Number((p==null?void 0:p.value)||0);return D+u},0),R=()=>{x({value:0})};return e.jsxs("table",{className:"w-full allowance-table",children:[h.map((D,p)=>e.jsx(Ve,{form:l,allowance:D,destinationIndex:s,allowanceIndex:p})),m.length===0&&e.jsx("tr",{children:e.jsx("td",{children:e.jsx(G,{type:"button",className:"text-xl",onClick:R,children:"+"})})}),m.map((D,p)=>e.jsxs("tr",{children:[e.jsx("td",{width:220,style:{verticalAlign:"middle"},className:"text-sm",children:"Other Allowance"}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:":"}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:e.jsx("span",{className:"text-sm",children:"IDR"})}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{control:l.control,name:`destinations.${s}.other[${p}].value`,render:({field:u})=>e.jsxs(f,{children:[e.jsx(_,{children:e.jsx(y,{type:"number",value:u.value??"",onChange:b=>{const A=b.target.value===""?void 0:Number(b.target.value);u.onChange(A)}})}),e.jsx(v,{})]})}),e.jsx("span",{className:"text-sm",children:"* 100%"})]})}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"text-sm",style:{padding:"2px 5px"},children:["= IDR ",w()]})})}),e.jsx("td",{children:e.jsx(G,{type:"button",className:"text-xs",onClick:()=>c(p),children:"X"})})]},p))]})}function Ve({form:l,allowance:s,destinationIndex:a,allowanceIndex:h}){const[m,x]=j.useState(!1);j.useState(0);const c=p=>{x(u=>!u)},t=W({control:l.control,name:`destinations[${a}].allowances[${h}].detail[0].request_price`}),w=W({control:l.control,name:`destinations[${a}].allowances[${h}].detail`}),R=()=>{if(s.type==="total")return parseFloat(t||0)*1;{let p=0;return w==null||w.forEach(u=>{const b=parseFloat(u.request_price||0);p+=b}),p}},D=(p,u)=>{const b=parseFloat(u),A=isNaN(b)?0:b,k=s.request_value;let N=!0;switch(k){case"unlimited":N=!0;break;case"fixed value":const F=s.subtotal;A!==F&&(alert(`Please enter the fixed value of IDR ${F}`),N=!1);break;case"up to max value":const T=s.subtotal;A>T&&(alert(`The value should not exceed IDR ${T}`),N=!1);break;default:N=!1}N&&l.setValue(`destinations[${a}].allowances[${h}].detail[${p}].request_price`,A)};return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{width:220,style:{verticalAlign:"middle"},className:"text-sm",children:s.name}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:":"}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:s.type=="total"?e.jsx("span",{className:"text-sm",children:"IDR"}):e.jsx("span",{})}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:s.type=="total"?e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{control:l.control,name:`destinations[${a}].allowances[${h}].detail[0].request_price`,render:({field:p})=>e.jsxs(f,{children:[e.jsx(_,{children:e.jsx(y,{value:p.value,onChange:u=>D(0,u.target.value)})}),e.jsx(v,{})]})}),e.jsx("span",{className:"text-sm",children:"* 100%"})]}):e.jsxs("span",{className:"text-sm",children:[" ",s.detail.length," Days * ",s.subtotal," * 100%"]})}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"text-sm total",style:{padding:"2px 5px"},children:["= IDR ",R()]})})}),s.type=="total"?e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"}}):e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},onClick:()=>c(),children:e.jsxs(G,{variant:"ghost",type:"button",size:"sm",className:"w-9 p-0",children:[e.jsx(Fe,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Toggle"})]})})]},s.id),m&&e.jsx(e.Fragment,{children:s.detail.map((p,u)=>e.jsxs("tr",{children:[e.jsxs("td",{className:"text-end",style:{verticalAlign:"middle"},children:[e.jsx("span",{className:"text-sm",children:C(p.date).format("DD/MM/YYYY")})," "]}),e.jsx("td",{style:{padding:"8px 2px",verticalAlign:"middle"},children:":"}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:e.jsx("span",{className:"text-sm",children:"IDR"})}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"},children:e.jsx("div",{className:"flex mt-1 text-sm justify-between items-center",children:e.jsx(g,{control:l.control,name:`destinations[${a}].allowances[${h}].detail[${u}].request_price`,render:({field:b})=>e.jsxs(f,{children:[e.jsx(_,{children:e.jsx(y,{value:b.value,onChange:A=>D(u,A.target.value)})}),e.jsx(v,{})]})})})}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"}}),e.jsx("td",{style:{verticalAlign:"middle",padding:"2px 5px"}})]},p.id))})]})}function wt({form:l,type:s,allowanceIndex:a,destinationIndex:h}){const{fields:m}=M({control:l.control,name:`destinations.${h}.allowances.${a}.detail`});return e.jsx(e.Fragment,{children:m.map((x,c)=>e.jsx(g,{control:l.control,name:`destinations.${h}.allowances.${c}.detail.${c}.request_price`,render:({field:t})=>e.jsxs(f,{children:[e.jsx(_,{children:e.jsx(y,{value:t.value,onChange:t.onChange})}),e.jsx(v,{})]})}))})}export{wt as AllowanceInputForm,Ve as AllowanceRowInput,Re as BussinesTripDestination,qe as BussinessDestinationForm,_t as BussinessTripFormV1,ke as DetailAllowance,Ye as DetailAttedances,vt as ResultTotalItem};
