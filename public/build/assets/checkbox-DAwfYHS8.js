import{r as o,j as b}from"./app-lowdYTlW.js";import{u as M}from"./index-DrKI-vNW.js";import{a as S,c as w}from"./index-fwwPj17Z.js";import{u as L}from"./index-Cl71D2Zz.js";import{u as F}from"./index-DKjJJS_Q.js";import{u as W,a as $}from"./index-DFhA67-R.js";import{P as A}from"./index-FsLhjpnp.js";import{c as R}from"./utils-_zAxyYmh.js";function B(e,t=[]){let n=[];function r(c,f){const i=o.createContext(f),u=n.length;n=[...n,f];const a=p=>{var v;const{scope:d,children:m,...h}=p,C=((v=d==null?void 0:d[e])==null?void 0:v[u])||i,k=o.useMemo(()=>h,Object.values(h));return b.jsx(C.Provider,{value:k,children:m})};a.displayName=c+"Provider";function l(p,d){var C;const m=((C=d==null?void 0:d[e])==null?void 0:C[u])||i,h=o.useContext(m);if(h)return h;if(f!==void 0)return f;throw new Error(`\`${p}\` must be used within \`${c}\``)}return[a,l]}const s=()=>{const c=n.map(f=>o.createContext(f));return function(i){const u=(i==null?void 0:i[e])||c;return o.useMemo(()=>({[`__scope${e}`]:{...i,[e]:u}}),[i,u])}};return s.scopeName=e,[r,H(s,...t)]}function H(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(c){const f=r.reduce((i,{useScope:u,scopeName:a})=>{const p=u(c)[`__scope${a}`];return{...i,...p}},{});return o.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return n.scopeName=t.scopeName,n}function K(e,t){return o.useReducer((n,r)=>t[n][r]??n,e)}var O=e=>{const{present:t,children:n}=e,r=q(t),s=typeof n=="function"?n({present:r.isPresent}):o.Children.only(n),c=M(r.ref,z(s));return typeof n=="function"||r.isPresent?o.cloneElement(s,{ref:c}):null};O.displayName="Presence";function q(e){const[t,n]=o.useState(),r=o.useRef({}),s=o.useRef(e),c=o.useRef("none"),f=e?"mounted":"unmounted",[i,u]=K(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const a=y(r.current);c.current=i==="mounted"?a:"none"},[i]),S(()=>{const a=r.current,l=s.current;if(l!==e){const d=c.current,m=y(a);e?u("MOUNT"):m==="none"||(a==null?void 0:a.display)==="none"?u("UNMOUNT"):u(l&&d!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,u]),S(()=>{if(t){let a;const l=t.ownerDocument.defaultView??window,p=m=>{const C=y(r.current).includes(m.animationName);if(m.target===t&&C&&(u("ANIMATION_END"),!s.current)){const k=t.style.animationFillMode;t.style.animationFillMode="forwards",a=l.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=k)})}},d=m=>{m.target===t&&(c.current=y(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{l.clearTimeout(a),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:o.useCallback(a=>{a&&(r.current=getComputedStyle(a)),n(a)},[])}}function y(e){return(e==null?void 0:e.animationName)||"none"}function z(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var P="Checkbox",[X,ie]=B(P),[V,G]=X(P),I=o.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:c,required:f,disabled:i,value:u="on",onCheckedChange:a,form:l,...p}=e,[d,m]=o.useState(null),h=M(t,x=>m(x)),C=o.useRef(!1),k=d?l||!!d.closest("form"):!0,[v=!1,E]=L({prop:s,defaultProp:c,onChange:a}),U=o.useRef(v);return o.useEffect(()=>{const x=d==null?void 0:d.form;if(x){const g=()=>E(U.current);return x.addEventListener("reset",g),()=>x.removeEventListener("reset",g)}},[d,E]),b.jsxs(V,{scope:n,state:v,disabled:i,children:[b.jsx(A.button,{type:"button",role:"checkbox","aria-checked":N(v)?"mixed":v,"aria-required":f,"data-state":_(v),"data-disabled":i?"":void 0,disabled:i,value:u,...p,ref:h,onKeyDown:w(e.onKeyDown,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:w(e.onClick,x=>{E(g=>N(g)?!0:!g),k&&(C.current=x.isPropagationStopped(),C.current||x.stopPropagation())})}),k&&b.jsx(J,{control:d,bubbles:!C.current,name:r,value:u,checked:v,required:f,disabled:i,form:l,style:{transform:"translateX(-100%)"},defaultChecked:N(c)?!1:c})]})});I.displayName=P;var j="CheckboxIndicator",T=o.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,c=G(j,n);return b.jsx(O,{present:r||N(c.state)||c.state===!0,children:b.jsx(A.span,{"data-state":_(c.state),"data-disabled":c.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});T.displayName=j;var J=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...c}=e,f=o.useRef(null),i=F(n),u=W(t);o.useEffect(()=>{const l=f.current,p=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(p,"checked").set;if(i!==n&&m){const h=new Event("click",{bubbles:r});l.indeterminate=N(n),m.call(l,N(n)?!1:n),l.dispatchEvent(h)}},[i,n,r]);const a=o.useRef(N(n)?!1:n);return b.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??a.current,...c,tabIndex:-1,ref:f,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function N(e){return e==="indeterminate"}function _(e){return N(e)?"indeterminate":e?"checked":"unchecked"}var D=I,Q=T;const Y=o.forwardRef(({className:e,...t},n)=>b.jsx(D,{ref:n,className:R("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:b.jsx(Q,{className:R("flex items-center justify-center text-current"),children:b.jsx($,{className:"h-4 w-4"})})}));Y.displayName=D.displayName;export{Y as C};
