import{a as y}from"./axiosInstance-DK0saYe0.js";import{r as n}from"./app-BFbXf0za.js";const O=()=>{const[c,h]=n.useState(),[g,u]=n.useState([]),[b,r]=n.useState(!1);return{dataDropdown:g,dropdownOptions:c,getDropdown:async(t,a,s)=>{var p,d,i,l;r(!0);try{const m=(await y.get("api/master/dropdown",{params:{name:a.name,id:a.id,search:a.search||"",tabelname:a.tabel,isNotNull:((p=a.where)==null?void 0:p.isNotNull)??"",key:((d=a.where)==null?void 0:d.key)??"",parameter:((i=a.where)==null?void 0:i.parameter)??"",groupBy:((l=a.where)==null?void 0:l.groupBy)??"",attribut:a.attribut??""},headers:{"Content-Type":"application/json"}})).data.data.map(e=>({label:a.isMapping?`${e.label} - ${e.value}`:e.label,value:e.value}));if(s&&t!==""){const e=s.map(o=>o.name===t?{...o,options:m}:o);h(e)}u(m),r(!1)}catch(w){console.error("Error fetching dropdown options:",w)}},isLoading:b}};export{O as u};
