import{a as O}from"./axiosInstance-DD8iEQY9.js";import{r as s}from"./app-B6mX289p.js";function D(n){return/^0+\d+$/.test(n)?n.replace(/^0+/,""):n}const x=(n="api/master/dropdown")=>{const[b,c]=s.useState(),[u,v]=s.useState([]),[V,t]=s.useState(!1);return{dataDropdown:u,dropdownOptions:b,getDropdown:async(p,e,l)=>{var d,i,h,w,g,m;t(!0);try{const y=(await O.get(n,{params:{name:e.name,id:e.id,search:e.search||"",tabelname:e.tabel,isNotNull:((d=e.where)==null?void 0:d.isNotNull)??"",key:((i=e.where)==null?void 0:i.key)??"",parameter:((h=e.where)==null?void 0:h.parameter)??"",declaration:e.declaration??"",groupBy:((w=e.where)==null?void 0:w.groupBy)??"",attribut:e.attribut??"",hasValueKey:((g=e.hasValue)==null?void 0:g.key)??"",hasValue:((m=e.hasValue)==null?void 0:m.value)??"",join:e.join??"",softDelete:e.softDelete??"",raw:e.raw??!1},headers:{"Content-Type":"application/json"}})).data.data.map(a=>{const o=e.hiddenZero?D(a.label):a.label,r=e.hiddenZero?D(a.value):a.value,N=e.idType==="string"?String(r):r;return{...a,label:e.isMapping?`${o} - ${r}`:o,value:N}});if(l&&p!==""){const a=l.map(o=>o.name===p?{...o,options:y}:o);c(a)}v(y),t(!1)}catch(f){console.error("Error fetching dropdown options:",f)}},isLoading:V}};export{x as u};
