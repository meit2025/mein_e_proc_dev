import{u as I,r as w,j as e}from"./app-U_zegbVk.js";import{F as R,a as n,b as o,d as i,e as d}from"./form-B67I_hmP.js";import{z as l,I as v,t as N}from"./index-B87xc01V.js";import{F as h,B as S}from"./button-DVWIOsCA.js";import{u as M}from"./index.esm-BF15fj1a.js";import{S as A}from"./scroll-area-DnPyJsOu.js";import{S as j,a as u,b as p,c as g,d as c}from"./select-ZQy3W_aL.js";import{a as y}from"./axiosInstance-dGRJnwR1.js";const _="/api/master/reimburse-type",L=`${_}/list`,P=`${_}/create`,q=a=>`${_}/detail/${a}`;function B({onSuccess:a,type:m=h.create,id:x,listMaterial:f}){var E=l.object({code:l.string().min(1,"Code is required"),name:l.string().min(1,"Name is required"),is_employee:l.boolean("Type of it is required"),material_group:l.string().min(1,"Material group required"),material_number:l.string().min(1,"Material number required")});let C={code:"",name:"",is_employee:!0};async function T(){let s=q(x);try{let r=await y.get(s);t.reset({code:r.data.data.code,name:r.data.data.name})}catch{}}const t=M({resolver:N(E),defaultValues:C}),{showToast:b}=I(),F=async s=>{try{const r=await y.post(P,s);a==null||a(!0),b(r.message,"success")}catch(r){a==null||a(!1),b(r.message,"error")}};return w.useEffect(()=>{x&&m==h.edit&&T()},[x,m]),e.jsx(A,{className:"h-[600px] w-full",children:e.jsx(R,{...t,children:e.jsxs("form",{onSubmit:t.handleSubmit(F),children:[e.jsxs("table",{className:"text-xs mt-4 table font-thin",children:[e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("td",{children:e.jsx(n,{control:t.control,disabled:m==h.edit,name:"code",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{children:e.jsx(v,{type:"text",placeholder:"Insert code",...s,value:s.value||"",onChange:r=>s.onChange(r.target.value)})}),e.jsx(d,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Name"}),e.jsx("td",{children:e.jsx(n,{control:t.control,name:"name",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{children:e.jsx(v,{type:"text",...s,value:s.value||"",onChange:r=>s.onChange(r.target.value)})}),e.jsx(d,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"For"}),e.jsx("td",{children:e.jsx(n,{control:t.control,name:"is_employee",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{children:e.jsxs(j,{onValueChange:r=>s.onChange(r==="true"),value:s.value?"true":"false",children:[e.jsx(u,{className:"w-[200px]",children:e.jsx(p,{placeholder:"-"})}),e.jsxs(g,{children:[e.jsx(c,{value:"true",children:"Employee"},"is_employee"),e.jsx(c,{value:"false",children:"Family"},"is_employee")]})]})}),e.jsx(d,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Material Group"}),e.jsx("td",{children:e.jsx(n,{control:t.control,name:"material_group",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{children:e.jsxs(j,{onValueChange:r=>s.onChange(r),value:s.value,children:[e.jsx(u,{className:"w-[200px]",children:e.jsx(p,{placeholder:"-"})}),e.jsx(g,{children:f.map(r=>e.jsx(c,{value:r.material_group,children:r.material_group},r.id))})]})}),e.jsx(d,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Material Number"}),e.jsx("td",{children:e.jsx(n,{control:t.control,name:"material_number",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{children:e.jsxs(j,{onValueChange:r=>s.onChange(r),value:s.value,children:[e.jsx(u,{className:"w-[200px]",children:e.jsx(p,{placeholder:"-"})}),e.jsx(g,{children:f.map(r=>e.jsx(c,{value:r.material_number,children:r.material_number},r.id))})]})}),e.jsx(d,{})]})})})]})]}),e.jsx("div",{className:"flex justify-end items-center",children:e.jsx(S,{type:"submit",children:"Save"})})]})})})}const k=Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"}));export{L as G,B as R,k as f};
