import{r as y,e as O,R as n,j as m}from"./app-Cbzr8hab.js";import{a as _}from"./index-B9XseOWr.js";import{c as j}from"./index-qt_u2_SO.js";import{u as E,S as v}from"./index-CVx7MFg4.js";var L=O.useId||(()=>{}),P=0;function $(s){const[l,u]=y.useState(L());return _(()=>{u(f=>f??String(P++))},[s]),l?`radix-${l}`:""}function b(s){const l=s+"CollectionProvider",[u,f]=j(l),[A,d]=u(l,{collectionRef:{current:null},itemMap:new Map}),p=c=>{const{scope:e,children:i}=c,t=n.useRef(null),o=n.useRef(new Map).current;return m.jsx(A,{scope:e,itemMap:o,collectionRef:t,children:i})};p.displayName=l;const C=s+"CollectionSlot",R=n.forwardRef((c,e)=>{const{scope:i,children:t}=c,o=d(C,i),r=E(e,o.collectionRef);return m.jsx(v,{ref:r,children:t})});R.displayName=C;const x=s+"CollectionItemSlot",I="data-radix-collection-item",S=n.forwardRef((c,e)=>{const{scope:i,children:t,...o}=c,r=n.useRef(null),M=E(e,r),a=d(x,i);return n.useEffect(()=>(a.itemMap.set(r,{ref:r,...o}),()=>void a.itemMap.delete(r))),m.jsx(v,{[I]:"",ref:M,children:t})});S.displayName=x;function N(c){const e=d(s+"CollectionConsumer",c);return n.useCallback(()=>{const t=e.collectionRef.current;if(!t)return[];const o=Array.from(t.querySelectorAll(`[${I}]`));return Array.from(e.itemMap.values()).sort((a,T)=>o.indexOf(a.ref.current)-o.indexOf(T.ref.current))},[e.collectionRef,e.itemMap])}return[{Provider:p,Slot:R,ItemSlot:S},N,f]}export{b as c,$ as u};
