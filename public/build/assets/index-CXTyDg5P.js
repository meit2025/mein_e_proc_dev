import{r as s,c as S,j as C}from"./app-BxXg7OWH.js";import{u as E}from"./index-D50HzkVz.js";import{a as A}from"./index-D_4RQDeC.js";function O(e,n){return s.useReducer((t,o)=>n[t][o]??t,e)}var P=e=>{const{present:n,children:t}=e,o=M(n),c=typeof t=="function"?t({present:o.isPresent}):s.Children.only(t),m=E(o.ref,h(c));return typeof t=="function"||o.isPresent?s.cloneElement(c,{ref:m}):null};P.displayName="Presence";function M(e){const[n,t]=s.useState(),o=s.useRef({}),c=s.useRef(e),m=s.useRef("none"),a=e?"mounted":"unmounted",[u,i]=O(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const r=x(o.current);m.current=u==="mounted"?r:"none"},[u]),A(()=>{const r=o.current,p=c.current;if(p!==e){const d=m.current,N=x(r);e?i("MOUNT"):N==="none"||(r==null?void 0:r.display)==="none"?i("UNMOUNT"):i(p&&d!==N?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,i]),A(()=>{if(n){const r=f=>{const N=x(o.current).includes(f.animationName);f.target===n&&N&&S.flushSync(()=>i("ANIMATION_END"))},p=f=>{f.target===n&&(m.current=x(o.current))};return n.addEventListener("animationstart",p),n.addEventListener("animationcancel",r),n.addEventListener("animationend",r),()=>{n.removeEventListener("animationstart",p),n.removeEventListener("animationcancel",r),n.removeEventListener("animationend",r)}}else i("ANIMATION_END")},[n,i]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:s.useCallback(r=>{r&&(o.current=getComputedStyle(r)),t(r)},[])}}function x(e){return(e==null?void 0:e.animationName)||"none"}function h(e){var o,c;let n=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,t=n&&"isReactWarning"in n&&n.isReactWarning;return t?e.ref:(n=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}function D(e,n=[]){let t=[];function o(m,a){const u=s.createContext(a),i=t.length;t=[...t,a];function r(f){const{scope:d,children:N,...l}=f,g=(d==null?void 0:d[e][i])||u,v=s.useMemo(()=>l,Object.values(l));return C.jsx(g.Provider,{value:v,children:N})}function p(f,d){const N=(d==null?void 0:d[e][i])||u,l=s.useContext(N);if(l)return l;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${m}\``)}return r.displayName=m+"Provider",[r,p]}const c=()=>{const m=t.map(a=>s.createContext(a));return function(u){const i=(u==null?void 0:u[e])||m;return s.useMemo(()=>({[`__scope${e}`]:{...u,[e]:i}}),[u,i])}};return c.scopeName=e,[o,R(c,...n)]}function R(...e){const n=e[0];if(e.length===1)return n;const t=()=>{const o=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(m){const a=o.reduce((u,{useScope:i,scopeName:r})=>{const f=i(m)[`__scope${r}`];return{...u,...f}},{});return s.useMemo(()=>({[`__scope${n.scopeName}`]:a}),[a])}};return t.scopeName=n.scopeName,t}var T=s.createContext(void 0);function y(e){const n=s.useContext(T);return e||n||"ltr"}export{P,D as c,y as u};
