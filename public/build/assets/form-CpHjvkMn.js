<<<<<<<< HEAD:public/build/assets/form-BWVNAr5I.js
import{u as V,r as B,j as e}from"./app-Dl3mC2VQ.js";import{d as E,F as i,a as c,b as d,c as m}from"./form-C3rNqZJn.js";import{z as r,t as _}from"./index-__83kbHe.js";import{B as q}from"./button-DvWjSDuF.js";import{u as M}from"./index.esm-DQyYzcJ5.js";import{S as O}from"./scroll-area-BavqQmjx.js";import{S as u,a as g,b as f,c as w,d as x}from"./select-D_l8_Usr.js";import{I as v}from"./input-qJi7gJyj.js";import{a as p}from"./axiosInstance-DwOJNicu.js";import{F as o}from"./utils-DhHKPClG.js";import{M as D}from"./MultiSelect-dbTa2UML.js";import"./app-DQK4SJPx.js";import"./index-vCZuq4nY.js";import"./index-FOOVUSD-.js";import"./index-wQw_gT54.js";import"./index-Bb4qSo10.js";import"./createLucideIcon-DU8iTkJL.js";import"./index-fC5b9XiY.js";import"./index-DPl2CAmI.js";import"./index-BgZA09Rg.js";import"./index-BdQq_4o_.js";import"./index-AgfJ5WpX.js";import"./index-C-gYGA-n.js";import"./Combination-BG7CjZ90.js";import"./index-C-C0eISU.js";import"./index-BY9oDFrn.js";import"./index-Cz6BBZXV.js";import"./checkbox-BNY3rd-Q.js";function pe({onSuccess:n,type:l=o.create,editUrl:y,detailUrl:C,createUrl:T,id:L,listAllowanceModel:N}){const S=r.object({code:r.string().min(1,"Code is required"),name:r.string().min(1,"Name is required"),all:r.boolean().optional(),allowances:r.array(r.number()).optional(),attedance_status:r.string().min(1,"Attedance Status is required"),type:r.string().min(1,"Type is required")}),b={code:"",name:"",all:!1,allowances:[],attedance_status:"",type:""};async function F(){try{const t=await p.get(C??""),s=t.data.data.purpose,j=t.data.data.allowances;console.log("allowances",j),a.reset({code:s.code,name:s.name,attedance_status:s.attedance_status,type:s.type,allowances:j.map(A=>parseInt(A))})}catch{}}const a=M({resolver:_(S),defaultValues:b}),{showToast:h}=V(),I=async t=>{console.log(t);try{let s=null;l===o.edit?s=await p.put(y??"",t):s=await p.post(T??"",t),console.log(s,"response"),h("success","success"),n==null||n(!0)}catch{n==null||n(!1),h("Please Check the input","error")}};return B.useEffect(()=>{(l===o.detail||l===o.edit)&&F()},[l]),e.jsx(O,{className:"h-[600px] w-full",children:e.jsx(E,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(I),children:[e.jsxs("table",{className:"text-xs mt-4 table font-thin",children:[e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("td",{children:e.jsx(i,{control:a.control,name:"code",render:({field:t})=>e.jsxs(c,{children:[e.jsx(d,{children:e.jsx(v,{type:"text",readOnly:l===o.edit,placeholder:"Insert code",...t,value:t.value||"",onChange:s=>t.onChange(s.target.value)})}),e.jsx(m,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Name"}),e.jsx("td",{children:e.jsx(i,{control:a.control,name:"name",render:({field:t})=>e.jsxs(c,{children:[e.jsx(d,{children:e.jsx(v,{type:"text",...t,value:t.value||"",onChange:s=>t.onChange(s.target.value)})}),e.jsx(m,{})]})})})]}),e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Allowances ",a.getValues("allowances").length]}),e.jsx("td",{children:e.jsx(D,{value:a.getValues("allowances"),id:"id",label:"name",options:N,onSelect:t=>{a.setValue("allowances",t.map(s=>s.id))}})})]}),e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Attendance Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("td",{children:e.jsx(i,{control:a.control,name:"attedance_status",render:({field:t})=>e.jsxs(c,{children:[e.jsx(d,{children:e.jsxs(u,{onValueChange:s=>t.onChange(s),value:t.value,children:[e.jsx(g,{className:"w-[200px]",children:e.jsx(f,{placeholder:"Select Attedance status"})}),e.jsx(w,{children:e.jsx(x,{value:"Business Trip",children:"Business Trip (BST)"},"BST")})]})}),e.jsx(m,{})]})})})]}),e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("td",{children:e.jsx(i,{control:a.control,name:"type",render:({field:t})=>e.jsxs(c,{children:[e.jsx(d,{children:e.jsxs(u,{onValueChange:s=>t.onChange(s),value:t.value,children:[e.jsx(g,{className:"w-[200px]",children:e.jsx(f,{placeholder:"Select Type"})}),e.jsxs(w,{children:[e.jsx(x,{value:"international",children:"INTERNATIONAL"},"international"),e.jsx(x,{value:"domestic",children:"DOMESTIC"},"domestic"),e.jsx(x,{value:"local",children:"LOCAL"},"local")]})]})}),e.jsx(m,{})]})})})]})]}),e.jsx("div",{className:"flex justify-end items-center",children:e.jsx(q,{type:"submit",children:"Save"})})]})})})}export{pe as default};
========
import{u as V,r as B,j as e}from"./app-CRZSyU7y.js";import{d as E,F as i,a as c,b as d,c as m}from"./form-Cpcpwa9p.js";import{z as r,t as _}from"./index-n3xXpRLM.js";import{B as q}from"./button-DIWgCCtO.js";import{u as M}from"./index.esm-CmEQgvbl.js";import{S as O}from"./scroll-area-BfXUyJwy.js";import{S as u,a as g,b as f,c as w,d as x}from"./select-BB2tkCWj.js";import{I as v}from"./input-D8-WBRDB.js";import{a as p}from"./axiosInstance-BwJzH06E.js";import{F as o}from"./utils-8lrDxaQM.js";import{M as D}from"./MultiSelect-DGw0hei9.js";import"./app-DQK4SJPx.js";import"./index-Dd4o1y-Z.js";import"./index-Clv_3-XD.js";import"./index-Bomi0j5T.js";import"./index-Bb4qSo10.js";import"./createLucideIcon-CNdOLqRo.js";import"./index-DzpDBeeT.js";import"./index-CkkkpsvQ.js";import"./index-Dc75ia_V.js";import"./index-BdQq_4o_.js";import"./index-CnB6ciUC.js";import"./index-GUl_rCOr.js";import"./Combination-DWkLk8jZ.js";import"./index-vo1TCWAI.js";import"./index-DfS4g21c.js";import"./index-DnqvCqSW.js";import"./checkbox-DbQvlGbN.js";function pe({onSuccess:n,type:l=o.create,editUrl:y,detailUrl:C,createUrl:T,id:L,listAllowanceModel:N}){const S=r.object({code:r.string().min(1,"Code is required"),name:r.string().min(1,"Name is required"),all:r.boolean().optional(),allowances:r.array(r.number()).optional(),attedance_status:r.string().min(1,"Attedance Status is required"),type:r.string().min(1,"Type is required")}),b={code:"",name:"",all:!1,allowances:[],attedance_status:"",type:""};async function F(){try{const t=await p.get(C??""),s=t.data.data.purpose,j=t.data.data.allowances;console.log("allowances",j),a.reset({code:s.code,name:s.name,attedance_status:s.attedance_status,type:s.type,allowances:j.map(A=>parseInt(A))})}catch{}}const a=M({resolver:_(S),defaultValues:b}),{showToast:h}=V(),I=async t=>{console.log(t);try{let s=null;l===o.edit?s=await p.put(y??"",t):s=await p.post(T??"",t),console.log(s,"response"),h("success","success"),n==null||n(!0)}catch{n==null||n(!1),h("Please Check the input","error")}};return B.useEffect(()=>{(l===o.detail||l===o.edit)&&F()},[l]),e.jsx(O,{className:"h-[600px] w-full",children:e.jsx(E,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(I),children:[e.jsxs("table",{className:"text-xs mt-4 table font-thin",children:[e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("td",{children:e.jsx(i,{control:a.control,name:"code",render:({field:t})=>e.jsxs(c,{children:[e.jsx(d,{children:e.jsx(v,{type:"text",readOnly:l===o.edit,placeholder:"Insert code",...t,value:t.value||"",onChange:s=>t.onChange(s.target.value)})}),e.jsx(m,{})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{width:200,children:"Name"}),e.jsx("td",{children:e.jsx(i,{control:a.control,name:"name",render:({field:t})=>e.jsxs(c,{children:[e.jsx(d,{children:e.jsx(v,{type:"text",...t,value:t.value||"",onChange:s=>t.onChange(s.target.value)})}),e.jsx(m,{})]})})})]}),e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Allowances ",a.getValues("allowances").length]}),e.jsx("td",{children:e.jsx(D,{value:a.getValues("allowances"),id:"id",label:"name",options:N,onSelect:t=>{a.setValue("allowances",t.map(s=>s.id))}})})]}),e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Attendance Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("td",{children:e.jsx(i,{control:a.control,name:"attedance_status",render:({field:t})=>e.jsxs(c,{children:[e.jsx(d,{children:e.jsxs(u,{onValueChange:s=>t.onChange(s),value:t.value,children:[e.jsx(g,{className:"w-[200px]",children:e.jsx(f,{placeholder:"Select Attedance status"})}),e.jsx(w,{children:e.jsx(x,{value:"Business Trip",children:"Business Trip (BST)"},"BST")})]})}),e.jsx(m,{})]})})})]}),e.jsxs("tr",{children:[e.jsxs("td",{width:200,children:["Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("td",{children:e.jsx(i,{control:a.control,name:"type",render:({field:t})=>e.jsxs(c,{children:[e.jsx(d,{children:e.jsxs(u,{onValueChange:s=>t.onChange(s),value:t.value,children:[e.jsx(g,{className:"w-[200px]",children:e.jsx(f,{placeholder:"Select Type"})}),e.jsxs(w,{children:[e.jsx(x,{value:"international",children:"INTERNATIONAL"},"international"),e.jsx(x,{value:"domestic",children:"DOMESTIC"},"domestic"),e.jsx(x,{value:"local",children:"LOCAL"},"local")]})]})}),e.jsx(m,{})]})})})]})]}),e.jsx("div",{className:"flex justify-end items-center",children:e.jsx(q,{type:"submit",children:"Save"})})]})})})}export{pe as default};
>>>>>>>> 0f7230853e2892350d74393568329de8e68d7f73:public/build/assets/form-CpHjvkMn.js
